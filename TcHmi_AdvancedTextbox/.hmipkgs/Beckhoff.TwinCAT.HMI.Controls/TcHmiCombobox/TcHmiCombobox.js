var TcHmi,__extends=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();!function(e){!function(t){!function(t){var o=function(t){function o(o,n,r){var i=t.call(this,o,n,r)||this;return i.__locked=!1,i.__srcData=null,i.__data=[],i.__dropDownboxOpen=!1,i.__resizedEventDestroyEvent=null,i.__movedEventDestroyEvent=null,i.__triggerUIFinishedOnBlur=!0,i.__touches=[],i.__onResolverForContentPaddingWatchCallback=function(t){!1===i.__isAttached&&i.__suspendObjectResolver("contentPadding"),t.error===e.Errors.NONE?tchmi_equal(t.value,i.__contentPadding)||(i.__contentPadding=t.value,e.EventProvider.raise(i.__id+".onFunctionResultChanged",["getContentPadding"]),i.__processContentPadding()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+i.getId()+", Attribute=ContentPadding] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},i.__onResolverForDropDownHighlightColorWatchCallback=function(t){!1===i.__isAttached&&i.__suspendObjectResolver("dropDownHighlightColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,i.__dropDownHighlightColor)||(i.__dropDownHighlightColor=t.value,e.EventProvider.raise(i.__id+".onFunctionResultChanged",["getDropDownHighlightColor"]),i.__processDropDownHighlightColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+i.getId()+", Attribute=DropDownHighlightColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},i.__onResolverForDropDownHightlightTextColorWatchCallback=function(t){!1===i.__isAttached&&i.__suspendObjectResolver("dropDownHightlightTextColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,i.__dropDownHighlightTextColor)||(i.__dropDownHighlightTextColor=t.value,e.EventProvider.raise(i.__id+".onFunctionResultChanged",["getDropDownHighlightTextColor"]),i.__processDropDownHighlightTextColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+i.getId()+", Attribute=DropDownHighlightTextColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},i.__onResolverForDropDownToggleButtonBackgroundColorWatchCallback=function(t){!1===i.__isAttached&&i.__suspendObjectResolver("dropDownToggleButtonBackgroundColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,i.__dropDownToggleButtonBackgroundColor)||(i.__dropDownToggleButtonBackgroundColor=t.value,e.EventProvider.raise(i.__id+".onFunctionResultChanged",["getDropDownToggleButtonBackgroundColor"]),i.__processDropDownToggleButtonBackgroundColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+i.getId()+", Attribute=DropDownToggleButtonBackgroundColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},i.__onResolverForDropDownToggleButtonArrowColorWatchCallback=function(t){!1===i.__isAttached&&i.__suspendObjectResolver("dropDownToggleButtonArrowColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,i.__dropDownToggleButtonArrowColor)||(i.__dropDownToggleButtonArrowColor=t.value,e.EventProvider.raise(i.__id+".onFunctionResultChanged",["getDropDownToggleButtonArrowColor"]),i.__processDropDownToggleButtonArrowColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+i.getId()+", Attribute=DropDownToggleButtonArrowColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},i.__onResolverForTextColorWatchCallback=function(t){!1===i.__isAttached&&i.__suspendObjectResolver("textColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,i.__textColor)||(i.__textColor=t.value,e.EventProvider.raise(i.__id+".onFunctionResultChanged",["getTextColor"]),i.__processTextColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+i.getId()+", Attribute=TextColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},i.__onResolverForSrcDataWatchCallback=function(t){!1===i.__isAttached&&i.__suspendObjectResolver("srcData"),t.error===e.Errors.NONE?tchmi_equal(t.value,i.__srcData)||(i.__srcData=t.value||null,e.EventProvider.raise(i.__id+".onFunctionResultChanged",["getSrcData"]),i.__processSrcData()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+i.getId()+", Attribute=SrcData] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},i.__documentFocusout=function(t){!i.__dropDownboxOpen||i.__element[0].contains(t.target)||i.__elementDropdown[0].contains(t.target)||(i.__setDropDownboxOpen(!1),e.EventProvider.raise(i.__id+".onUserInteractionCanceled"))},i.__resizeDropDownboxCb=function(){var t=document.documentElement.getBoundingClientRect(),o=i.__element[0].getBoundingClientRect(),n=i.__elementDropdown[0].getBoundingClientRect(),r={top:o.top+o.height+"px",left:o.left+"px",right:null,"min-width":o.width+"px"};t.height-o.bottom<n.height&&o.top>=n.height?(r.top=o.top-n.height+"px",i.__elementDropdown[0].classList.add("above-control")):i.__elementDropdown[0].classList.remove("above-control"),t.width-o.left<n.width&&o.right>=n.width&&(r.left=null,r.right=t.width-o.right+"px"),e.StyleProvider.setSimpleElementStyle(i.__elementDropdown,r)},i.__onResolverForDropDownTextColorWatchCallback=function(t){!1===i.__isAttached&&i.__suspendObjectResolver("dropDownTextColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,i.__dropDownTextColor)||(i.__dropDownTextColor=t.value,e.EventProvider.raise(i.__id+".onFunctionResultChanged",["getDropDownTextColor"]),i.__processDropDownTextColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+i.getId()+", Attribute=DropDownTextColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},i.__onResolverForDropDownBackgroundColorWatchCallback=function(t){!1===i.__isAttached&&i.__suspendObjectResolver("dropDownBackgroundColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,i.__dropDownBackgroundColor)||(i.__dropDownBackgroundColor=t.value,e.EventProvider.raise(i.__id+".onFunctionResultChanged",["getDropDownBackgroundColor"]),i.__processDropDownBackgroundColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+i.getId()+", Attribute=DropDownBackgroundColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},i.__evtHandlerFocusin=i.__onFocusInTextbox(),i.__evtHandlerFocusout=i.__onFocusOutTextbox(),i.__evtHandlerKeydown=i.__onKeydownTextbox(),i.__evtHandlerInput=i.__onInputTextbox(),i.__evtHandlerPaste=i.__onPasteTextbox(),i.__evtHandlerCut=i.__onCutTextbox(),i.__evtHandlerMousedownCombobox=i.__onMousedown(),i.__evtHandlerClick=i.__onItemClick(),i.__evtHandlerMouseEnter=i.__onMouseEnter(),i.__evtHandlerMouseLeave=i.__onMouseLeave(),i}return __extends(o,t),o.prototype.__previnit=function(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template"),0===this.__elementTemplateRoot.length&&(this.__elementTemplateRoot=this.__element.find(".tchmi-combobox-template")),this.__elementSelect=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-select"),0===this.__elementSelect.length&&(this.__elementSelect=this.__elementTemplateRoot.find(".tchmi-combobox-template-select")),this.__elementText=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-select-content"),0===this.__elementText.length&&(this.__elementText=this.__elementTemplateRoot.find(".tchmi-combobox-template-select-content")),this.__elementDropdownToggleButton=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-button"),0===this.__elementTemplateRoot.length&&(this.__elementTemplateRoot=this.__element.find(".tchmi-combobox-template-button")),this.__elementFocusBorder=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-focus-border"),0===this.__elementFocusBorder.length&&(this.__elementFocusBorder=this.__elementTemplateRoot.find(".tchmi-combobox-template-focus-border")),this.__elementDropdown=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown"),0===this.__elementDropdown.length&&(this.__elementDropdown=this.__elementTemplateRoot.find("..tchmi-combobox-template-dropdown")),0===this.__elementTemplateRoot.length||0===this.__elementSelect.length||0===this.__elementText.length||0===this.__elementDropdownToggleButton.length||0===this.__elementFocusBorder.length||0===this.__elementDropdown.length)throw new Error("Invalid Template.html");t.prototype.__previnit.call(this)},o.prototype.__init=function(){t.prototype.__init.call(this);var e={passive:!0,capture:!1};this.__elementSelect[0].addEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e),this.__elementDropdownToggleButton[0].addEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e);for(var o=this.__elementDropdown[0].children,n=0,r=o.length;n<r;n++)o[n].addEventListener("click",this.__evtHandlerClick,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e),o[n].addEventListener("mouseenter",this.__evtHandlerMouseEnter,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e),o[n].addEventListener("mouseleave",this.__evtHandlerMouseLeave,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&e)},o.prototype.__attach=function(){t.prototype.__attach.call(this)},o.prototype.__detach=function(){t.prototype.__detach.call(this)},o.prototype.destroy=function(){if(!this.__keepAlive){e.Engineering.ErrorPane.remove("E_COMBOBOX["+this.getId()+"]_SRCDATA_ERROR");var o={passive:!0,capture:!1};this.__elementSelect[0].removeEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&o),this.__elementDropdownToggleButton[0].removeEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&o);for(var n=this.__elementDropdown[0].children,r=0,i=n.length;r<i;r++)n[r].removeEventListener("click",this.__evtHandlerClick,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&o),n[r].removeEventListener("mouseenter",this.__evtHandlerMouseEnter,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&o),n[r].removeEventListener("mouseleave",this.__evtHandlerMouseLeave,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&o);this.__elementTemplateRoot[0].removeEventListener("focusin",this.__evtHandlerFocusin,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&o),this.__elementTemplateRoot[0].removeEventListener("focusout",this.__evtHandlerFocusout,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&o),this.__elementText[0].removeEventListener("keydown",this.__evtHandlerKeydown,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!1,capture:!1}),this.__elementText[0].removeEventListener("input",this.__evtHandlerInput,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&o),this.__elementText[0].removeEventListener("paste",this.__evtHandlerPaste,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&o),this.__elementText[0].removeEventListener("cut",this.__evtHandlerCut,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&o),t.prototype.destroy.call(this)}},o.prototype.__onMousedown=function(){var t=this;return function(o){!0===e.Access.checkAccess(t,"operate")&&!1!==t.getIsEnabled()&&("mousedown"===o.type&&0!==o.button||t.__setDropDownboxOpen())}},o.prototype.__onItemClick=function(){var t=this;return function(o){if(!0===e.Access.checkAccess(t,"operate")&&!1!==t.getIsEnabled()){var n=parseInt(o.target.dataset.index||"-1",10);t.__oldText=t.__text,t.__text="",t.setSelectedIndex(n),e.EventProvider.raise(t.__id+".onUserInteractionFinished"),t.__setDropDownboxOpen(!1)}}},o.prototype.__onMouseEnter=function(){var e=this;return function(t){e.__hoverComboboxItem(t.target,!0)}},o.prototype.__onMouseLeave=function(){var e=this;return function(t){e.__hoverComboboxItem(t.target,!1)}},o.prototype.__onTouchstart=function(){var t=this;return function(o){if(t.getIsEnabled()&&e.Access.checkAccess(t,"operate")){var n=Array.prototype.slice.apply(o.changedTouches).filter(function(e){return e.target===o.target});0!==n.length&&(t.__touches=t.__touches.concat(n.map(function(e){return{id:e.identifier,originalX:e.clientX,originalY:e.clientY,element:e.target}})),n.forEach(function(e){return t.__hoverComboboxItem(e.target,!0)}))}}},o.prototype.__hoverComboboxItem=function(t,o){t.classList.contains("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element")&&t.classList.contains("tchmi-combobox-template-dropdown-element")&&(o?(t.classList.add("hover"),e.StyleProvider.processBackgroundColor(t,this.__dropDownHighlightColor),e.StyleProvider.processTextColor(t,this.__dropDownHighlightTextColor)):this.__touches.some(function(e){return e.element===t})||(t.classList.remove("hover"),e.StyleProvider.processBackgroundColor(t,this.__dropDownBackgroundColor),e.StyleProvider.processTextColor(t,this.__dropDownTextColor)))},o.prototype.__onKeydownTextbox=function(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.Access.checkAccess(t,"operate"))return;if(!1===t.getIsEnabled())return;if(t.__triggerUIFinishedOnBlur=!0,"Escape"===o.key)t.__setText(t.__oldText),t.__elementText.val(t.__oldText),t.__triggerUIFinishedOnBlur=!1,e.EventProvider.raise(t.__id+".onUserInteractionCanceled");else if("Enter"===o.key){var text=t.__elementText.val();t.__triggerUIFinishedOnBlur=!1,text!==t.__oldText&&t.__setText(text),e.EventProvider.raise(t.__id+".onUserInteractionFinished"),t.__elementText.blur(),o.preventDefault()}}}},o.prototype.__onInputTextbox=function(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.Access.checkAccess(t,"operate"))return;if(!1===t.getIsEnabled())return;t.__triggerUIFinishedOnBlur=!0}}},o.prototype.__onPasteTextbox=function(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.System.Services.accessManager.checkAccess(t,"operate"))return;if(!1===t.getIsEnabled())return;t.__triggerUIFinishedOnBlur=!0}}},o.prototype.__onCutTextbox=function(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.Access.checkAccess(t,"operate"))return;if(!1===t.getIsEnabled())return;t.__triggerUIFinishedOnBlur=!0}}},o.prototype.__onFocusInTextbox=function(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.Access.checkAccess(t,"operate"))return;if(!1===t.getIsEnabled())return;t.__triggerUIFinishedOnBlur=!0,t.__oldText=t.__text,""===t.__text&&t.__elementText.val(""),t.__elementFocusBorder[0].classList.add("tchmi-focus"),e.EventProvider.raise(t.__id+".onFocusIn",o),t.__elementText[0]===document.activeElement&&t.__lock()}}},o.prototype.__onFocusOutTextbox=function(){var t=this;return function(o){if(t.__allowTextInput){if(!0!==e.Access.checkAccess(t,"operate"))return;if(!1===t.getIsEnabled())return;t.__unlock();var text=t.__elementText.val();text!==t.__oldText&&t.__setText(text),t.__elementFocusBorder[0].classList.remove("tchmi-focus"),e.EventProvider.raise(t.__id+".onFocusOut",o),t.__triggerUIFinishedOnBlur&&e.EventProvider.raise(t.__id+".onUserInteractionFinished"),t.__triggerUIFinishedOnBlur=!0}}},o.prototype.setComboboxText=function(valueNew){var t=e.ValueConverter.toString(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ComboboxText")),t!==this.__comboboxText&&(this.__comboboxText=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getComboboxText"]),this.__processComboboxText())},o.prototype.getComboboxText=function(){return this.__comboboxText},o.prototype.__processComboboxText=function(){var e,t;this.__allowTextInput?(""!==this.__text||this.__locked||this.__elementText.val(null!=(e=this.__comboboxText)?e:""),this.__elementText.blur()):(null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length)&&(this.__elementText[0].textContent=null!=(t=this.__comboboxText)?t:"")},o.prototype.setTextHorizontalAlignment=function(valueNew){var t=e.ValueConverter.toHorizontalAlignment(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextHorizontalAlignment")),t!==this.__textHorizontalAlignment&&(this.__textHorizontalAlignment=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextHorizontalAlignment"]),this.__processTextHorizontalAlignment())},o.prototype.getTextHorizontalAlignment=function(){return this.__textHorizontalAlignment},o.prototype.__processTextHorizontalAlignment=function(){switch(this.__textHorizontalAlignment){case void 0:return;case"Left":this.__elementSelect[0].style.textAlign="left";break;case"Center":this.__elementSelect[0].style.textAlign="center";break;case"Right":this.__elementSelect[0].style.textAlign="right";break;default:this.__elementSelect[0].style.textAlign=""}},o.prototype.setContentPadding=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ContentPadding"));var o=this.__objectResolvers.get("contentPadding");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var n=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("contentPadding",{resolver:n,watchCallback:this.__onResolverForContentPaddingWatchCallback,watchDestroyer:n.watch(this.__onResolverForContentPaddingWatchCallback)})},o.prototype.getContentPadding=function(){return this.__contentPadding},o.prototype.__processContentPadding=function(){void 0!==this.__contentPadding&&e.StyleProvider.processContentPadding(this.__elementText,this.__contentPadding)},o.prototype.__processBackgroundColor=function(){void 0!==this.__background.color&&e.StyleProvider.processBackgroundColor(this.__elementSelect,this.__background.color)},o.prototype.setDropDownHighlightColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownHighlightColor"));var o=this.__objectResolvers.get("dropDownHighlightColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var n=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownHighlightColor",{resolver:n,watchCallback:this.__onResolverForDropDownHighlightColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForDropDownHighlightColorWatchCallback)})},o.prototype.getDropDownHighlightColor=function(){return this.__dropDownHighlightColor},o.prototype.__processDropDownHighlightColor=function(){},o.prototype.setDropDownHighlightTextColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownHighlightTextColor"));var o=this.__objectResolvers.get("dropDownHightlightTextColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var n=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownHightlightTextColor",{resolver:n,watchCallback:this.__onResolverForDropDownHightlightTextColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForDropDownHightlightTextColorWatchCallback)})},o.prototype.getDropDownHighlightTextColor=function(){return this.__dropDownHighlightTextColor},o.prototype.__processDropDownHighlightTextColor=function(){},o.prototype.setDropDownToggleButtonBackgroundColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownToggleButtonBackgroundColor"));var o=this.__objectResolvers.get("dropDownToggleButtonBackgroundColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var n=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownToggleButtonBackgroundColor",{resolver:n,watchCallback:this.__onResolverForDropDownToggleButtonBackgroundColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForDropDownToggleButtonBackgroundColorWatchCallback)})},o.prototype.getDropDownToggleButtonBackgroundColor=function(){return this.__dropDownToggleButtonBackgroundColor},o.prototype.__processDropDownToggleButtonBackgroundColor=function(){e.StyleProvider.processBackgroundColor(this.__elementDropdownToggleButton,this.__dropDownToggleButtonBackgroundColor)},o.prototype.setDropDownToggleButtonArrowColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownToggleButtonArrowColor"));var o=this.__objectResolvers.get("dropDownToggleButtonArrowColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var n=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownToggleButtonArrowColor",{resolver:n,watchCallback:this.__onResolverForDropDownToggleButtonArrowColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForDropDownToggleButtonArrowColorWatchCallback)})},o.prototype.getDropDownToggleButtonArrowColor=function(){return this.__dropDownToggleButtonArrowColor},o.prototype.__processDropDownToggleButtonArrowColor=function(){e.StyleProvider.processStrokeColor(this.__elementTemplateRoot[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-button-arrow"),this.__dropDownToggleButtonArrowColor)},o.prototype.setTextColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextColor"));var o=this.__objectResolvers.get("textColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var n=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("textColor",{resolver:n,watchCallback:this.__onResolverForTextColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForTextColorWatchCallback)})},o.prototype.getTextColor=function(){return this.__textColor},o.prototype.__processTextColor=function(){void 0!==this.__textColor&&e.StyleProvider.processTextColor(this.__elementText,this.__textColor)},o.prototype.setTextFontSize=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextFontSize")),t!==this.__textFontSize&&(this.__textFontSize=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextFontSize"]),this.__processTextFontSize())},o.prototype.getTextFontSize=function(){return this.__textFontSize},o.prototype.__processTextFontSize=function(){void 0!==this.__textFontSize&&void 0!==this.__textFontSizeUnit&&e.StyleProvider.processFontSize(this.__elementSelect,this.__textFontSize,this.__textFontSizeUnit)},o.prototype.setTextFontSizeUnit=function(valueNew){var t=e.ValueConverter.toFontSizeUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextFontSizeUnit")),t!==this.__textFontSizeUnit&&(this.__textFontSizeUnit=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextFontSizeUnit"]),this.__processTextFontSizeUnit())},o.prototype.getTextFontSizeUnit=function(){return this.__textFontSizeUnit},o.prototype.__processTextFontSizeUnit=function(){return this.__processTextFontSize()},o.prototype.setTextFontFamily=function(valueNew){var t=e.ValueConverter.toFontFamily(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextFontFamily")),t!==this.__textFontFamily&&(this.__textFontFamily=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextFontFamily"]),this.__processTextFontFamily())},o.prototype.getTextFontFamily=function(){return this.__textFontFamily},o.prototype.__processTextFontFamily=function(){void 0!==this.__textFontFamily&&e.StyleProvider.processFontFamily(this.__elementSelect,this.__textFontFamily)},o.prototype.setTextFontStyle=function(valueNew){var t=e.ValueConverter.toFontStyle(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextFontStyle")),t!==this.__textFontStyle&&(this.__textFontStyle=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextFontStyle"]),this.__processTextFontStyle())},o.prototype.getTextFontStyle=function(){return this.__textFontStyle},o.prototype.__processTextFontStyle=function(){void 0!==this.__textFontStyle&&e.StyleProvider.processFontStyle(this.__elementSelect,this.__textFontStyle)},o.prototype.setTextFontWeight=function(valueNew){var t=e.ValueConverter.toFontWeight(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TextFontWeight")),t!==this.__textFontWeight&&(this.__textFontWeight=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTextFontWeight"]),this.__processTextFontWeight())},o.prototype.getTextFontWeight=function(){return this.__textFontWeight},o.prototype.__processTextFontWeight=function(){void 0!==this.__textFontWeight&&e.StyleProvider.processFontWeight(this.__elementSelect,this.__textFontWeight)},o.prototype.setSrcData=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("SrcData"));var o=this.__objectResolvers.get("srcData");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var n=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("srcData",{resolver:n,watchCallback:this.__onResolverForSrcDataWatchCallback,watchDestroyer:n.watch(this.__onResolverForSrcDataWatchCallback)})},o.prototype.getSrcData=function(){return this.__srcData},o.prototype.__processSrcData=function(){e.Engineering.ErrorPane.remove("E_COMBOBOX["+this.getId()+"]_SRCDATA_ERROR");for(var t={passive:!0,capture:!1},o=this.__elementDropdown.children(),n=0,r=o.length;n<r;n++)o[n].removeEventListener("click",this.__evtHandlerClick,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),o[n].removeEventListener("mouseenter",this.__evtHandlerMouseEnter,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t),o[n].removeEventListener("mouseleave",this.__evtHandlerMouseLeave,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&t);if(this.__data=[],null===this.__srcData)return this.__processComboboxText(),void this.__elementDropdown.empty();if(Array.isArray(this.__srcData))for(var i=this.__srcData,_=[],s=0,l=i.length;s<l;s++){var a={id:null,text:null,value:null};if("object"==typeof i[s]){a.text="",void 0!==i[s].text&&null!==i[s].text&&(a.text=i[s].text.toString()),a.value=null,void 0!==i[s].value&&null!==i[s].value&&(a.value=i[s].value);var c=i[s].id;a.id="number"==typeof c?c:s}else a.text=i[s].toString(),a.value=i[s],a.id=s;if(-1!==_.indexOf(a.id))return e.Engineering.ErrorPane.add("E_COMBOBOX["+this.getId()+"]_SRCDATA_ERROR","[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=SrcData] Value of ["+s+"].id="+a.id+" is not unique.",e.Engineering.ErrorPane.MessageType.Error),e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiCombobox, Id="+this.getId()+", Attribute=SrcData] Value of ["+s+"].id="+a.id+" is not unique."),this.__data=[],this.__processComboboxText(),void this.__fillDropdown();_.push(a.id),this.__data.push(a)}else{var d=0;for(var h in this.__srcData)this.__srcData.hasOwnProperty(h)&&this.__data.push({id:d++,text:h.toString(),value:this.__srcData[h]})}null!==this.__selectedIndex&&void 0!==this.__selectedIndex&&(this.__selectedIndex>=this.__data.length?this.setSelectedIndex(null):this.__processSelectedIndex()),this.__fillDropdown()},o.prototype.__setDropDownboxOpen=function(valueNew){var t=this;if(void 0===valueNew&&(valueNew=!this.__dropDownboxOpen),valueNew){this.__dropDownboxOpen=!0,this.__elementTemplateRoot[0].classList.add("active"),this.__elementDropdown[0].classList.add("active"),this.__elementDropdown.find(".TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element").removeClass("hover"),this.__elementDropdown.find(".tchmi-combobox-template-dropdown-element").removeClass("hover");var n={removeCb:function(o){t.__dropDownboxOpen=!1,t.__elementTemplateRoot[0].classList.remove("active"),t.__elementDropdown[0].classList.remove("active"),o.canceled&&e.EventProvider.raise(t.__id+".onUserInteractionCanceled"),null!==t.__resizedEventDestroyEvent&&(t.__resizedEventDestroyEvent(),t.__resizedEventDestroyEvent=null),null!==t.__movedEventDestroyEvent&&(t.__movedEventDestroyEvent(),t.__movedEventDestroyEvent=null),document.removeEventListener("scroll",t.__resizeDropDownboxCb,{capture:!0}),window.removeEventListener("resize",t.__resizeDropDownboxCb);document.removeEventListener("click",t.__documentFocusout,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!0,capture:!1})}};if(this.__dropDownStyle===o.DropDownStyle.Classic){n.dimBackground=!1,n.modal=!1;document.addEventListener("click",this.__documentFocusout,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!0,capture:!1}),this.__resizedEventDestroyEvent=e.EventProvider.register(this.__id+".onResized",this.__resizeDropDownboxCb),this.__movedEventDestroyEvent=e.EventProvider.register(this.__id+".onMoved",this.__resizeDropDownboxCb),document.addEventListener("scroll",this.__resizeDropDownboxCb,{capture:!0,passive:!0}),window.addEventListener("resize",this.__resizeDropDownboxCb,{passive:!0}),e.TopMostLayer.add(this,this.__elementDropdown,n),this.__resizeDropDownboxCb()}else this.__dropDownStyle===o.DropDownStyle.Mobile&&(n.centerHorizontal=!0,n.centerVertical=!0,e.TopMostLayer.add(this,this.__elementDropdown,n))}else e.TopMostLayer.remove(this,this.__elementDropdown)},o.prototype.__fillDropdown=function(){for(var t=document.createDocumentFragment(),o=[],n=0,r=this.__data.length;n<r;n++){var i=this.__data[n].text;null===i&&(i="");var _=document.createElement("div");_.classList.add("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element","tchmi-box"),_.classList.add("tchmi-combobox-template-dropdown-element","tchmi-box"),n===this.__selectedIndex&&_.classList.add("selected"),_.setAttribute("data-index",n.toString()),_.textContent=i.toString(),o.push(_),t.appendChild(_)}void 0!==this.__dropDownTextColor&&e.StyleProvider.processTextColor(o,this.__dropDownTextColor),void 0!==this.__dropDownBackgroundColor&&e.StyleProvider.processBackgroundColor(o,this.__dropDownBackgroundColor),void 0!==this.__textFontSize&&void 0!==this.__textFontSizeUnit&&e.StyleProvider.processFontSize(o,this.__textFontSize,this.__textFontSizeUnit),void 0!==this.__textFontFamily&&e.StyleProvider.processFontFamily(o,this.__textFontFamily),void 0!==this.__textFontWeight&&e.StyleProvider.processFontWeight(o,this.__textFontWeight),void 0!==this.__dataHeight&&e.StyleProvider.setSimpleElementStyle(o,"height",this.__dataHeight+"px");for(var s={passive:!0,capture:!1},l=0;l<o.length;l++)o[l].addEventListener("click",this.__evtHandlerClick,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&s),o[l].addEventListener("mouseenter",this.__evtHandlerMouseEnter,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&s),o[l].addEventListener("mouseleave",this.__evtHandlerMouseLeave,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&s);this.__elementDropdown.empty().append(t)},o.prototype.setDataHeight=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DataHeight")),t!==this.__dataHeight&&(this.__dataHeight=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getDataHeight"]),this.__processDataHeight())},o.prototype.getDataHeight=function(){return this.__dataHeight},o.prototype.__processDataHeight=function(){void 0!==this.__dataHeight&&e.StyleProvider.setSimpleElementStyle(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),"height",this.__dataHeight+"px")},o.prototype.setDataHeightUnit=function(valueNew){},o.prototype.getDataHeightUnit=function(){return"px"},o.prototype.__processDataHeightUnit=function(){this.__processDataHeight()},o.prototype.setMaxListHeight=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("MaxListHeight")),t!==this.__maxListHeight&&(this.__maxListHeight=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMaxListHeight"]),this.__processMaxListHeight())},o.prototype.getMaxListHeight=function(){return this.__maxListHeight},o.prototype.__processMaxListHeight=function(){null!==this.__maxListHeight&&void 0!==this.__maxListHeight&&this.__dropDownStyle===o.DropDownStyle.Classic?this.__elementDropdown[0].style.maxHeight=this.__maxListHeight+"px":this.__elementDropdown[0].style.maxHeight=""},o.prototype.setMaxListHeightUnit=function(valueNew){},o.prototype.getMaxListHeightUnit=function(){return"px"},o.prototype.__processMaxListHeightUnit=function(){this.__processMaxListHeight()},o.prototype.setDropDownStyle=function(valueNew){var t=e.ValueConverter.toEnum(valueNew,o.DropDownStyle);null===t&&(t=e.ValueConverter.toEnum(this.getAttributeDefaultValueInternal("DropDownStyle"),o.DropDownStyle,o.DropDownStyle.Classic)),t!==this.__dropDownStyle&&(this.__dropDownStyle=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getDropDownStyle"]),this.__processDropDownStyle())},o.prototype.getDropDownStyle=function(){return void 0===this.__dropDownStyle?null:o.DropDownStyle[this.__dropDownStyle]},o.prototype.__processDropDownStyle=function(){this.__dropDownStyle===o.DropDownStyle.Classic?this.__elementDropdown[0].classList.remove("drop-down-style-mobile"):this.__dropDownStyle===o.DropDownStyle.Mobile&&this.__elementDropdown[0].classList.add("drop-down-style-mobile"),this.__processMaxListHeight(),!0===this.__dropDownboxOpen&&(this.__setDropDownboxOpen(!1),this.__setDropDownboxOpen(!0))},o.prototype.getSelectedValue=function(){return null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length?null:this.__data[this.__selectedIndex].value},o.prototype.getSelectedId=function(){return null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length?null:this.__data[this.__selectedIndex].id},o.prototype.getSelectedText=function(){return null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length?null:this.__data[this.__selectedIndex].text},o.prototype.getText=function(){return this.__allowTextInput?this.__text:null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length?null:this.__data[this.__selectedIndex].text},o.prototype.setSelectedIndex=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("SelectedIndex")),null!==t&&t<0&&(t=null),t!==this.__selectedIndex&&(this.__allowTextInput&&""!==this.__text||(this.__selectedIndex=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSelectedIndex","getSelectedValue","getSelectedId","getSelectedText"]),this.__processSelectedIndex()))},o.prototype.getSelectedIndex=function(){return this.__selectedIndex},o.prototype.__processSelectedIndex=function(){var t;if(this.__elementDropdown.children().removeClass("selected"),null===this.__selectedIndex||void 0===this.__selectedIndex||this.__selectedIndex<0||this.__selectedIndex>=this.__data.length)this.__processComboboxText(),e.EventProvider.raise(this.__id+".onSelectionChanged",{id:null,text:null,value:null});else{var o=(t=this.__data[this.__selectedIndex].text,null!=t?t:"").toString();if(this.__allowTextInput){if(void 0===this.__text||""===this.__text){if(!0===this.__locked)return;this.__oldText=o,this.__text=o,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getText"]),e.EventProvider.raise(this.__id+".onTextChanged",this.__text),this.__elementText.val(this.__text),this.__elementDropdown.children().eq(this.__selectedIndex).addClass("selected"),e.EventProvider.raise(this.__id+".onSelectionChanged",{id:this.__data[this.__selectedIndex].id,text:this.__data[this.__selectedIndex].text,value:this.__data[this.__selectedIndex].value})}}else this.__elementText[0].textContent=o,this.__elementDropdown.children().eq(this.__selectedIndex).addClass("selected"),e.EventProvider.raise(this.__id+".onSelectionChanged",{id:this.__data[this.__selectedIndex].id,text:this.__data[this.__selectedIndex].text,value:this.__data[this.__selectedIndex].value}),this.setText(o)}},o.prototype.setDropDownFontSize=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownFontSize")),t!==this.__dropDownFontSize&&(this.__dropDownFontSize=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getDropDownFontSize"]),this.__processDropDownFontSize())},o.prototype.getDropDownFontSize=function(){return this.__dropDownFontSize},o.prototype.__processDropDownFontSize=function(){void 0!==this.__dropDownFontSize&&void 0!==this.__dropDownFontSizeUnit&&e.StyleProvider.processFontSize(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownFontSize,this.__dropDownFontSizeUnit)},o.prototype.setDropDownFontSizeUnit=function(valueNew){var t=e.ValueConverter.toFontSizeUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownFontSizeUnit")),t!==this.__dropDownFontSizeUnit&&(this.__dropDownFontSizeUnit=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getDropDownFontSizeUnit"]),this.__processDropDownFontSizeUnit())},o.prototype.getDropDownFontSizeUnit=function(){return this.__dropDownFontSizeUnit},o.prototype.__processDropDownFontSizeUnit=function(){void 0!==this.__dropDownFontSize&&void 0!==this.__dropDownFontSizeUnit&&e.StyleProvider.processFontSize(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownFontSize,this.__dropDownFontSizeUnit)},o.prototype.setDropDownFontFamily=function(valueNew){var t=e.ValueConverter.toFontFamily(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownFontFamily")),t!==this.__dropDownFontFamily&&(this.__dropDownFontFamily=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getDropDownFontFamily"]),this.__processDropDownFontFamily())},o.prototype.getDropDownFontFamily=function(){return this.__dropDownFontFamily},o.prototype.__processDropDownFontFamily=function(){e.StyleProvider.processFontFamily(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownFontFamily)},o.prototype.setDropDownFontStyle=function(valueNew){var t=e.ValueConverter.toFontStyle(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownFontStyle")),t!==this.__dropDownFontStyle&&(this.__dropDownFontStyle=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getDropDownFontStyle"]),this.__processDropDownFontStyle())},o.prototype.getDropDownFontStyle=function(){return this.__dropDownFontStyle},o.prototype.__processDropDownFontStyle=function(){e.StyleProvider.processFontStyle(this.__elementDropdown,this.__dropDownFontStyle)},o.prototype.setDropDownFontWeight=function(valueNew){var t=e.ValueConverter.toFontWeight(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownFontWeight")),t!==this.__dropDownFontWeight&&(this.__dropDownFontWeight=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getDropDownFontWeight"]),this.__processDropDownFontWeight())},o.prototype.getDropDownFontWeight=function(){return this.__dropDownFontWeight},o.prototype.__processDropDownFontWeight=function(){e.StyleProvider.processFontWeight(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownFontWeight)},o.prototype.setDropDownHorizontalAlignment=function(valueNew){var t=e.ValueConverter.toHorizontalAlignment(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownHorizontalAlignment")),t!==this.__dropDownHorizontalAlignment&&(this.__dropDownHorizontalAlignment=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getDropDownHorizontalAlignment"]),this.__processDropDownHorizontalAlignment())},o.prototype.getDropDownHorizontalAlignment=function(){return this.__dropDownHorizontalAlignment},o.prototype.__processDropDownHorizontalAlignment=function(){e.StyleProvider.processContentHorizontalAlignment(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownHorizontalAlignment)},o.prototype.setDropDownVerticalAlignment=function(valueNew){var t=e.ValueConverter.toVerticalAlignment(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownVerticalAlignment")),t!==this.__dropDownVerticalAlignment&&(this.__dropDownVerticalAlignment=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getDropDownVerticalAlignment"]),this.__processDropDownVerticalAlignment())},o.prototype.getDropDownVerticalAlignment=function(){return this.__dropDownVerticalAlignment},o.prototype.__processDropDownVerticalAlignment=function(){e.StyleProvider.processContentVerticalAlignment(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownVerticalAlignment)},o.prototype.setDropDownTextColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownTextColor"));var o=this.__objectResolvers.get("dropDownTextColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var n=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownTextColor",{resolver:n,watchCallback:this.__onResolverForDropDownTextColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForDropDownTextColorWatchCallback)})},o.prototype.getDropDownTextColor=function(){return this.__dropDownTextColor},o.prototype.__processDropDownTextColor=function(){void 0!==this.__dropDownTextColor&&e.StyleProvider.processTextColor(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownTextColor)},o.prototype.setDropDownBackgroundColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("DropDownBackgroundColor"));var o=this.__objectResolvers.get("dropDownBackgroundColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var n=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("dropDownBackgroundColor",{resolver:n,watchCallback:this.__onResolverForDropDownBackgroundColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForDropDownBackgroundColorWatchCallback)})},o.prototype.getDropDownBackgroundColor=function(){return this.__dropDownBackgroundColor},o.prototype.__processDropDownBackgroundColor=function(){void 0!==this.__dropDownBackgroundColor&&e.StyleProvider.processBackgroundColor(this.__elementDropdown[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiCombobox-template-dropdown-element"),this.__dropDownBackgroundColor)},o.prototype.setAllowTextInput=function(valueNew){var t=e.ValueConverter.toBoolean(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("AllowTextInput")),t!==this.__allowTextInput&&(this.__allowTextInput=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getAllowTextInput"]),this.__processAllowTextInput())},o.prototype.getAllowTextInput=function(){return this.__allowTextInput},o.prototype.__processAllowTextInput=function(){var e,t,o,n,r,i={passive:!0,capture:!1},_={passive:!1,capture:!1};if(this.__allowTextInput){""===(text=null!=(e=this.__text)?e:"")&&null!==this.__selectedIndex&&void 0!==this.__selectedIndex&&this.__selectedIndex>=0&&this.__selectedIndex<this.__data.length&&(text=(t=this.__data[this.__selectedIndex].text,null!=t?t:"").toString()),text=""!==text?text:null!=(o=this.__comboboxText)?o:"";var input=document.createElement("input");input.setAttribute("type","text"),input.setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiCombobox-template-input"),input.setAttribute("spellcheck","false"),input.value=text,this.__elementSelect[0].removeEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].replaceWith(input),this.__elementText=$(input),this.__elementTemplateRoot[0].addEventListener("focusin",this.__evtHandlerFocusin,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementTemplateRoot[0].addEventListener("focusout",this.__evtHandlerFocusout,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].addEventListener("keydown",this.__evtHandlerKeydown,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&_),this.__elementText[0].addEventListener("input",this.__evtHandlerInput,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].addEventListener("paste",this.__evtHandlerPaste,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].addEventListener("cut",this.__evtHandlerCut,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i)}else{this.__elementTemplateRoot[0].removeEventListener("focusin",this.__evtHandlerFocusin,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementTemplateRoot[0].removeEventListener("focusout",this.__evtHandlerFocusout,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].removeEventListener("keydown",this.__evtHandlerKeydown,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&_),this.__elementText[0].removeEventListener("input",this.__evtHandlerInput,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].removeEventListener("paste",this.__evtHandlerPaste,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),this.__elementText[0].removeEventListener("cut",this.__evtHandlerCut,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i);var text=null!=(n=this.__comboboxText)?n:"";null!==this.__selectedIndex&&void 0!==this.__selectedIndex&&this.__selectedIndex>=0&&this.__selectedIndex<this.__data.length&&(text=(r=this.__data[this.__selectedIndex].text,null!=r?r:"").toString());var s=document.createElement("pre");s.setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiCombobox-template-select-content"),s.textContent=text,this.__elementText[0].replaceWith(s),this.__elementText=$(s),this.__elementSelect[0].addEventListener("mousedown",this.__evtHandlerMousedownCombobox,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i)}this.__processTextColor(),this.__processBackgroundColor(),this.__processTextFontFamily(),this.__processTextFontSize(),this.__processTextFontSizeUnit(),this.__processTextFontStyle(),this.__processTextFontWeight(),this.__processContentPadding(),this.__processTextHorizontalAlignment()},o.prototype.setText=function(valueNew){!0!==this.__locked&&this.__setText(valueNew)},o.prototype.__setText=function(valueNew){var t=e.ValueConverter.toString(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("Text")),t!==this.__text&&(this.__text=t,this.__oldText=this.__text,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getText"]),e.EventProvider.raise(this.__id+".onTextChanged",this.__text),this.__processText())},o.prototype.__processText=function(){this.__allowTextInput&&(void 0!==this.__text&&(this.__text=this.__text.replace(/(?:\r\n|\r|\n)/g," "),this.__elementText.val(this.__text)),null!==this.__selectedIndex&&(this.__elementDropdown.children().removeClass("selected"),this.__selectedIndex=null,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSelectedIndex","getSelectedValue","getSelectedId","getSelectedText"])),this.__processComboboxText())},o.prototype.__lock=function(){this.__locked=!0},o.prototype.__unlock=function(){this.__locked=!1},o.prototype.__processControlActivation=function(){if(this.__allowTextInput){var input=this.__elementText[0];e.System.Services.accessManager.checkAccess(this,"operate")&&this.getIsEnabled()?input.disabled=!1:(input.blur(),input.disabled=!0)}},o.prototype.__processIsEnabled=function(){t.prototype.__processIsEnabled.call(this),this.__allowTextInput&&this.__processControlActivation(),this.getIsEnabled()||e.TopMostLayer.remove(this,this.__elementDropdown)},o.prototype.__processAccessConfig=function(){t.prototype.__processAccessConfig.call(this),this.__allowTextInput&&this.__processControlActivation()},o}(e.Controls.System.TcHmiControl);t.TcHmiCombobox=o,function(e){!function(e){e[e.Classic=0]="Classic",e[e.Mobile=1]="Mobile"}(e.DropDownStyle||(e.DropDownStyle={}))}(o=t.TcHmiCombobox||(t.TcHmiCombobox={}))}(t.Beckhoff||(t.Beckhoff={})),t.registerEx("TcHmiCombobox","TcHmi.Controls.Beckhoff",e.Controls.Beckhoff.TcHmiCombobox)}(e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));