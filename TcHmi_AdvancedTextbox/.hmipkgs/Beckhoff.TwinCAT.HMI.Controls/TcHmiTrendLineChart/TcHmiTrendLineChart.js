var TcHmi,__extends=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){!function(e){!function(e){var i=function(e){function i(n,o,s){var r=e.call(this,n,o,s)||this;r.__lineChart=null,r.__menuBarControls=[],r.__lineGraphData=null,r.__lineGraphRawData=null,r.__internalStart=null,r.__internalEnd=null,r.__internalStartServer=null,r.__internalEndServer=null,r.__actualStartTime=null,r.__actualEndTime=null,r.__startBeforeManipulation=null,r.__endBeforeManipulation=null,r.__mouseMode=i.MouseMode.PanX,r.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},scale:{x:1,y:1},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}},r.__multitouchInfo={multitouchMode:!1,first:{identifier:null},second:{identifier:null},offset:{left:0,top:0},distance:0,newStart:null,newTimespan:null,newYAxis:null},r.__wheelInfo={isWheeling:!1,wheelSteps:0,mousePosition:{x:0,y:0},timespan:null,timeout:0},r.__zoomingCanvasContext=null,r.__lastInteraction=!1,r.__startEndBeforeZoom={end:null,start:null},r.__resizeEventDestroyEvent=null,r.__themeDataLoadedEventDestroyEvent=null,r.__subscriptionId=null,r.__requestId=null,r.__getDataCounter=0,r.__internalYAxis=null,r.__internalLineGraphDescription=null,r.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]},r.__startDatatype=null,r.__endDatatype=null,r.__utcOffset=0,r.__onAttachedMenuButtonsEvent=null,r.__onPressedStopDestroyEvent=null,r.__onPressedTimespanStartDestroyEvent=null,r.__onPressedDatetimeStartDestroyEvent=null,r.__onPressedTimespanEndDestroyEvent=null,r.__onPressedDatetimeEndDestroyEvent=null,r.__onIsActiveChagedPanxDestroyEvent=null,r.__onIsActiveChagedPanxyDestroyEvent=null,r.__onIsActiveChagedZoomxDestroyEvent=null,r.__onIsActiveChagedZoomxyDestroyEvent=null,r.__onPressedResetZoomDestroyEvent=null,r.__onPressedResetDestroyEvent=null,r.__onPressedOptionsDestroyEvent=null,r.__onUserInteractionFinishedStartDestroyEvent=null,r.__onUserInteractionFinishedEndDestroyEvent=null,r.__onValueChangedTimespanStartDestroyEvent=null,r.__onValueChangedTimespanEndDestroyEvent=null,r.__onValueChangedDatetimeStartDestroyEvent=null,r.__onValueChangedDatetimeEndDestroyEvent=null,r.__nowIsValueChanged=!1,r.__holdTimer=0,r.__holdTimerDuration=300,r.__onResolverForXAxisFormatWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("xAxisFormat"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__xAxisFormat)||(r.__xAxisFormat=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getXAxisFormat"]),r.__processXAxisFormat()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=XAxisFormat] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForSectionsBackgroundColorWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("sectionsBackgroundColor"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__sectionsBackgroundColor)||(r.__sectionsBackgroundColor=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getSectionsBackgroundColor"]),r.__processSectionsBackgroundColor()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=SectionsBackgroundColor] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForXLabelFontColorWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("xLabelFontColor"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__xLabelFontColor)||(r.__xLabelFontColor=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getXLabelFontColor"]),r.__processXLabelFontColor()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=XLabelFontColor] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForXAxisColorWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("xAxisColor"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__xAxisColor)||(r.__xAxisColor=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getXAxisColor"]),r.__processXAxisColor()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=XAxisColor] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForXAxisNameFontColorWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("xAxisNameFontColor"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__xAxisNameFontColor)||(r.__xAxisNameFontColor=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getXAxisNameFontColor"]),r.__processXAxisNameFontColor()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=XAxisNameFontColor] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForYAxisWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("yAxis"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__yAxis)||(r.__yAxis=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getYAxis"]),r.__processYAxis()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=YAxis] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForLineGraphDescriptionsWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("lineGraphDescriptions"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__lineGraphDescriptions)||(r.__lineGraphDescriptions=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getLineGraphDescriptions"]),r.__processLineGraphDescriptions()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=LineGraphDescriptions] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForGridBackgroundColorWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("gridBackgroundColor"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__gridBackgroundColor)||(r.__gridBackgroundColor=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getGridBackgroundColor"]),r.__processGridBackgroundColor()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=GridBackgroundColor] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForGridLineColorWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("gridLineColor"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__gridLineColor)||(r.__gridLineColor=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getGridLineColor"]),r.__processGridLineColor()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=GridLineColor] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForSubgridLineColorWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("subgridLineColor"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__subgridLineColor)||(r.__subgridLineColor=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getSubgridLineColor"]),r.__processSubgridLineColor()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=SubgridLineColor] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForMenuBarLabelFontColorWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("menuBarLabelFontColor"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__menuBarLabelFontColor)||(r.__menuBarLabelFontColor=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getMenuBarLabelFontColor"]),r.__processMenuBarLabelFontColor()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=MenuBarLabelFontColor] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForTooltipFormatWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("tooltipFormat"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__tooltipFormat)||(r.__tooltipFormat=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getTooltipFormat"]),r.__processTooltipFormat()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=TooltipFormat] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForTooltipFontColorWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("tooltipFontColor"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__tooltipFontColor)||(r.__tooltipFontColor=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getTooltipFontColor"]),r.__processTooltipFontColor()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=TooltipFontColor] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},r.__onResolverForTooltipBackgroundColorWatchCallback=function(e){!1===r.__isAttached&&r.__suspendObjectResolver("tooltipBackgroundColor"),e.error===t.Errors.NONE?tchmi_equal(e.value,r.__tooltipBackgroundColor)||(r.__tooltipBackgroundColor=e.value,t.EventProvider.raise(r.__id+".onFunctionResultChanged",["getTooltipBackgroundColor"]),r.__processTooltipBackgroundColor()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiTrendLineChart, Id="+r.getId()+", Attribute=TooltipBackgroundColor] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))};t.System.Services.controlManager;return r.__clickHandler=r.__onClick(),r.__mousedownHandler=r.__onMouseDown(),r.__mouseupHandler=r.__onMouseUp(),r.__mousemoveHandler=r.__onMouseMove(),r.__touchstartHandler=r.__onTouchStart(),r.__touchmoveHandler=r.__onTouchMove(),r.__touchendHandler=r.__onTouchEnd(),r.__mousemoveTooltipHandler=r.__onMouseMoveTooltip(),r.__mousewheelHandler=r.__onMouseWheel(),r}return __extends(i,e),i.prototype.__previnit=function(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template"),0===this.__elementTemplateRoot.length&&(this.__elementTemplateRoot=this.__element.find(".tchmi-textbox-template")),this.__elementChart=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-chart"),0===this.__elementChart.length&&(this.__elementChart=this.__elementTemplateRoot.find(".tchmi-textbox-template-chart")),this.__elementMenuBar=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-menu-bar"),0===this.__elementMenuBar.length&&(this.__elementMenuBar=this.__elementTemplateRoot.find(".tchmi-textbox-template-menu-bar")),this.__elementTooltip=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip"),0===this.__elementTooltip.length&&(this.__elementTooltip=this.__elementTemplateRoot.find(".tchmi-textbox-template-tooltip")),this.__elementTooltipText=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-text"),0===this.__elementTooltipText.length&&(this.__elementTooltipText=this.__elementTemplateRoot.find(".tchmi-textbox-template-tooltip-text")),this.__elementTooltipArrow=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow"),0===this.__elementTooltipArrow.length&&(this.__elementTooltipArrow=this.__elementTemplateRoot.find(".tchmi-textbox-template-tooltip-arrow")),this.__elementLoading=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-loading"),0===this.__elementLoading.length&&(this.__elementLoading=this.__elementTemplateRoot.find(".tchmi-textbox-template-loading")),this.__elementMenuBarDropdown=$('<div class="TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-menu-bar-dropdown tchmi-box"></div>'),0===this.__elementTemplateRoot.length||0===this.__elementChart.length||0===this.__elementMenuBar.length||0===this.__elementTooltip.length||0===this.__elementTooltipText.length||0===this.__elementTooltipArrow.length||0===this.__elementLoading.length||0===this.__elementMenuBarDropdown.length)throw new Error("Invalid Template.html");if("undefined"==typeof TcHmiCharting)throw new Error("Missing needed TcHmiCharting library");var t=document.createElement("div");t.innerHTML='<div class="TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-loading-spinner-container"><div class="TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-loading-spinner"><div></div><div></div><div></div><div></div></div></div>',this.__loadingSpinner=t.firstElementChild,e.prototype.__previnit.call(this)},i.prototype.__init=function(){e.prototype.__init.call(this),this.__showMenuBar&&this.__addMenuBarControls()},i.prototype.__addMenuBarControls=function(){var e=$("<label for='"+this.__id+"_startCombobox'>Start:</label>"),n=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiCombobox",this.__id+"_startCombobox",{"data-tchmi-tooltip":"Datetime, Timespan or First","data-tchmi-text-font-size":11,"data-tchmi-allow-text-input":!0,"data-tchmi-src-data":["First"]},this);if(void 0===n)throw new Error("Needed Combobox could not be instantiated");n.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-start-combobox","tchmi-trend-line-chart-template-start-combobox"),this.__elementMenuBar[0].appendChild(e[0]),this.__elementMenuBar[0].appendChild(n.getElement()[0]),this.__menuBarControls.push(n);var o=this.__start;null==o&&(o=""),"First"===o?n.setSelectedIndex(0):(this.isDatetime(o)&&(o=this.__moveUtcToTimeZone(o)),n.setText(o));var s=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiTimespanPicker",this.__id+"_timespanStart",{"data-tchmi-visibility":"Collapsed"},this);if(void 0===s)throw new Error("Needed TimespanPicker could not be instantiated");s.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-timespan-picker-start","tchmi-trend-line-chart-template-timespan-picker-start"),this.__elementMenuBar[0].appendChild(s.getElement()[0]),this.__menuBarControls.push(s),this.__startDatatype===i.Datatype.Timespan&&this.__start&&s.setValue(this.__start);var r=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_timespanButtonStart",{"data-tchmi-tooltip":"Choose Timespan for start."},this);if(void 0===r)throw new Error("Needed Button could not be instantiated");r.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-timespan-button-start","tchmi-trend-line-chart-template-timespan-button-start"),this.__elementMenuBar[0].appendChild(r.getElement()[0]),this.__menuBarControls.push(r);var a=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiDateTimePicker",this.__id+"_datetimeStart",{"data-tchmi-visibility":"Collapsed"},this);if(void 0===a)throw new Error("Needed DateTimePicker could not be instantiated");a.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-date-time-picker-start","tchmi-trend-line-chart-template-date-time-picker-start"),this.__elementMenuBar[0].appendChild(a.getElement()[0]),this.__menuBarControls.push(a),this.__startDatatype===i.Datatype.Datetime&&this.__start&&a.setValue(this.__start);var l=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_datetimeButtonStart",{"data-tchmi-tooltip":"Choose Datetime for start."},this);if(void 0===l)throw new Error("Needed Button could not be instantiated");l.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-datetime-button-start","tchmi-trend-line-chart-template-datetime-button-start"),this.__elementMenuBar[0].appendChild(l.getElement()[0]),this.__menuBarControls.push(l);var _=$("<label for='"+this.__id+"_endCombobox'>End:</label>"),h=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiCombobox",this.__id+"_endCombobox",{"data-tchmi-tooltip":"Datetime, Timespan or Latest","data-tchmi-text-font-size":11,"data-tchmi-allow-text-input":!0,"data-tchmi-src-data":["Latest"]},this);if(void 0===h)throw new Error("Needed Combobox could not be instantiated");h.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-end-combobox","tchmi-trend-line-chart-template-end-combobox"),this.__elementMenuBar[0].appendChild(_[0]),this.__elementMenuBar[0].appendChild(h.getElement()[0]),this.__menuBarControls.push(h);var u=this.__end;null==u&&(u=""),"Latest"===u?h.setSelectedIndex(0):(this.isDatetime(u)&&(u=this.__moveUtcToTimeZone(u)),h.setText(u));var d=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiTimespanPicker",this.__id+"_timespanEnd",{"data-tchmi-visibility":"Collapsed"},this);if(void 0===d)throw new Error("Needed TimespanPicker could not be instantiated");d.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-timespan-picker-end","tchmi-trend-line-chart-template-timespan-picker-end"),this.__elementMenuBar[0].appendChild(d.getElement()[0]),this.__menuBarControls.push(d),this.__endDatatype===i.Datatype.Timespan&&this.__end&&d.setValue(this.__end);var c=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_timespanButtonEnd",{"data-tchmi-tooltip":"Choose Timespan for end."},this);if(void 0===c)throw new Error("Needed Button could not be instantiated");c.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-timespan-button-end","tchmi-trend-line-chart-template-timespan-button-end"),this.__elementMenuBar[0].appendChild(c.getElement()[0]),this.__menuBarControls.push(c);var m=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiDateTimePicker",this.__id+"_datetimeEnd",{"data-tchmi-visibility":"Collapsed"},this);if(void 0===m)throw new Error("Needed DateTimePicker could not be instantiated");m.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-date-time-picker-end","tchmi-trend-line-chart-template-date-time-picker-end"),this.__elementMenuBar[0].appendChild(m.getElement()[0]),this.__menuBarControls.push(m),this.__endDatatype===i.Datatype.Datetime&&this.__end&&m.setValue(this.__end);var p=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_datetimeButtonEnd",{"data-tchmi-tooltip":"Choose Datetime for end."},this);if(void 0===p)throw new Error("Needed Button could not be instantiated");p.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-datetime-button-end","tchmi-trend-line-chart-template-datetime-button-end"),this.__elementMenuBar[0].appendChild(p.getElement()[0]),this.__menuBarControls.push(p);var g=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_resetButton",{"data-tchmi-tooltip":"Play","data-tchmi-is-enabled":!1},this);if(void 0===g)throw new Error("Needed Button could not be instantiated");g.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-reset","tchmi-trend-line-chart-template-reset"),this.__elementMenuBar[0].appendChild(g.getElement()[0]),this.__menuBarControls.push(g);var C=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_stopButton",{"data-tchmi-tooltip":"Pause","data-tchmi-is-enabled":!1},this);if(void 0===C)throw new Error("Needed Button could not be instantiated");C.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-stop","tchmi-trend-line-chart-template-stop"),this.__elementMenuBar[0].appendChild(C.getElement()[0]),this.__menuBarControls.push(C);var f=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiToggleButton",this.__id+"_panxButton",{"data-tchmi-is-enabled":!1,"data-tchmi-tooltip":"PanX"},this);if(void 0===f)throw new Error("Needed ToggleButton could not be instantiated");f.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-panx","tchmi-trend-line-chart-template-panx"),this.__elementMenuBar[0].appendChild(f.getElement()[0]),this.__menuBarControls.push(f);var v=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiToggleButton",this.__id+"_panxyButton",{"data-tchmi-is-enabled":!1,"data-tchmi-tooltip":"PanXY"},this);if(void 0===v)throw new Error("Needed ToggleButton could not be instantiated");v.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-panxy","tchmi-trend-line-chart-template-panxy"),this.__elementMenuBar[0].appendChild(v.getElement()[0]),this.__menuBarControls.push(v);var T=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiToggleButton",this.__id+"_zoomxButton",{"data-tchmi-is-enabled":!1,"data-tchmi-tooltip":"ZoomX"},this);if(void 0===T)throw new Error("Needed ToggleButton could not be instantiated");T.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-zoomx","tchmi-trend-line-chart-template-zoomx"),this.__elementMenuBar[0].appendChild(T.getElement()[0]),this.__menuBarControls.push(T);var b=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiToggleButton",this.__id+"_zoomxyButton",{"data-tchmi-is-enabled":!1,"data-tchmi-tooltip":"ZoomXY"},this);if(void 0===b)throw new Error("Needed ToggleButton could not be instantiated");b.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-zoomxy","tchmi-trend-line-chart-template-zoomxy"),this.__elementMenuBar[0].appendChild(b.getElement()[0]),this.__menuBarControls.push(b);var y=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_resetZoomButton",{"data-tchmi-tooltip":"Reset zooming and panning","data-tchmi-is-enabled":!1},this);if(void 0===y)throw new Error("Needed Button could not be instantiated");y.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-reset-zoom","tchmi-trend-line-chart-template-reset-zoom"),this.__elementMenuBar[0].appendChild(y.getElement()[0]),this.__menuBarControls.push(y);var S=t.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",this.__id+"_optionsButton",{"data-tchmi-visibility":"Collapsed"},this);if(void 0===S)throw new Error("Needed Button could not be instantiated");S.getElement()[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-options","tchmi-trend-line-chart-template-options"),this.__elementMenuBar[0].appendChild(S.getElement()[0]),this.__menuBarControls.push(S);var x=this.__id+"_panxButton";this.__mouseMode===i.MouseMode.PanXY?x=this.__id+"_panxyButton":this.__mouseMode===i.MouseMode.ZoomX?x=this.__id+"_zoomxButton":this.__mouseMode===i.MouseMode.ZoomXY&&(x=this.__id+"_zoomxyButton");for(var L=0,A=this.__menuBarControls.length;L<A;L++)if("TcHmi.Controls.Beckhoff.TcHmiToggleButton"===this.__menuBarControls[L].getType()){var B=this.__menuBarControls[L];B.setToggleGroup(this.__id+".interactions"),this.__menuBarControls[L].getId()===x&&B.setToggleState("Active")}},i.prototype.__attach=function(){e.prototype.__attach.call(this),this.__resizeEventDestroyEvent=t.EventProvider.register(this.__id+".onResized",this.__rebuild()),this.__themeDataLoadedEventDestroyEvent=t.EventProvider.register("onThemeDataChanged",this.__rebuild()),this.__onPressedStopDestroyEvent=t.EventProvider.register(this.__id+"_stopButton.onPressed",this.__onPressed()),this.__onPressedTimespanStartDestroyEvent=t.EventProvider.register(this.__id+"_timespanButtonStart.onPressed",this.__onPressed()),this.__onPressedDatetimeStartDestroyEvent=t.EventProvider.register(this.__id+"_datetimeButtonStart.onPressed",this.__onPressed()),this.__onPressedTimespanEndDestroyEvent=t.EventProvider.register(this.__id+"_timespanButtonEnd.onPressed",this.__onPressed()),this.__onPressedDatetimeEndDestroyEvent=t.EventProvider.register(this.__id+"_datetimeButtonEnd.onPressed",this.__onPressed()),this.__onIsActiveChagedPanxDestroyEvent=t.EventProvider.register(this.__id+"_panxButton.onStateChanged",this.__onIsActiveChaged()),this.__onIsActiveChagedPanxyDestroyEvent=t.EventProvider.register(this.__id+"_panxyButton.onStateChanged",this.__onIsActiveChaged()),this.__onIsActiveChagedZoomxDestroyEvent=t.EventProvider.register(this.__id+"_zoomxButton.onStateChanged",this.__onIsActiveChaged()),this.__onIsActiveChagedZoomxyDestroyEvent=t.EventProvider.register(this.__id+"_zoomxyButton.onStateChanged",this.__onIsActiveChaged()),this.__onPressedResetZoomDestroyEvent=t.EventProvider.register(this.__id+"_resetZoomButton.onPressed",this.__onPressed()),this.__onPressedResetDestroyEvent=t.EventProvider.register(this.__id+"_resetButton.onPressed",this.__onPressed()),this.__onPressedOptionsDestroyEvent=t.EventProvider.register(this.__id+"_optionsButton.onPressed",this.__onPressed()),this.__onUserInteractionFinishedStartDestroyEvent=t.EventProvider.register(this.__id+"_startCombobox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onUserInteractionFinishedEndDestroyEvent=t.EventProvider.register(this.__id+"_endCombobox.onUserInteractionFinished",this.__onUserInteractionFinished()),this.__onValueChangedDatetimeEndDestroyEvent=t.EventProvider.register(this.__id+"_datetimeEnd.onValueChanged",this.__onValueChanged()),this.__onValueChangedDatetimeStartDestroyEvent=t.EventProvider.register(this.__id+"_datetimeStart.onValueChanged",this.__onValueChanged()),this.__onValueChangedTimespanEndDestroyEvent=t.EventProvider.register(this.__id+"_timespanEnd.onValueChanged",this.__onValueChanged()),this.__onValueChangedTimespanStartDestroyEvent=t.EventProvider.register(this.__id+"_timespanStart.onValueChanged",this.__onValueChanged());var i={passive:!0,capture:!1},n={passive:!1,capture:!1};document.addEventListener("mousemove",this.__mousemoveHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),document.addEventListener("mouseup",this.__mouseupHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),document.addEventListener("touchmove",this.__touchmoveHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&n),document.addEventListener("touchend",this.__touchendHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&n),this.__processShowMenuBar(),this.__processMenuBarPosition(),this.__processMenuBarLabelFontFamily(!1),this.__processMenuBarLabelFontSize(!1),this.__processMenuBarLabelFontSizeUnit(!1),this.__processMenuBarLabelFontStyle(!1),this.__processMenuBarLabelFontWeight(!1),this.__processMenuBarLabelFontColor(!1),this.__calcMenuButtons(),this.__lineGraphDescriptions&&this.__lineGraphDescriptions.length>0&&this.__openWebsocket()},i.prototype.__detach=function(){e.prototype.__detach.call(this),null!==this.__resizeEventDestroyEvent&&(this.__resizeEventDestroyEvent(),this.__resizeEventDestroyEvent=null),null!==this.__themeDataLoadedEventDestroyEvent&&(this.__themeDataLoadedEventDestroyEvent(),this.__themeDataLoadedEventDestroyEvent=null),null!==this.__onAttachedMenuButtonsEvent&&(this.__onAttachedMenuButtonsEvent(),this.__onAttachedMenuButtonsEvent=null),null!==this.__onPressedStopDestroyEvent&&(this.__onPressedStopDestroyEvent(),this.__onPressedStopDestroyEvent=null),null!==this.__onPressedTimespanStartDestroyEvent&&(this.__onPressedTimespanStartDestroyEvent(),this.__onPressedTimespanStartDestroyEvent=null),null!==this.__onPressedDatetimeStartDestroyEvent&&(this.__onPressedDatetimeStartDestroyEvent(),this.__onPressedDatetimeStartDestroyEvent=null),null!==this.__onPressedTimespanEndDestroyEvent&&(this.__onPressedTimespanEndDestroyEvent(),this.__onPressedTimespanEndDestroyEvent=null),null!==this.__onPressedDatetimeEndDestroyEvent&&(this.__onPressedDatetimeEndDestroyEvent(),this.__onPressedDatetimeEndDestroyEvent=null),null!==this.__onIsActiveChagedPanxDestroyEvent&&(this.__onIsActiveChagedPanxDestroyEvent(),this.__onIsActiveChagedPanxDestroyEvent=null),null!==this.__onIsActiveChagedPanxyDestroyEvent&&(this.__onIsActiveChagedPanxyDestroyEvent(),this.__onIsActiveChagedPanxyDestroyEvent=null),null!==this.__onIsActiveChagedZoomxDestroyEvent&&(this.__onIsActiveChagedZoomxDestroyEvent(),this.__onIsActiveChagedZoomxDestroyEvent=null),null!==this.__onIsActiveChagedZoomxyDestroyEvent&&(this.__onIsActiveChagedZoomxyDestroyEvent(),this.__onIsActiveChagedZoomxyDestroyEvent=null),null!==this.__onPressedResetZoomDestroyEvent&&(this.__onPressedResetZoomDestroyEvent(),this.__onPressedResetZoomDestroyEvent=null),null!==this.__onPressedResetDestroyEvent&&(this.__onPressedResetDestroyEvent(),this.__onPressedResetDestroyEvent=null),null!==this.__onPressedOptionsDestroyEvent&&(this.__onPressedOptionsDestroyEvent(),this.__onPressedOptionsDestroyEvent=null),null!==this.__onUserInteractionFinishedStartDestroyEvent&&(this.__onUserInteractionFinishedStartDestroyEvent(),this.__onUserInteractionFinishedStartDestroyEvent=null),null!==this.__onUserInteractionFinishedEndDestroyEvent&&(this.__onUserInteractionFinishedEndDestroyEvent(),this.__onUserInteractionFinishedEndDestroyEvent=null),null!==this.__onValueChangedDatetimeStartDestroyEvent&&(this.__onValueChangedDatetimeStartDestroyEvent(),this.__onValueChangedDatetimeStartDestroyEvent=null),null!==this.__onValueChangedDatetimeEndDestroyEvent&&(this.__onValueChangedDatetimeEndDestroyEvent(),this.__onValueChangedDatetimeEndDestroyEvent=null),null!==this.__onValueChangedTimespanStartDestroyEvent&&(this.__onValueChangedTimespanStartDestroyEvent(),this.__onValueChangedTimespanStartDestroyEvent=null),null!==this.__onValueChangedTimespanEndDestroyEvent&&(this.__onValueChangedTimespanEndDestroyEvent(),this.__onValueChangedTimespanEndDestroyEvent=null),null!==this.__subscriptionId&&(t.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null),null!==this.__requestId&&(t.Server.releaseRequest(this.__requestId),this.__requestId=null);var i={passive:!0,capture:!1},n={passive:!1,capture:!1};if(document.removeEventListener("mousemove",this.__mousemoveHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),document.removeEventListener("mouseup",this.__mouseupHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),document.removeEventListener("touchmove",this.__touchmoveHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&n),document.removeEventListener("touchend",this.__touchendHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&n),null!==this.__lineChart&&void 0!==this.__lineChart){var o=this.__lineChart.getCanvasDrawing();null!==o&&(o[0].removeEventListener("click",this.__clickHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),o[0].removeEventListener("mousedown",this.__mousedownHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),o[0].removeEventListener("touchstart",this.__touchstartHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&n),o[0].removeEventListener("mousemove",this.__mousemoveTooltipHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i),o[0].removeEventListener("wheel",this.__mousewheelHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&i)),this.__lineChart.remove(),this.__lineChart=null}this.__holdTimer&&(clearTimeout(this.__holdTimer),this.__holdTimer=0),this.__wheelInfo.timeout&&(window.clearTimeout(this.__wheelInfo.timeout),this.__wheelInfo.timeout=0)},i.prototype.destroy=function(){this.__keepAlive||e.prototype.destroy.call(this)},i.prototype.isDatetime=function(date){return!!date&&!isNaN(new Date(date).getTime())},i.prototype.isKeyword=function(t){switch(t){case"Latest":case"First":return!0}return!1},i.prototype.isTimespan=function(t){return!!t&&(!this.isKeyword(t)&&!this.isDatetime(t))},i.prototype.__onPressed=function(){var t=this;return function(e){null!==t.__elementMenuBarDropdown[0].parentElement&&t.showOptions(),-1!==e.name.search("stop")?t.stop():-1!==e.name.search("resetZoom")?t.resetZoom():-1!==e.name.search("reset")?t.reset():-1!==e.name.search("options")?t.showOptions():-1!==e.name.search("timespanButtonStart")?t.__menuBarControls[1].openTimespanPicker():-1!==e.name.search("datetimeButtonStart")?t.__menuBarControls[3].openDateTimePicker():-1!==e.name.search("timespanButtonEnd")?t.__menuBarControls[6].openTimespanPicker():-1!==e.name.search("datetimeButtonEnd")&&t.__menuBarControls[8].openDateTimePicker()}},i.prototype.__onUserInteractionFinished=function(){var t=this;return function(e){if(-1!==e.name.search("start"))i=(i=t.__menuBarControls[0].getText())?i.toString():null,t.isDatetime(i)&&(i=t.__moveTimeZoneToUtc(i)),t.setStart(i);else if(-1!==e.name.search("end")){var i;i=(i=t.__menuBarControls[5].getText())?i.toString():null,t.isDatetime(i)&&(i=t.__moveTimeZoneToUtc(i)),t.setEnd(i)}}},i.prototype.__onIsActiveChaged=function(){var e=this;return function(n){for(var o=!1,s=0,r=e.__menuBarControls.length;s<r;s++){if(e.__menuBarControls[s].getId()===e.__id+"_panxButton")"Active"===e.__menuBarControls[s].getToggleState()&&(e.__mouseMode=i.MouseMode.PanX,t.EventProvider.raise(e.__id+".onFunctionResultChanged",["getMouseMode"]),o=!0);else if(e.__menuBarControls[s].getId()===e.__id+"_panxyButton"){"Active"===e.__menuBarControls[s].getToggleState()&&(e.__mouseMode=i.MouseMode.PanXY,t.EventProvider.raise(e.__id+".onFunctionResultChanged",["getMouseMode"]),o=!0)}else if(e.__menuBarControls[s].getId()===e.__id+"_zoomxButton"){"Active"===e.__menuBarControls[s].getToggleState()&&(e.__mouseMode=i.MouseMode.ZoomX,t.EventProvider.raise(e.__id+".onFunctionResultChanged",["getMouseMode"]),o=!0)}else if(e.__menuBarControls[s].getId()===e.__id+"_zoomxyButton"){"Active"===e.__menuBarControls[s].getToggleState()&&(e.__mouseMode=i.MouseMode.ZoomXY,t.EventProvider.raise(e.__id+".onFunctionResultChanged",["getMouseMode"]),o=!0)}}if(null!==e.__elementMenuBarDropdown[0].parentElement&&e.showOptions(),!o){var a=e.__menuBarControls[12];null!=a&&a.getId()===e.__id+"_panxButton"&&(e.__mouseMode=i.MouseMode.PanX,t.EventProvider.raise(e.__id+".onFunctionResultChanged",["getMouseMode"]),a.setToggleState("Active"),null!==e.__elementMenuBarDropdown[0].parentElement&&e.showOptions())}}},i.prototype.__onValueChanged=function(){var t=this;return function(e){if(!t.__nowIsValueChanged){if(-1!==e.name.search("timespanStart")){if(t.__menuBarControls[0]&&t.__menuBarControls[1]){t.__nowIsValueChanged=!0;var i=t.__menuBarControls[1].getValue();t.setStart(i)}}else if(-1!==e.name.search("datetimeStart")){if(t.__menuBarControls[0]&&t.__menuBarControls[3]){t.__nowIsValueChanged=!0;i=t.__menuBarControls[3].getValue();t.setStart(i)}}else if(-1!==e.name.search("timespanEnd")){if(t.__menuBarControls[5]&&t.__menuBarControls[6]){t.__nowIsValueChanged=!0;i=t.__menuBarControls[6].getValue();t.setEnd(i)}}else if(-1!==e.name.search("datetimeEnd")&&t.__menuBarControls[5]&&t.__menuBarControls[8]){t.__nowIsValueChanged=!0;i=t.__menuBarControls[8].getValue();t.setEnd(i)}t.__nowIsValueChanged=!1}}},i.prototype.__rebuild=function(){var t=this;return function(e,i){t.__isAttached&&!TCHMI_DESIGNER&&t.__lineGraphDescriptions&&t.__lineGraphDescriptions.length>0?t.__openWebsocket():t.__drawLineChart(),t.__calcMenuButtons()}},i.prototype.__openWebsocket=function(){TCHMI_DESIGNER||(this.__elementLoading[0].appendChild(this.__loadingSpinner),this.__getData())},i.prototype.__milliSecToIso=function(t){var e=!1;t<0&&(e=!0,t*=-1);var i=Math.floor(t/3154e7),n=Math.floor(t%3154e7/2628e6),o=Math.floor(t%3154e7%2628e6/864e5),s=Math.floor(t%3154e7%2628e6%864e5/36e5),r=Math.floor(t%3154e7%2628e6%864e5%36e5/6e4),a=Math.floor(t%3154e7%2628e6%864e5%36e5%6e4/1e3),l=Math.floor(t%3154e7%2628e6%864e5%36e5%6e4%1e3),_="";return e&&(_+="-"),_+="P",i>0&&(_+=i+"Y"),n>0&&(_+=n+"M"),o>0&&(_+=o+"D"),(s>0||r>0||a>0||l>0)&&(_+="T"),s>0&&(_+=s+"H"),r>0&&(_+=r+"M"),(a>0||0===o&&0===s&&0===r)&&(_+=a),l>0&&(_+="."+("00"+l).slice(-3).replace(/\.?0+$/,"")),(l>0||a>0)&&(_+="S"),_},i.prototype.__isoToMilliSec=function(t){for(var e=0,i=0,n=0,o=0,s=0,r=0,a=!1,l=!1,_=t.split(""),h=0,u=_.length;h<u;h++){for(var d=0,c="";_[h]>="0"&&_[h]<="9"||"."===_[h];)c+=_[h],h++,d=parseFloat(c);switch(_[h]){case"-":a=!0;break;case"Y":r=d;break;case"D":o=d;break;case"T":l=!0;break;case"H":n=d;break;case"M":l?i=d:s=d;break;case"S":e=d}}var m=3154e7*r;return m+=2628e6*s,m+=864e5*o,m+=36e5*n,m+=6e4*i,m+=1e3*e,a&&(m*=-1),m},i.prototype.__getData=function(){if(this.__isAttached&&(this.__tooltipInformation.show&&(this.__elementTooltip.css("visibility","hidden"),this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]}),null!==this.__subscriptionId&&(t.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null),null!==this.__lineGraphDescriptions&&void 0!==this.__lineGraphDescriptions)){for(var e=this.__elementTemplateRoot.width(),i=[],n=0,o=this.__lineGraphDescriptions.length;n<o;n++)i.push({symbol:this.__lineGraphDescriptions[n].symbol});var s,r,a=this.__serverDomain+".GetTrendLineData",l=this.__serverDomain+".GetTrendLineWindow";s={chartName:this.__id,xAxisStart:this.__internalStart,xAxisEnd:this.__internalEnd,yAxes:i,displayWidth:e},r={chartName:this.__id,xAxisStart:this.__internalStart,xAxisEnd:this.__internalEnd,yAxes:i};for(n=0,o=this.__menuBarControls.length;n<o;n++)-1===this.__menuBarControls[n].getId().search("options")&&"Visible"===this.__menuBarControls[n].getVisibility()&&this.__menuBarControls[n].setIsEnabled(!1);if("Latest"===this.__internalEnd&&null!==this.__internalStart||null!==this.__internalEnd&&"First"===this.__internalStart)this.__subscriptionId=t.Server.subscribe([{commandOptions:["SendErrorMessage"],symbol:a,writeValue:s},{commandOptions:["SendErrorMessage"],symbol:l,writeValue:r}],void 0===this.__interval?this.getAttributeDefaultValueInternal("Interval"):this.__interval,this.__getDataCallback());else{var _={requestType:"ReadWrite",commands:[{commandOptions:["SendErrorMessage"],symbol:a,writeValue:s}]};this.__requestId=t.Server.request(_,this.__getDataCallback())}}},i.prototype.__getDataCallback=function(){var e=this;return function(i){e.__requestId=null;var n=e.__lastInteraction;if(i.error===t.Errors.NONE&&i.response){if(null!==i.response.error&&void 0!==i.response.error)return n?(e.__loadingSpinner.remove(),t.Log.error("[Source=Control, Module=TcHmi_Controls_Beckhoff_TcHmiTrendLineChart, Id="+e.getId()+"] Server responds with error. Details: "+t.Log.buildMessage(i.response.error)),void e.__resetBeforeLastManipulation()):274===i.response.error.code&&e.__getDataCounter<100?(e.__getDataCounter++,void window.setTimeout(function(){e.__getData()},50)):(e.__loadingSpinner.remove(),null!==i.response.commands&&void 0!==i.response.commands&&t.Log.error("[Source = Control, Class = TcHmiTrendLineChart, Id = "+e.getId()+"] Server responds with error. Details: "+t.Log.buildMessage(i.response.error)),void e.__reset());if(e.__getDataCounter=0,null!==i.response.commands&&void 0!==i.response.commands){for(var o=!1,s=0,r=i.response.commands.length;s<r;s++)if(null!==i.response.commands[s].error&&void 0!==i.response.commands[s].error){if(e.__loadingSpinner.remove(),o=!0,t.Log.error("[Source=Control, Module=TcHmi_Controls_Beckhoff_TcHmiTrendLineChart, Id="+e.getId()+"] Server responds with error for command for symbol="+i.response.commands[s].symbol+". Details: "+t.Log.buildMessage(i.response.commands[s].error)),n)return void e.__resetBeforeLastManipulation();e.__reset()}else if(null!==i.response.commands[s].readValue&&void 0!==i.response.commands[s].readValue)if(0===e.__getDataCounter){if(e.__loadingSpinner.remove(),void 0!==e.__subscriptionId)if(i.response.commands[s].symbol===e.__serverDomain+".GetTrendLineData"){if(null!==e.__lineGraphData&&e.__lineGraphData.splice(0,e.__lineGraphData.length),null!==e.__lineGraphRawData&&e.__lineGraphRawData.splice(0,e.__lineGraphRawData.length),null!==i.response.commands[s].readValue.axesData&&void 0!==i.response.commands[s].readValue.axesData&&i.response.commands[s].readValue.axesData.length>0){for(var a=[],l=0,_=i.response.commands[s].readValue.axesData.length;l<_;l++){for(var h=[],u=0,d=i.response.commands[s].readValue.axesData[l].length;u<d;u++){var c=new Date(i.response.commands[s].readValue.axesData[l][u].x).getTime();i.response.commands[s].readValue.axesData[l][u].x=c;var m=!0,p=i.response.commands[s].readValue.axesData[l][u].flags;void 0!==p&&("Start"===p&&u>0?(!0,h[u-1].bindPoints=!1):"Stop"===p&&(!0,m=!1));var g=void 0!==i.response.commands[s].readValue.axesData[l][u].error;g&&u>0&&(h[u-1].bindPoints=!1),h.push({x:c,y:i.response.commands[s].readValue.axesData[l][u].y,bindPoints:m,isArea:g})}a.push(h)}e.__lineGraphData=a,e.__lineGraphRawData=i.response.commands[s].readValue.axesData,e.__endBeforeManipulation=e.__internalEnd,e.__startBeforeManipulation=e.__internalStart}}else i.response.commands[s].symbol===e.__serverDomain+".GetTrendLineWindow"&&(e.__internalStartServer=new Date(i.response.commands[s].readValue.xAxisStart).getTime(),e.__internalEndServer=new Date(i.response.commands[s].readValue.xAxisEnd).getTime())}else{if(o=!0,e.__loadingSpinner.remove(),n)return void e.__resetBeforeLastManipulation();e.__reset()}else{if(o=!0,e.__loadingSpinner.remove(),n)return void e.__resetBeforeLastManipulation();e.__reset()}o||e.__drawLineChart()}else{if(e.__loadingSpinner.remove(),n)return void e.__resetBeforeLastManipulation();e.__reset()}}else{if(e.__loadingSpinner.remove(),i.error&&t.Log.error("[Source=Control, Module=TcHmi_Controls_Beckhoff_TcHmiTrendLineChart, Id="+e.getId()+"] Framework error= "+i.error+", name="+t.Errors[i.error]+" while fetching data from server."),n)return void e.__resetBeforeLastManipulation();e.__reset()}"First"!==e.__internalStart&&"Latest"!==e.__internalEnd?e.__setMenuButtonsFromStop():(e.__setMenuButtonsFromStart(),e.__startEndBeforeZoom={end:e.__internalEnd,start:e.__internalStart})}},i.prototype.__resetBeforeLastManipulation=function(){if(null!==this.__lineChart){var t=this.__lineChart.getCanvasDrawing();if(null===t)return;var e=t[0].getContext("2d");if(null!==e){if(e.setTransform(1,0,0,1,0,0),this.__lineChart.setLineChanged(!0),this.__lineChart.draw(),null===this.__lineGraphData)return;if(null===this.__internalEnd)return;this.__endBeforeManipulation!==this.__internalEnd&&(this.__internalEnd=this.__endBeforeManipulation,null===this.__internalEnd?this.__endDatatype=null:this.isDatetime(this.__internalEnd)?this.__endDatatype=i.Datatype.Datetime:this.isKeyword(this.__internalEnd)?this.__endDatatype=i.Datatype.Keyword:this.__endDatatype=i.Datatype.Timespan),this.__internalStart!==this.__startBeforeManipulation&&(this.__internalStart=this.__startBeforeManipulation,null===this.__internalStart?this.__startDatatype=null:this.isDatetime(this.__internalStart)?this.__startDatatype=i.Datatype.Datetime:this.isKeyword(this.__internalStart)?this.__startDatatype=i.Datatype.Keyword:this.__startDatatype=i.Datatype.Timespan);var n=this.__elementChart[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-canvas-zooming");n.length>0&&n[0].classList.add("tchmi-no-pointer-events"),"First"!==this.__internalStart&&"Latest"!==this.__internalEnd?this.__setMenuButtonsFromStop():this.__setMenuButtonsFromStart()}}},i.prototype.__drawLineChart=function(){var e=[],n=void 0===this.__showXAxis?this.getAttributeDefaultValueInternal("ShowXAxis"):this.__showXAxis,o=[],s=this.__calcSizes();if(null!==s.width&&null!==s.height){if(null!==this.__lineChart&&void 0!==this.__lineChart){this.__lineChart.clear(s.width,s.height);var r=this.__elementChart[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-canvas-zooming");if(r.length>0){var a=r[0];a.classList.add("tchmi-no-pointer-events");var l=a.getContext("2d");null!==l&&l.clearRect(0,0,s.width,s.height),a.width=s.width,a.height=s.height}}else{this.__lineChart=new TcHmiCharting.LineAreaChart(this.__elementChart,s.width,s.height);var _=document.createElement("canvas");_.setAttribute("height",s.height.toString()),_.setAttribute("width",s.width.toString()),_.setAttribute("class","tchmi-no-pointer-events TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-canvas-zooming"),_.setAttribute("style","position:absolute;width:100%;height:100%;"),this.__elementChart[0].appendChild(_),this.__zoomingCanvasContext=_.getContext("2d");var h=this.__lineChart.getCanvasDrawing();if(null!==h){var u={passive:!0,capture:!1};h[0].addEventListener("click",this.__clickHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&u),h[0].addEventListener("mousedown",this.__mousedownHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&u),h[0].addEventListener("touchstart",this.__touchstartHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&{passive:!1,capture:!1}),h[0].addEventListener("mousemove",this.__mousemoveTooltipHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&u),h[0].addEventListener("wheel",this.__mousewheelHandler,!!TCHMI_EVENT_OPTION_OBJECT_SUPPORTED&&u)}}this.__lineChart.addXAxis();var d=this.__lineChart.getXAxis();if(null!==d){if(d.setShowAxis(n),d.setShowSubTicks(void 0===this.__showXSubTicks?this.getAttributeDefaultValueInternal("ShowXSubTicks"):this.__showXSubTicks),d.setShowAxisName(void 0===this.__showXAxisName?this.getAttributeDefaultValueInternal("ShowXAxisName"):this.__showXAxisName),t.isSolidColor(this.__xAxisColor)?d.setAxisColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__xAxisColor)):d.setAxisColor(null),d.setDecimalPlaces(0),d.setAxisName(t.ValueConverter.toString(this.__xAxisName)),t.isSolidColor(this.__xAxisNameFontColor)?d.setAxisNameFontColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__xAxisNameFontColor)):d.setAxisNameFontColor(null),d.setAxisNameFontFamily(this.__xAxisNameFontFamily),d.setAxisNameFontSize(void 0===this.__xAxisNameFontSize?this.getAttributeDefaultValueInternal("XAxisNameFontSize"):this.__xAxisNameFontSize),d.setAxisNameFontSizeUnit(void 0===this.__xAxisNameFontSizeUnit?this.getAttributeDefaultValueInternal("XAxisNameFontSizeUnit"):this.__xAxisNameFontSizeUnit),d.setAxisNameFontWeight(void 0===this.__xAxisNameFontWeight?this.getAttributeDefaultValueInternal("XAxisNameFontWeight"):this.__xAxisNameFontWeight),d.setAxisWidth(void 0===this.__xAxisWidth?this.getAttributeDefaultValueInternal("XAxisWidth"):this.__xAxisWidth),t.isSolidColor(this.__xLabelFontColor)?d.setLabelFontColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__xLabelFontColor)):d.setLabelFontColor(null),d.setLabelFontFamily(this.__xLabelFontFamily),d.setLabelFontSize(void 0===this.__xLabelFontSize?this.getAttributeDefaultValueInternal("XLabelFontSize"):this.__xLabelFontSize),d.setLabelFontSizeUnit(void 0===this.__xLabelFontSizeUnit?this.getAttributeDefaultValueInternal("XLabelFontSizeUnit"):this.__xLabelFontSizeUnit),d.setLabelFontWeight(void 0===this.__xLabelFontWeight?this.getAttributeDefaultValueInternal("XLabelFontWeight"):this.__xLabelFontWeight),d.setMainTickSteps(void 0===this.__xMainTickSteps?this.getAttributeDefaultValueInternal("XMainTickSteps"):this.__xMainTickSteps),TCHMI_DESIGNER)d.setShowLabels(!1),null!==this.__internalYAxis&&this.__internalYAxis.length>0&&(e=this.__internalYAxis.slice()),!1;else if(this.__internalEnd&&this.__internalStart&&this.__lineGraphDescriptions&&this.__lineGraphDescriptions.length>0){var c=void 0,m=void 0;if(this.isDatetime(this.__internalStart))c=new Date(this.__internalStart).getTime();else this.isKeyword(this.__internalStart)?c=this.__internalStartServer:m=this.__isoToMilliSec(this.__internalStart);var p=void 0,g=void 0;if(this.isDatetime(this.__internalEnd))p=new Date(this.__internalEnd).getTime();else this.isKeyword(this.__internalEnd)?p=this.__internalEndServer:g=this.__isoToMilliSec(this.__internalEnd);if(c||p){if(c)d.setMainTickStartValue(c);else if(p&&void 0!==m){var C=p-m;d.setMainTickStartValue(C)}if(p)d.setMainTickEndValue(p);else if(c&&void 0!==g){C=c+g;d.setMainTickEndValue(C)}d.setShowLabels(void 0===this.__xShowLabels?this.getAttributeDefaultValueInternal("XShowLabels"):this.__xShowLabels),d.setXAxisCallback(this.__xAxisCallbackFunction())}else d.setShowAxis(!1),d.setShowLabels(!1);null===this.__lineGraphData?(!1,d.setShowLabels(!1),null!==this.__internalYAxis&&(e=this.__internalYAxis.slice())):0===this.__lineGraphData.length?(!1,d.setShowLabels(!1),null!==this.__internalYAxis&&(e=this.__internalYAxis.slice())):null!==this.__internalLineGraphDescription&&null!==this.__internalYAxis&&(o=this.__internalLineGraphDescription.slice(),e=this.__internalYAxis.slice())}else d.setShowLabels(!1),null!==this.__internalYAxis&&this.__internalYAxis.length>0&&(e=this.__internalYAxis.slice()),!1;d.setSubTickSteps(void 0===this.__xSubTickSteps?this.getAttributeDefaultValueInternal("XSubTickSteps"):this.__xSubTickSteps),d.setAutoScaling(!1)}if(null!=e)for(var f=0,v=e.length;f<v;f++){this.__lineChart.addYAxis(t.ValueConverter.toEnum(e[f].position,i.AxisPosition,i.AxisPosition.Left));var T=this.__lineChart.getYAxisAtPosition(this.__lineChart.getYAxis().length-1);T.setShowAxis(!0),T.setAutoScaling(t.ValueConverter.toBoolean(e[f].autoScaling,!1));var b=e[f].axisColor;if(t.isSolidColor(b))T.setAxisColor(t.StyleProvider.resolveSolidColorAsCssValue(b));else{var y=t.Theme.Resources.get(this,"YAxisAxisColor");t.isSolidColor(y.value)?T.setAxisColor(t.StyleProvider.resolveSolidColorAsCssValue(y.value)):T.setAxisColor(null)}T.setAxisName(t.ValueConverter.toString(e[f].axisName));var S=e[f].axisNameFontColor;if(t.isSolidColor(S))T.setAxisNameFontColor(t.StyleProvider.resolveSolidColorAsCssValue(S));else{var x=t.Theme.Resources.get(this,"YAxisAxisNameFontColor");t.isSolidColor(x.value)?T.setAxisNameFontColor(t.StyleProvider.resolveSolidColorAsCssValue(x.value)):T.setAxisNameFontColor(null)}T.setAxisNameFontFamily(t.ValueConverter.toFontFamily(e[f].axisNameFontFamily)),T.setAxisNameFontSize(t.ValueConverter.toNumber(e[f].axisNameFontSize));var L=e[f].axisNameFontSizeUnit;void 0!==L?T.setAxisNameFontSizeUnit(L):T.setAxisNameFontSizeUnit(null);var A=e[f].axisNameFontWeight;void 0!==A?T.setAxisNameFontWeight(A):T.setAxisNameFontWeight(null),T.setDecimalPlaces(t.ValueConverter.toNumber(e[f].decimalPlaces));var B=e[f].labelFontColor;if(t.isSolidColor(B))T.setLabelFontColor(t.StyleProvider.resolveSolidColorAsCssValue(B));else{var w=t.Theme.Resources.get(this,"YAxisLabelFontColor");t.isSolidColor(w.value)?T.setLabelFontColor(t.StyleProvider.resolveSolidColorAsCssValue(w.value)):T.setLabelFontColor(null)}T.setMainTickStartValue(t.ValueConverter.toNumber(e[f].mainTickMinValue)),T.setMainTickEndValue(t.ValueConverter.toNumber(e[f].mainTickMaxValue)),T.setShowLabels(t.ValueConverter.toBoolean(e[f].showLabels,!0)),T.setShowAxisName(t.ValueConverter.toBoolean(e[f].showAxisName,!0)),T.setUnit(t.ValueConverter.toString(e[f].unit)),T.setAxisWidth(void 0===this.__yAxisWidth?this.getAttributeDefaultValueInternal("YAxisWidth"):this.__yAxisWidth),T.setLabelFontFamily(this.__yLabelFontFamily),T.setLabelFontSize(void 0===this.__yLabelFontSize?this.getAttributeDefaultValueInternal("YLabelFontSize"):this.__yLabelFontSize),T.setLabelFontSizeUnit(void 0===this.__yLabelFontSizeUnit?this.getAttributeDefaultValueInternal("YLabelFontSizeUnit"):this.__yLabelFontSizeUnit),T.setLabelFontWeight(void 0===this.__yLabelFontWeight?this.getAttributeDefaultValueInternal("YLabelFontWeight"):this.__yLabelFontWeight),T.setMainTickSteps(void 0===this.__yMainTickSteps?this.getAttributeDefaultValueInternal("YMainTickSteps"):this.__yMainTickSteps),T.setSubTickSteps(void 0===this.__ySubTickSteps?this.getAttributeDefaultValueInternal("YSubTickSteps"):this.__ySubTickSteps),T.setShowSubTicks(void 0===this.__showYSubTicks?this.getAttributeDefaultValueInternal("ShowYSubTicks"):this.__showYSubTicks)}if(this.__showGrid){this.__lineChart.addGrid();var F=this.__lineChart.getGrid();null!==F&&(F.setShowHorizontalLines(void 0===this.__gridShowHorizontalLines?this.getAttributeDefaultValueInternal("GridShowHorizontalLines"):this.__gridShowHorizontalLines),F.setShowVerticalLines(void 0===this.__gridShowVerticalLines?this.getAttributeDefaultValueInternal("GridShowVerticalLines"):this.__gridShowVerticalLines),F.setLineWidth(void 0===this.__gridLineWidth?this.getAttributeDefaultValueInternal("GridLineWidth"):this.__gridLineWidth),F.setLineStyle(void 0===this.__gridLineStyle?this.getAttributeDefaultValueInternal("GridLineStyle"):this.__gridLineStyle),t.isSolidColor(this.__gridLineColor)?F.setLineColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__gridLineColor)):F.setLineColor(null),t.isSolidColor(this.__gridBackgroundColor)?F.setBackgroundColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__gridBackgroundColor)):F.setBackgroundColor(null))}this.__lineChart.addSubgrid();var D=this.__lineChart.getSubgrid();if(null!==D&&(D.setShowHorizontalLines(void 0===this.__subgridShowHorizontalLines?this.getAttributeDefaultValueInternal("SubgridShowHorizontalLines"):this.__subgridShowHorizontalLines),D.setShowVerticalLines(void 0===this.__subgridShowVerticalLines?this.getAttributeDefaultValueInternal("SubgridShowVerticalLines"):this.__subgridShowVerticalLines),D.setLineWidth(void 0===this.__subgridLineWidth?this.getAttributeDefaultValueInternal("SubgridLineWidth"):this.__subgridLineWidth),D.setLineStyle(void 0===this.__subgridLineStyle?this.getAttributeDefaultValueInternal("SubgridLineStyle"):this.__subgridLineStyle),t.isSolidColor(this.__subgridLineColor)?D.setLineColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__subgridLineColor)):D.setLineColor(null)),null!=o&&null!==this.__lineGraphData&&this.__lineGraphData.length>=o.length)for(f=0,v=o.length;f<v;f++)if(null!=e)for(var E=0,I=e.length;E<I;E++)if(e[E].id===o[f].yAxisId){this.__lineChart.addGraph({points:this.__lineGraphData[f],yAxis:this.__lineChart.getYAxisAtPosition(E)});var M=this.__lineChart.getLineGraphsAtPosition(this.__lineChart.getLineGraphs().length-1);if(null!=M){var k=void 0,V=t.Theme.Resources.get(this,"ErrorMarkingColor");if(k=t.isSolidColor(V.value)?t.StyleProvider.resolveSolidColorAsCssValue(V.value):"rgba(255, 0, 0, 0.4)",null!==this.__lineGraphRawData){for(var H=null,P=null,N=null,R=0,z=this.__lineGraphRawData[f].length;R<z;R++){var Y=this.__lineGraphRawData[f][R].error;void 0!==Y?(null===H?H=0===R?this.__lineGraphRawData[f][R].x:this.__lineGraphRawData[f][R-1].x:Y!==N&&P&&(M.addArea({beginX:H,endX:P,backgroundColor:k}),H=P),P=this.__lineGraphRawData[f][R].x,N=Y):H&&(M.addArea({beginX:H,endX:this.__lineGraphRawData[f][R].x,backgroundColor:k}),H=null)}H&&(M.addArea({beginX:H,endX:this.__lineGraphRawData[f][this.__lineGraphRawData[f].length-1].x,backgroundColor:k}),H=null)}var X=o[f].lineColor;if(t.isSolidColor(X))M.setLineColor(t.StyleProvider.resolveSolidColorAsCssValue(X));else{y=t.Theme.Resources.get(this,"LineGraphDescriptionLineColor");t.isSolidColor(y.value)?M.setLineColor(t.StyleProvider.resolveSolidColorAsCssValue(y.value)):M.setLineColor(null)}M.setLineWidth(t.ValueConverter.toNumber(o[f].lineWidth)),"Latest"!==this.__internalEnd&&"First"!==this.__internalStart?M.setPointDot(t.ValueConverter.toBoolean(o[f].pointDotInStopMode,!0)):M.setPointDot(t.ValueConverter.toBoolean(o[f].pointDot,!1));var W=o[f].pointDotFillColor;if(t.isSolidColor(W))M.setPointDotFillColor(t.StyleProvider.resolveSolidColorAsCssValue(W));else{var U=t.Theme.Resources.get(this,"LineGraphDescriptionPointDotFillColor");t.isSolidColor(U.value)?M.setPointDotFillColor(t.StyleProvider.resolveSolidColorAsCssValue(U.value)):M.setPointDotFillColor(null)}M.setPointDotRadius(t.ValueConverter.toNumber(o[f].pointDotRadius));var G=o[f].pointDotStrokeColor;if(t.isSolidColor(G))M.setPointDotStrokeColor(t.StyleProvider.resolveSolidColorAsCssValue(G));else{var O=t.Theme.Resources.get(this,"LineGraphDescriptionPointDotStrokeColor");t.isSolidColor(O.value)?M.setPointDotStrokeColor(t.StyleProvider.resolveSolidColorAsCssValue(O.value)):M.setPointDotStrokeColor(null)}M.setPointDotStrokeWidth(t.ValueConverter.toNumber(o[f].pointDotStrokeWidth))}}if(this.__lineChart.setYAxisWidth(void 0===this.__yAxisWidth?this.getAttributeDefaultValueInternal("YAxisWidth"):this.__yAxisWidth),this.__lineChart.setYLabelFontFamily(this.__yLabelFontFamily),this.__lineChart.setYLabelFontSize(void 0===this.__yLabelFontSize?this.getAttributeDefaultValueInternal("YLabelFontSize"):this.__yLabelFontSize),this.__lineChart.setYLabelFontSizeUnit(void 0===this.__yLabelFontSizeUnit?this.getAttributeDefaultValueInternal("YLabelFontSizeUnit"):this.__yLabelFontSizeUnit),this.__lineChart.setYLabelFontWeight(void 0===this.__yLabelFontWeight?this.getAttributeDefaultValueInternal("YLabelFontWeight"):this.__yLabelFontWeight),this.__lineChart.setYMainTickSteps(void 0===this.__yMainTickSteps?this.getAttributeDefaultValueInternal("YMainTickSteps"):this.__yMainTickSteps),this.__lineChart.setYSubTickSteps(void 0===this.__ySubTickSteps?this.getAttributeDefaultValueInternal("YSubTickSteps"):this.__ySubTickSteps),this.__lineChart.setShowYSubTicks(void 0===this.__showYSubTicks?this.getAttributeDefaultValueInternal("ShowYSubTicks"):this.__showYSubTicks),this.__lineChart.draw(),e.splice(0,e.length),o.splice(0,o.length),null!==d){var j=d.getMainTickStartValue();j!==this.__actualStartTime&&(this.__actualStartTime=j,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getActualStartTime"]));var Z=d.getMainTickEndValue();Z!==this.__actualEndTime&&(this.__actualEndTime=Z,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getActualEndTime"]))}}},i.prototype.__calcSizes=function(){var t=this.getRenderedWidth();if(!t)return{width:null,height:null};var e=this.getRenderedHeight();return e?(this.__borderWidth&&this.__borderStyle&&("None"!==this.__borderStyle.left&&(t-=this.__borderWidth.left),"None"!==this.__borderStyle.right&&(t-=this.__borderWidth.right),"None"!==this.__borderStyle.top&&(e-=this.__borderWidth.top),"None"!==this.__borderStyle.bottom&&(e-=this.__borderWidth.bottom)),t-=10,this.__showMenuBar?e-=65:e-=10,{width:t,height:e}):{width:t,height:null}},i.prototype.__reset=function(){if(!TCHMI_DESIGNER){if(null!==this.__lineGraphData&&void 0!==this.__lineGraphData&&this.__lineGraphData.splice(0,this.__lineGraphData.length),null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__calcSizes();if(null===t.width||null===t.height)return;this.__lineChart.clear(t.width,t.height)}var e=this.__elementChart[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-canvas-zooming");e.length>0&&e[0].classList.add("tchmi-no-pointer-events");for(var i=!1,n=0,o=this.__menuBarControls.length;n<o;n++){if(this.__menuBarControls[n].getId()===this.__id+"_stopButton")this.__menuBarControls[n].setIsEnabled(!1);else if(this.__menuBarControls[n].getId()===this.__id+"_panxButton"){this.__menuBarControls[n].setIsEnabled(!1),"Active"===this.__menuBarControls[n].getToggleState()&&(i=!0)}else if(this.__menuBarControls[n].getId()===this.__id+"_panxyButton"){this.__menuBarControls[n].setIsEnabled(!1),"Active"===this.__menuBarControls[n].getToggleState()&&(i=!0)}else if(this.__menuBarControls[n].getId()===this.__id+"_zoomxButton"){this.__menuBarControls[n].setIsEnabled(!1),"Active"===this.__menuBarControls[n].getToggleState()&&(i=!0)}else if(this.__menuBarControls[n].getId()===this.__id+"_zoomxyButton"){this.__menuBarControls[n].setIsEnabled(!1),"Active"===this.__menuBarControls[n].getToggleState()&&(i=!0)}else this.__menuBarControls[n].getId()===this.__id+"_resetZoomButton"?this.__menuBarControls[n].setIsEnabled(!1):this.__menuBarControls[n].getId()===this.__id+"_resetButton"?this.__menuBarControls[n].setIsEnabled(!1):this.__menuBarControls[n].getId()===this.__id+"_startCombobox"?this.__menuBarControls[n].setIsEnabled(!0):this.__menuBarControls[n].getId()===this.__id+"_endCombobox"&&this.__menuBarControls[n].setIsEnabled(!0);if(!i&&this.__isAttached){var s=this.__menuBarControls[12];s.getId()===this.__id+"_panxButton"&&s.setToggleState("Active")}}}},i.prototype.__createTooltip=function(e,i,n){if(this.__elementTooltip.css("visibility","hidden"),this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]},this.__lineChart){var o=this.__lineChart.getYAxisAtPosition(0);if(o){var s=o.getAxisWidth();if(null!==s){var r=this.__lineChart.getDrawingBorder(),a=o.getDiffEndLabelAndLine()+s/2+5+r,l=this.__lineChart.getXAxis(),_=0;if(null!==l){_=l.getXAxisLeftWidth()||0;var h=this.__lineChart.getYAxis();if(null!=h){var u=h[0].getLineHeight(),d=this.__lineChart.getLineGraphs(),c=[],m=[],p=0,g=l.getMainTickStartValue(),C=l.getMainTickEndValue();if(null!==g&&null!==C){var f=C-g,v=l.getLineWidth();p=g+(e-_)*(f/v);for(var T=function(t,n){var o=d[t],s=o.getPointDotRadius();if(null!==s&&o.getPointDot()){var r=o.getPoints();if(null!=r)for(var h=0,p=r.length;h<p;h++)if(e>=_&&e<=_+l.getLineWidth()&&i>=a&&i<=a+u&&r[h].xPosition-s<=e&&e<=r[h].xPosition+s&&r[h].yPosition-s<=i&&r[h].yPosition+s>=i){var g="",C=null;b.__internalLineGraphDescription&&b.__internalLineGraphDescription[t]&&(g=b.__internalLineGraphDescription[t].symbol,C=b.__internalLineGraphDescription[t]);var f=null;if(b.__internalYAxis&&C)for(var id=C.yAxisId,v=0,T=b.__internalYAxis.length;v<T;v++)if(b.__internalYAxis[v].id===id){f=b.__internalYAxis[v];break}f&&m.push({yAxis:f,coordinates:{x:r[h].xPosition,y:r[h].yPosition},values:{x:r[h].xValue,y:r[h].yValue},symbolname:g})}}for(var y=o.getAreaPoints(),S=function(n,o){if(e>=_&&e<=_+l.getLineWidth()&&i>=a&&i<=a+u&&y[n].xBeginPosition<=e&&e<=y[n].xEndPosition){var s=0;if(null!==b.__lineGraphRawData){var r=b.__lineGraphRawData[t].filter(function(t){return t.x===y[n].xBeginValue}),h=b.__lineGraphRawData[t].indexOf(r[0]);s=b.__lineGraphRawData[t][h+1].error}if(b.__internalLineGraphDescription&&b.__internalLineGraphDescription[t]){var d=b.__internalLineGraphDescription[t],m=null;if(b.__internalYAxis&&d)for(var id=d.yAxisId,p=0,g=b.__internalYAxis.length;p<g;p++)if(b.__internalYAxis[p].id===id){m=b.__internalYAxis[p];break}m&&c.push({yAxis:m,xBeginTime:y[n].xBeginValue,xEndTime:y[n].xEndValue,xBegin:y[n].xBeginPosition,xEnd:y[n].xEndPosition,error:s,symbolname:d.symbol})}}},x=0,L=y.length;x<L;x++)S(x)},b=this,y=0,S=d.length;y<S;y++)T(y);if(0===c.length&&0===m.length)this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]};else{this.__tooltipInformation={show:!0,isActive:n,time:p,points:[],errors:[]};for(var x=0,L=c.length;x<L;x++)this.__tooltipInformation.errors.push({yAxis:c[x].yAxis,beginTime:c[x].xBeginTime,endTime:c[x].xEndTime,errorCode:c[x].error,symbolname:c[x].symbolname});for(var A=0,B=m.length;A<B;A++)this.__tooltipInformation.points.push({yAxis:m[A].yAxis,point:{x:m[A].values.x,y:m[A].values.y},symbolname:m[A].symbolname});var w=this.__executeTooltipFormatFunction(p,this.__tooltipInformation.points.reverse(),this.__tooltipInformation.errors.reverse());if(this.__elementTooltip.css("visibility","visible"),null===w)return void this.__elementTooltip.css("visibility","hidden");this.__elementTooltipText[0].innerHTML=w;var F=null,D=t.Theme.Resources.get(this,"TooltipFontColor");t.isSolidColor(D.value)&&(F=t.StyleProvider.resolveSolidColorAsCssValue(D.value)),t.isSolidColor(this.__tooltipFontColor)&&(F=t.StyleProvider.resolveSolidColorAsCssValue(this.__tooltipFontColor)),null!=F&&this.__elementTooltipText.css("color",F);var E=this.__elementTooltip.width(),I=this.__elementTooltip.height(),M=0;this.__showMenuBar&&"Top"===this.__menuBarPosition&&(M=this.__elementMenuBar.outerHeight()+5),e-E/2>=_&&e+E/2<=_+l.getLineWidth()&&i-I>=a?(this.__elementTooltipArrow[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-top","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-bottom","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-left","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-right","tchmi-trend-line-chart-template-tooltip-arrow-top","tchmi-trend-line-chart-template-tooltip-arrow-bottom","tchmi-trend-line-chart-template-tooltip-arrow-left","tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltipArrow[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-bottom","tchmi-trend-line-chart-template-tooltip-arrow-bottom"),this.__elementTooltip.css({top:i-I-4+M+5,left:e+5-E/2})):e-E/2>=_&&e+E/2<=_+l.getLineWidth()?(this.__elementTooltipArrow[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-top","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-bottom","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-left","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-right","tchmi-trend-line-chart-template-tooltip-arrow-top","tchmi-trend-line-chart-template-tooltip-arrow-bottom","tchmi-trend-line-chart-template-tooltip-arrow-left","tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltipArrow[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-top","tchmi-trend-line-chart-template-tooltip-arrow-top"),this.__elementTooltip.css({top:i+4+M+5,left:e+5-E/2})):e>=_&&e+E<=_+l.getLineWidth()?(this.__elementTooltipArrow[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-top","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-bottom","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-left","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-right","tchmi-trend-line-chart-template-tooltip-arrow-top","tchmi-trend-line-chart-template-tooltip-arrow-bottom","tchmi-trend-line-chart-template-tooltip-arrow-left","tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltipArrow[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-left","tchmi-trend-line-chart-template-tooltip-arrow-left"),this.__elementTooltip.css({top:i-I/2+M+5,left:e+4+5})):(this.__elementTooltipArrow[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-top","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-bottom","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-left","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-right","tchmi-trend-line-chart-template-tooltip-arrow-top","tchmi-trend-line-chart-template-tooltip-arrow-bottom","tchmi-trend-line-chart-template-tooltip-arrow-left","tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltipArrow[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-right","tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltip.css({top:i-I/2+M+5,left:e-4-E+5}))}}}}}}}},i.prototype.__createTooltipFromTouch=function(e,i){this.__holdTimer&&(clearTimeout(this.__holdTimer),this.__holdTimer=0),this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},scale:{x:1,y:1},transform:{x:0,y:0},click:!1,mousePosition:{x:0,y:0}};if(this.__elementTooltip.css("visibility","hidden"),this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]},this.__lineChart){var n=this.__lineChart.getYAxisAtPosition(0);if(n){var o=n.getAxisWidth();if(null!==o){var s=this.__lineChart.getDrawingBorder(),r=n.getDiffEndLabelAndLine()+o/2+5+s,a=this.__lineChart.getXAxis(),l=0;if(null!==a){l=a.getXAxisLeftWidth()||0;var _=this.__lineChart.getYAxis();if(null!=_){var h=_[0].getLineHeight(),u=this.__lineChart.getLineGraphs(),d=[],c=[],m=0,p=a.getMainTickStartValue(),g=a.getMainTickEndValue();if(null!==p&&null!==g){var C=g-p,f=a.getLineWidth();m=p+(e-l)*(C/f);for(var v=function(t,n){var o=u[t],s=o.getPointDotRadius();if(null!==s&&o.getPointDot()){var _=o.getPoints();if(null!=_)for(var m=0,p=_.length;m<p;m++)if(e>=l-10&&e<=l+a.getLineWidth()+10&&i>=r-10&&i<=r+h+10){var g=Math.sqrt(Math.pow(e-_[m].xPosition,2)+Math.pow(i-_[m].yPosition,2));if(g<=10+s){var C="",f=null;T.__internalLineGraphDescription&&T.__internalLineGraphDescription[t]&&(C=T.__internalLineGraphDescription[t].symbol,f=T.__internalLineGraphDescription[t]);var v=null;if(T.__internalYAxis&&f)for(var id=f.yAxisId,b=0,y=T.__internalYAxis.length;b<y;b++)if(T.__internalYAxis[b].id===id){v=T.__internalYAxis[b];break}v&&c.push({yAxis:v,coordinates:{x:_[m].xPosition,y:_[m].yPosition},values:{x:_[m].xValue,y:_[m].yValue},symbolname:C,distance:g})}}}for(var S=o.getAreaPoints(),x=function(n,o){if(e>=l-5&&e<=l+a.getLineWidth()+5&&i>=r-5&&i<=r+h+5&&S[n].xBeginPosition-5<=e&&e<=S[n].xEndPosition+5){var s=0;if(null!==T.__lineGraphRawData){var _=T.__lineGraphRawData[t].filter(function(t){return t.x===S[n].xBeginValue}),u=T.__lineGraphRawData[t].indexOf(_[0]);s=T.__lineGraphRawData[t][u+1].error}if(T.__internalLineGraphDescription&&T.__internalLineGraphDescription[t]){var c=T.__internalLineGraphDescription[t],m=null;if(T.__internalYAxis&&c)for(var id=c.yAxisId,p=0,g=T.__internalYAxis.length;p<g;p++)if(T.__internalYAxis[p].id===id){m=T.__internalYAxis[p];break}m&&d.push({yAxis:m,xBeginTime:S[n].xBeginValue,xEndTime:S[n].xEndValue,xBegin:S[n].xBeginPosition,xEnd:S[n].xEndPosition,error:s,symbolname:c.symbol})}}},L=0,A=S.length;L<A;L++)x(L)},T=this,b=0,y=u.length;b<y;b++)v(b);if(0===d.length&&0===c.length)this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]};else{this.__tooltipInformation={show:!0,isActive:!0,time:m,points:[],errors:[]};for(var S=0,x=d.length;S<x;S++)this.__tooltipInformation.errors.push({yAxis:d[S].yAxis,beginTime:d[S].xBeginTime,endTime:d[S].xEndTime,errorCode:d[S].error,symbolname:d[S].symbolname});c.sort(function(t,e){return t.distance-e.distance});for(var L=0,A=c.length;L<A;L++)this.__tooltipInformation.points.push({yAxis:c[L].yAxis,point:{x:c[L].values.x,y:c[L].values.y},symbolname:c[L].symbolname});var B=this.__executeTooltipFormatFunction(m,this.__tooltipInformation.points,this.__tooltipInformation.errors.reverse());if(this.__elementTooltip.css("visibility","visible"),null===B)return void this.__elementTooltip.css("visibility","hidden");this.__elementTooltipText[0].innerHTML=B;var w=null,F=t.Theme.Resources.get(this,"TooltipFontColor");if(F&&null!==F.value){var D=F.value;t.isSolidColor(D)&&(w=t.StyleProvider.resolveSolidColorAsCssValue(D))}t.isSolidColor(this.__tooltipFontColor)&&(w=t.StyleProvider.resolveSolidColorAsCssValue(this.__tooltipFontColor)),null!=w&&this.__elementTooltipText.css("color",w);var E=this.__elementTooltip.width(),I=this.__elementTooltip.height(),M=0;this.__showMenuBar&&"Top"===this.__menuBarPosition&&(M=this.__elementMenuBar.outerHeight()+5),e-E/2>=l&&e+E/2<=l+a.getLineWidth()&&i-I>=r?(this.__elementTooltipArrow[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-top","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-bottom","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-left","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-right","tchmi-trend-line-chart-template-tooltip-arrow-top","tchmi-trend-line-chart-template-tooltip-arrow-bottom","tchmi-trend-line-chart-template-tooltip-arrow-left","tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltipArrow[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-bottom","tchmi-trend-line-chart-template-tooltip-arrow-bottom"),this.__elementTooltip.css({top:i-I-4+M+5,left:e+5-E/2})):e-E/2>=l&&e+E/2<=l+a.getLineWidth()?(this.__elementTooltipArrow[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-top","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-bottom","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-left","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-right","tchmi-trend-line-chart-template-tooltip-arrow-top","tchmi-trend-line-chart-template-tooltip-arrow-bottom","tchmi-trend-line-chart-template-tooltip-arrow-left","tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltipArrow[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-top","tchmi-trend-line-chart-template-tooltip-arrow-top"),this.__elementTooltip.css({top:i+4+M+5,left:e+5-E/2})):e>=l&&e+E<=l+a.getLineWidth()?(this.__elementTooltipArrow[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-top","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-bottom","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-left","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-right","tchmi-trend-line-chart-template-tooltip-arrow-top","tchmi-trend-line-chart-template-tooltip-arrow-bottom","tchmi-trend-line-chart-template-tooltip-arrow-left","tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltipArrow[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-left","tchmi-trend-line-chart-template-tooltip-arrow-left"),this.__elementTooltip.css({top:i-I/2+M+5,left:e+4+5})):(this.__elementTooltipArrow[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-top","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-bottom","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-left","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-right","tchmi-trend-line-chart-template-tooltip-arrow-top","tchmi-trend-line-chart-template-tooltip-arrow-bottom","tchmi-trend-line-chart-template-tooltip-arrow-left","tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltipArrow[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-arrow-right","tchmi-trend-line-chart-template-tooltip-arrow-right"),this.__elementTooltip.css({top:i-I/2+M+5,left:e-4-E+5}))}}}}}}}},i.prototype.__onMouseMoveTooltip=function(){var t=this;return function(e){if(!t.__tooltipInformation.isActive&&t.__showTooltip&&(!t.__manipulationInfo.isManipulating||!t.getIsEnabled())){var i=t,n=e.offsetX,o=e.offsetY;requestAnimationFrame(function(){null!==i.__internalEnd&&null!==i.__internalStart&&"Latest"!==i.__internalEnd&&"First"!==i.__internalStart&&i.__createTooltip(n,o,!1)})}}},i.prototype.__onClick=function(){var t=this;return function(e){if(t.__manipulationInfo.click&&null!==t.__lineChart){if(t.__manipulationInfo.isManipulating)return;if(!t.getIsEnabled()||0===t.__lineChart.getLineGraphs().length)return;if("Latest"===t.__internalEnd||"First"===t.__internalStart||null===t.__internalEnd||null===t.__internalStart)return;if(null!==e.currentTarget){var i=e.currentTarget;if(i.classList.contains("TcHmi_Controls_Beckhoff_Controls-chart-canvas-drawing")){var n=null;if(null!==i.parentElement&&null!==i.parentElement.parentElement&&null!==i.parentElement.parentElement.parentElement&&(n=i.parentElement.parentElement.parentElement.id),n===t.__id&&(t.__createTooltip(e.offsetX,e.offsetY,!0),t.__tooltipInformation.isActive))return}else t.__elementTooltip.css("visibility","hidden"),t.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]}}}t.__manipulationInfo.click=!0}},i.prototype.__onMouseDown=function(){var t=this;return function(e){if(t.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},scale:{x:1,y:1},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}},null!==t.__lineChart){if(t.__manipulationInfo.isManipulating)return;if(!t.getIsEnabled()||0===t.__lineChart.getLineGraphs().length)return;if("Latest"===t.__internalEnd||"First"===t.__internalStart||null===t.__internalEnd||null===t.__internalStart)return;if(null===e.target)return;var i=t.__transformEventCoords(e.clientX,e.clientY,e.target);t.__manipulationInfo.mousePosition={x:i.x,y:i.y},t.__userInteractionStart(i.x,i.y)}}},i.prototype.__onMouseMove=function(){var t=this;return function(e){if(t.__manipulationInfo.isManipulating&&t.getIsEnabled()){var i=t.__transformEventCoords(e.clientX,e.clientY);t.__userInteractionMove(i.x,i.y)}}},i.prototype.__onMouseUp=function(){var t=this;return function(e){t.__manipulationInfo.isManipulating&&t.getIsEnabled()&&t.__userInteractionEnd()}},i.prototype.__onTouchStart=function(){var t=this;return function(e){if(t.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},scale:{x:1,y:1},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}},null!==t.__lineChart){if(!t.getIsEnabled()||0===t.__lineChart.getLineGraphs().length)return;if("Latest"===t.__internalEnd||"First"===t.__internalStart||null===t.__internalEnd||null===t.__internalStart)return;e.preventDefault();var i=e.touches[0],n=t.__transformEventCoords(i.clientX,i.clientY,e.target);if(t.__holdTimer=setTimeout(function(){return t.__createTooltipFromTouch(n.x,n.y)},t.__holdTimerDuration),t.__manipulationInfo.mousePosition={x:n.x,y:n.y},t.__multitouchInfo.offset.left=t.__manipulationInfo.offset.left,t.__multitouchInfo.offset.top=t.__manipulationInfo.offset.top,e.touches.length>1)return void t.__userMultitouchStart(e);if(t.__manipulationInfo.isManipulating)return;t.__userInteractionStart(n.x,n.y)}}},i.prototype.__onTouchMove=function(){var t=this;return function(e){if(t.getIsEnabled()){if(t.__multitouchInfo.multitouchMode)return e.preventDefault(),void t.__userMultitouchMove(e);if(t.__manipulationInfo.isManipulating){var i=e.touches[0],n=t.__transformEventCoords(i.clientX,i.clientY);Math.sqrt(Math.pow(t.__manipulationInfo.mousePosition.x-n.x,2)+Math.pow(t.__manipulationInfo.mousePosition.y-n.y,2))>5&&(t.__holdTimer&&(clearTimeout(t.__holdTimer),t.__holdTimer=0),t.__userInteractionMove(n.x,n.y))}}}},i.prototype.__onTouchEnd=function(){var t=this;return function(e){if(t.getIsEnabled()){if(t.__holdTimer&&(clearTimeout(t.__holdTimer),t.__holdTimer=0),t.__multitouchInfo.multitouchMode)return e.preventDefault(),void t.__userMultitouchEnd(e);if(t.__manipulationInfo.isManipulating){var i=e.changedTouches[0],n=t.__transformEventCoords(i.clientX,i.clientY);Math.sqrt(Math.pow(t.__manipulationInfo.mousePosition.x-n.x,2)+Math.pow(t.__manipulationInfo.mousePosition.y-n.y,2))>5?t.__userInteractionEnd():t.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},scale:{x:1,y:1},transform:{x:0,y:0},click:!1,mousePosition:{x:0,y:0}}}}}},i.prototype.__transformEventCoords=function(t,e,i){if(i){var n=this.getRenderedWidth(),o=this.getRenderedHeight();if(null===n||null===o)return{x:0,y:0};var s=this.__element[0].getBoundingClientRect();this.__manipulationInfo.scale.x=n/s.width,this.__manipulationInfo.scale.y=o/s.height;var r=i.getBoundingClientRect();this.__manipulationInfo.offset.left=r.left,this.__manipulationInfo.offset.top=r.top}return{x:(t-this.__manipulationInfo.offset.left)*this.__manipulationInfo.scale.x,y:(e-this.__manipulationInfo.offset.top)*this.__manipulationInfo.scale.y}},i.prototype.__userInteractionStart=function(t,e){if(null!==this.__lineChart){var n=this.__lineChart.getYAxisAtPosition(0);if(n){var o=n.getAxisWidth();if(null!==o){var s=n.getDiffEndLabelAndLine()+o/2+5+this.__lineChart.getDrawingBorder(),r=this.__lineChart.getXAxis(),a=0;null!==r&&(a=r.getXAxisLeftWidth()||0);var l=0;null!==r&&(l=r.getLineWidth());var _=n.getLineHeight();if(t<a||t>a+l||e<s||e>s+_)return;this.__mouseMode!==i.MouseMode.ZoomX&&this.__mouseMode!==i.MouseMode.ZoomXY||(this.__manipulationInfo.start.x=t,this.__manipulationInfo.start.y=e,this.__manipulationInfo.end.x=t,this.__manipulationInfo.end.y=e,this.__mouseMode===i.MouseMode.ZoomX&&(this.__manipulationInfo.start.y=s,this.__manipulationInfo.end.y=s)),this.__mouseMode!==i.MouseMode.PanX&&this.__mouseMode!==i.MouseMode.PanXY||(this.__manipulationInfo.start.x=t,this.__manipulationInfo.start.y=e,this.__manipulationInfo.end.x=t,this.__manipulationInfo.end.y=e),this.__manipulationInfo.isManipulating=!0,this.__manipulationInfo.transform={x:0,y:0}}}}},i.prototype.__userInteractionMove=function(t,e){if(this.__tooltipInformation.show&&(this.__elementTooltip.css("visibility","hidden"),this.__tooltipInformation={show:!1,isActive:!1,time:0,points:[],errors:[]}),null!==this.__lineChart){var n=this.__lineChart.getYAxisAtPosition(0);if(n){var o=n.getAxisWidth();if(null!==o){var s=n.getDiffEndLabelAndLine()+o/2+5+this.__lineChart.getDrawingBorder(),r=this.__lineChart.getXAxis(),a=0;if(null!==r){if(a=r.getXAxisLeftWidth()||0,this.__mouseMode===i.MouseMode.ZoomX||this.__mouseMode===i.MouseMode.ZoomXY){if(null===this.__zoomingCanvasContext)return;var l=t-this.__manipulationInfo.start.x,_=0;_=this.__mouseMode===i.MouseMode.ZoomX?n.getLineHeight():e-this.__manipulationInfo.start.y,this.__zoomingCanvasContext.clearRect(0,0,this.__zoomingCanvasContext.canvas.width,this.__zoomingCanvasContext.canvas.height),this.__zoomingCanvasContext.beginPath(),this.__zoomingCanvasContext.rect(this.__manipulationInfo.start.x,this.__manipulationInfo.start.y,l,_),this.__zoomingCanvasContext.fillStyle="rgba(51,153,255,0.3)",this.__zoomingCanvasContext.lineWidth=1,this.__zoomingCanvasContext.strokeStyle="rgba(51,153,255,1)",this.__zoomingCanvasContext.fill(),this.__zoomingCanvasContext.stroke(),this.__zoomingCanvasContext.clearRect(0,0,this.__zoomingCanvasContext.canvas.width,s),this.__zoomingCanvasContext.clearRect(0,0,a,this.__zoomingCanvasContext.canvas.height),this.__zoomingCanvasContext.clearRect(0,this.__zoomingCanvasContext.canvas.height,this.__zoomingCanvasContext.canvas.width,-(this.__zoomingCanvasContext.canvas.height-n.getLineHeight()-s)),this.__zoomingCanvasContext.clearRect(this.__zoomingCanvasContext.canvas.width,0,-(this.__zoomingCanvasContext.canvas.width-a-r.getLineWidth()),this.__zoomingCanvasContext.canvas.height)}if(this.__mouseMode===i.MouseMode.PanX||this.__mouseMode===i.MouseMode.PanXY){var h=t-this.__manipulationInfo.end.x,u=e-this.__manipulationInfo.end.y,d=this.__lineChart.getCanvasDrawing();if(null===d)return;var c=d[0].getContext("2d");if(null===c)return;this.__mouseMode===i.MouseMode.PanXY?(c.translate(h,u),this.__manipulationInfo.transform={x:this.__manipulationInfo.transform.x+h,y:this.__manipulationInfo.transform.y+u}):(u=0,c.translate(h,0),this.__manipulationInfo.transform.x=this.__manipulationInfo.transform.x+h),this.__lineChart.setLineChanged(!0),this.__lineChart.draw(),this.__manipulationInfo.transform.y>=0?this.__manipulationInfo.transform.x>=0?(c.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,c.canvas.width+this.__manipulationInfo.transform.x,s+this.__manipulationInfo.transform.y),c.clearRect(-this.__manipulationInfo.transform.x,c.canvas.height-this.__manipulationInfo.transform.y,c.canvas.width+this.__manipulationInfo.transform.x,-(c.canvas.height-n.getLineHeight()-s)),c.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,a+this.__manipulationInfo.transform.x,c.canvas.height+this.__manipulationInfo.transform.y),c.clearRect(c.canvas.width-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,-(c.canvas.width-a-r.getLineWidth()),c.canvas.height+this.__manipulationInfo.transform.y)):(c.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,c.canvas.width+this.__manipulationInfo.transform.x,s+this.__manipulationInfo.transform.y),c.clearRect(-this.__manipulationInfo.transform.x,c.canvas.height-this.__manipulationInfo.transform.y,c.canvas.width+this.__manipulationInfo.transform.x,-(c.canvas.height-n.getLineHeight()-s)),c.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,a,c.canvas.height+this.__manipulationInfo.transform.y),c.clearRect(c.canvas.width-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,-(c.canvas.width-a-r.getLineWidth()-this.__manipulationInfo.transform.x),c.canvas.height+this.__manipulationInfo.transform.y)):this.__manipulationInfo.transform.x>=0?(c.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,c.canvas.width+this.__manipulationInfo.transform.x,s),c.clearRect(-this.__manipulationInfo.transform.x,c.canvas.height-this.__manipulationInfo.transform.y,c.canvas.width+this.__manipulationInfo.transform.x,-(c.canvas.height-n.getLineHeight()-s-this.__manipulationInfo.transform.y)),c.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,a+this.__manipulationInfo.transform.x,c.canvas.height+this.__manipulationInfo.transform.y),c.clearRect(c.canvas.width-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,-(c.canvas.width-a-r.getLineWidth()),c.canvas.height+this.__manipulationInfo.transform.y)):(c.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,c.canvas.width+this.__manipulationInfo.transform.x,s),c.clearRect(-this.__manipulationInfo.transform.x,c.canvas.height-this.__manipulationInfo.transform.y,c.canvas.width+this.__manipulationInfo.transform.x,-(c.canvas.height-n.getLineHeight()-s-this.__manipulationInfo.transform.y)),c.clearRect(-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,a,c.canvas.height+this.__manipulationInfo.transform.y),c.clearRect(c.canvas.width-this.__manipulationInfo.transform.x,-this.__manipulationInfo.transform.y,-(c.canvas.width-a-r.getLineWidth()-this.__manipulationInfo.transform.x),c.canvas.height+this.__manipulationInfo.transform.y))}this.__manipulationInfo.end.x=t,this.__manipulationInfo.end.y=e}}}}},i.prototype.__userInteractionEnd=function(){if(null!==this.__zoomingCanvasContext&&"First"!==this.__internalStart&&null!==this.__internalStart&&"Latest"!==this.__internalEnd&&null!==this.__internalEnd){if(null!==this.__lineChart){var e=this.__lineChart.getYAxisAtPosition(0);if(e){var n=e.getAxisWidth();if(null!==n){var o=e.getDiffEndLabelAndLine()+n/2+5+this.__lineChart.getDrawingBorder(),s=this.__lineChart.getXAxis(),r=0;if(null!==s){var a=s.getMainTickStartValue(),l=s.getMainTickEndValue(),_=0,h="";if(null!==a&&null!==l){_=l-a;var u=new Date(a);h=u.getUTCFullYear()+"-"+("0"+(u.getUTCMonth()+1)).slice(-2)+"-"+("0"+u.getUTCDate()).slice(-2)+"T"+("0"+u.getUTCHours()).slice(-2)+":"+("0"+u.getUTCMinutes()).slice(-2)+":"+("0"+u.getUTCSeconds()).slice(-2)+"."+("00"+u.getUTCMilliseconds()).slice(-3)+"Z"}r=s.getXAxisLeftWidth()||0;var d=this.__zoomingCanvasContext.canvas.width-r-(this.__zoomingCanvasContext.canvas.width-r-s.getLineWidth()),c=this.__zoomingCanvasContext.canvas.height-o-(this.__zoomingCanvasContext.canvas.height-e.getLineHeight()-o);this.__zoomingCanvasContext.clearRect(0,0,this.__zoomingCanvasContext.canvas.width,this.__zoomingCanvasContext.canvas.height);var m=_;if(this.__mouseMode===i.MouseMode.ZoomX||this.__mouseMode===i.MouseMode.ZoomXY){var p=r+s.getLineWidth(),g=void 0,C=void 0;this.__manipulationInfo.start.x<this.__manipulationInfo.end.x?(g=this.__manipulationInfo.start.x,this.__manipulationInfo.start.x<r&&(g=r),C=this.__manipulationInfo.end.x,this.__manipulationInfo.end.x>p&&(C=p)):(g=this.__manipulationInfo.end.x,this.__manipulationInfo.end.x<r&&(g=r),C=this.__manipulationInfo.start.x,this.__manipulationInfo.start.x>p&&(C=p));var f=(G=(C-g)/d)*m;if(!(f>=1||this.__mouseMode===i.MouseMode.ZoomXY)){this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},scale:{x:1,y:1},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}};var v=this.__elementChart[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-canvas-zooming");return void(v.length>0&&v[0].classList.add("tchmi-no-pointer-events"))}if(this.__mouseMode===i.MouseMode.ZoomXY){if(null!=(q=this.__lineChart.getYAxis())&&q.length>0){var T=o+q[0].getLineHeight(),b=void 0,y=void 0;this.__manipulationInfo.start.y<this.__manipulationInfo.end.y?(y=this.__manipulationInfo.start.y,this.__manipulationInfo.start.y<o&&(y=o),b=this.__manipulationInfo.end.y,this.__manipulationInfo.end.y>T&&(b=T)):(y=this.__manipulationInfo.end.y,this.__manipulationInfo.end.y<o&&(y=o),b=this.__manipulationInfo.start.y,this.__manipulationInfo.start.y>T&&(b=T));for(var S=0,x=q.length;S<x;S++){var L=q[S].getDecimalPlaces(),A=void 0,B=q[S].getMainTickStartValueOverride(),w=q[S].getMainTickStartValue();if(null!==B)A=B;else{if(null===w)continue;A=w}var F=void 0,D=q[S].getMainTickEndValueOverride(),E=q[S].getMainTickEndValue();if(null!==D)F=D;else{if(null===E)continue;F=E}var I=(Q=F-A)*(1-(b-o)/c)+A,M=Q*(1-(y-o)/c)+A,k=0;if(null!==L&&(k=Math.pow(10,L),I=Math.round(I*k)/k,M=Math.round(M*k)/k),null===L||(M-I)*k<1){for(var V=0,H=q.length;V<H;V++)if(null!==this.__internalYAxis){this.__internalYAxis[V].autoScaling=q[V].getAutoScaling();var P=q[V].getMainTickEndValue();this.__internalYAxis[V].mainTickMaxValue=null===P?void 0:P;var N=q[V].getMainTickStartValue();this.__internalYAxis[V].mainTickMinValue=null===N?void 0:N}this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},scale:{x:1,y:1},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}};var R=this.__elementChart[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-canvas-zooming");return void(R.length>0&&R[0].classList.add("tchmi-no-pointer-events"))}null!==this.__internalYAxis&&(this.__internalYAxis[S].autoScaling=!1,this.__internalYAxis[S].mainTickMaxValue=M,this.__internalYAxis[S].mainTickMinValue=I)}var z=(g-r)/d,Y=Math.abs(m*z),date=new Date(h),X=new Date(date.getTime()+Y);if(this.__endDatatype===i.Datatype.Datetime){var W=(J=new Date(X.getTime()+f)).getUTCFullYear()+"-"+("0"+(J.getUTCMonth()+1)).slice(-2)+"-"+("0"+J.getUTCDate()).slice(-2)+"T"+("0"+J.getUTCHours()).slice(-2)+":"+("0"+J.getUTCMinutes()).slice(-2)+":"+("0"+J.getUTCSeconds()).slice(-2)+"."+("00"+J.getUTCMilliseconds()).slice(-3)+"Z";this.__internalEnd=W}else this.__internalEnd=this.__milliSecToIso(f);if(this.__startDatatype===i.Datatype.Datetime){var U=X.getUTCFullYear()+"-"+("0"+(X.getUTCMonth()+1)).slice(-2)+"-"+("0"+X.getUTCDate()).slice(-2)+"T"+("0"+X.getUTCHours()).slice(-2)+":"+("0"+X.getUTCMinutes()).slice(-2)+":"+("0"+X.getUTCSeconds()).slice(-2)+"."+("00"+X.getUTCMilliseconds()).slice(-3)+"Z";this.__internalStart=U}else this.__internalStart=this.__milliSecToIso(f);t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYAxis"])}}else{z=(g-r)/d,Y=Math.abs(m*z),date=new Date(h),X=new Date(date.getTime()+Y);if(this.__endDatatype===i.Datatype.Datetime){W=(J=new Date(X.getTime()+f)).getUTCFullYear()+"-"+("0"+(J.getUTCMonth()+1)).slice(-2)+"-"+("0"+J.getUTCDate()).slice(-2)+"T"+("0"+J.getUTCHours()).slice(-2)+":"+("0"+J.getUTCMinutes()).slice(-2)+":"+("0"+J.getUTCSeconds()).slice(-2)+"."+("00"+J.getUTCMilliseconds()).slice(-3)+"Z";this.__internalEnd=W}else this.__internalEnd=this.__milliSecToIso(f);if(this.__startDatatype===i.Datatype.Datetime){U=X.getUTCFullYear()+"-"+("0"+(X.getUTCMonth()+1)).slice(-2)+"-"+("0"+X.getUTCDate()).slice(-2)+"T"+("0"+X.getUTCHours()).slice(-2)+":"+("0"+X.getUTCMinutes()).slice(-2)+":"+("0"+X.getUTCSeconds()).slice(-2)+"."+("00"+X.getUTCMilliseconds()).slice(-3)+"Z";this.__internalStart=U}else this.__internalStart=this.__milliSecToIso(f)}this.__openWebsocket(),this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},scale:{x:1,y:1},transform:{x:0,y:0},click:!1,mousePosition:{x:0,y:0}}}if(this.__mouseMode===i.MouseMode.PanX||this.__mouseMode===i.MouseMode.PanXY){var G,O=this.__lineChart.getCanvasDrawing();if(null!==O){var j=O[0].getContext("2d");null!==j&&j.setTransform(1,0,0,1,0,0)}if(0===(G=this.__manipulationInfo.transform.x/d)&&this.__mouseMode===i.MouseMode.PanX){var Z=this.__elementChart[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-canvas-zooming");return Z.length>0&&Z[0].classList.add("tchmi-no-pointer-events"),void(this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},scale:{x:1,y:1},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}})}var q;Y=m*G,date=new Date(h);if(this.__startDatatype===i.Datatype.Datetime&&this.__endDatatype===i.Datatype.Datetime){U=(X=new Date(date.getTime()-Y)).getUTCFullYear()+"-"+("0"+(X.getUTCMonth()+1)).slice(-2)+"-"+("0"+X.getUTCDate()).slice(-2)+"T"+("0"+X.getUTCHours()).slice(-2)+":"+("0"+X.getUTCMinutes()).slice(-2)+":"+("0"+X.getUTCSeconds()).slice(-2)+"."+("00"+X.getUTCMilliseconds()).slice(-3)+"Z";this.__internalStart=U;W=(J=new Date(X.getTime()+m)).getUTCFullYear()+"-"+("0"+(J.getUTCMonth()+1)).slice(-2)+"-"+("0"+J.getUTCDate()).slice(-2)+"T"+("0"+J.getUTCHours()).slice(-2)+":"+("0"+J.getUTCMinutes()).slice(-2)+":"+("0"+J.getUTCSeconds()).slice(-2)+"."+("00"+J.getUTCMilliseconds()).slice(-3)+"Z";this.__internalEnd=W}else if(this.__endDatatype===i.Datatype.Datetime&&null!==l){var J;W=(J=new Date(l-Y)).getUTCFullYear()+"-"+("0"+(J.getUTCMonth()+1)).slice(-2)+"-"+("0"+J.getUTCDate()).slice(-2)+"T"+("0"+J.getUTCHours()).slice(-2)+":"+("0"+J.getUTCMinutes()).slice(-2)+":"+("0"+J.getUTCSeconds()).slice(-2)+"."+("00"+J.getUTCMilliseconds()).slice(-3)+"Z";this.__internalEnd=W}else if(this.__startDatatype===i.Datatype.Datetime){U=(X=new Date(date.getTime()-Y)).getUTCFullYear()+"-"+("0"+(X.getUTCMonth()+1)).slice(-2)+"-"+("0"+X.getUTCDate()).slice(-2)+"T"+("0"+X.getUTCHours()).slice(-2)+":"+("0"+X.getUTCMinutes()).slice(-2)+":"+("0"+X.getUTCSeconds()).slice(-2)+"."+("00"+X.getUTCMilliseconds()).slice(-3)+"Z";this.__internalStart=U}if(this.__mouseMode===i.MouseMode.PanXY&&null!=(q=this.__lineChart.getYAxis())&&q.length>0){for(S=0,x=q.length;S<x;S++){A=void 0,B=q[S].getMainTickStartValueOverride();var K=q[S].getMainTickStartValue();if(null!==B)A=B;else{if(null===K)continue;A=K}F=void 0,D=q[S].getMainTickEndValueOverride();var $=q[S].getMainTickEndValue();if(null!==D)F=D;else{if(null===$)continue;F=$}var Q,tt=(Q=F-A)*(this.__manipulationInfo.transform.y/c);I=A+tt,M=F+tt;null!==this.__internalYAxis&&(this.__internalYAxis[S].autoScaling=!1,this.__internalYAxis[S].mainTickMaxValue=M,this.__internalYAxis[S].mainTickMinValue=I)}t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYAxis"])}this.__openWebsocket(),this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},scale:{x:1,y:1},transform:{x:0,y:0},click:!1,mousePosition:{x:0,y:0}}}}}}}this.__lastInteraction=!0;var et=this.__elementChart[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-canvas-zooming");et.length>0&&et[0].classList.remove("tchmi-no-pointer-events")}},i.prototype.__userMultitouchStart=function(t){if(this.__manipulationInfo={isManipulating:!1,start:{x:0,y:0},end:{x:0,y:0},offset:{left:0,top:0},scale:{x:1,y:1},transform:{x:0,y:0},click:!0,mousePosition:{x:0,y:0}},this.__zoomingCanvasContext&&this.__zoomingCanvasContext.clearRect(0,0,this.__zoomingCanvasContext.canvas.width,this.__zoomingCanvasContext.canvas.height),null!==this.__lineChart){var e=this.__lineChart.getYAxisAtPosition(0);if(e){var i=e.getAxisWidth();if(null!==i){var n=e.getDiffEndLabelAndLine()+i/2+5+this.__lineChart.getDrawingBorder(),o=this.__lineChart.getXAxis(),s=0;null!==o&&(s=o.getXAxisLeftWidth()||0);var r=0;null!==o&&(r=o.getLineWidth());var a=e.getLineHeight(),l=t.touches[0].clientX-this.__multitouchInfo.offset.left,_=t.touches[0].clientY-this.__multitouchInfo.offset.top,h=t.touches[1].clientX-this.__multitouchInfo.offset.left,u=t.touches[1].clientY-this.__multitouchInfo.offset.top;if(l<s||l>s+r||_<n||_>n+a)return;if(h<s||h>s+r||u<n||u>n+a)return;this.__multitouchInfo.first.identifier=t.touches[0].identifier,this.__multitouchInfo.second.identifier=t.touches[1].identifier,this.__multitouchInfo.multitouchMode=!0;var d=l-h,c=_-u;this.__multitouchInfo.distance=Math.sqrt(d*d+c*c)}}}},i.prototype.__userMultitouchMove=function(t){if(this.__multitouchInfo.multitouchMode){var e=t.touches[0].clientX-this.__multitouchInfo.offset.left,n=t.touches[0].clientY-this.__multitouchInfo.offset.top,o=t.touches[1].clientX-this.__multitouchInfo.offset.left,s=t.touches[1].clientY-this.__multitouchInfo.offset.top,r=e-o,a=n-s,l=Math.sqrt(r*r+a*a),_=1-this.__multitouchInfo.distance/l>0?1:-1,h=0;if(null===this.__multitouchInfo.newTimespan){if(null===this.__lineChart)return;if(null===(f=this.__lineChart.getXAxis()))return;var u=f.getMainTickStartValue(),d=f.getMainTickEndValue();null!==u&&null!==d&&(h=d-u)}else h=this.__multitouchInfo.newTimespan;if(h>=1){var c=Math.floor(Math.log(h)/Math.LN10),m=h*((h-_*Math.pow(10,c-1)*1.5)/h);if(m<1&&(m=1),m===h)return;var p={x:0,y:0};if(p.x=Math.round((e+o)/2),p.y=Math.round((n+s)/2),null!==this.__lineChart){var g=this.__lineChart.getYAxisAtPosition(0);if(g){var C=g.getAxisWidth();if(null!==C){var f,v=g.getDiffEndLabelAndLine()+C/2+5+this.__lineChart.getDrawingBorder(),T=0;null!==(f=this.__lineChart.getXAxis())&&(T=f.getXAxisLeftWidth()||0);var b=0;null!==f&&(b=f.getLineWidth());var y=g.getLineHeight();if(null!==f){u=f.getMainTickStartValue(),d=f.getMainTickEndValue();var S=0;if(null!==u&&null!==d){var x=m/(S=d-u);if(d=(u+=(S-m)*((p.x-T)/b))+m,f.setMainTickStartValue(u),f.setMainTickEndValue(d),f.setAutoScaling(!1),this.__lineChart.setHasChanged(!0),this.__lineChart.setLineChanged(!0),this.__mouseMode===i.MouseMode.PanXY||this.__mouseMode===i.MouseMode.ZoomXY){if(this.__lineChart&&this.__internalYAxis){var L=this.__internalYAxis.slice(0,this.__internalYAxis.length);if((P=this.__lineChart.getYAxis())&&L){for(var A=0,B=P.length;A<B;A++){P[A].getDecimalPlaces();var w=P[A].getAutoScaling(),F=void 0,D=P[A].getMainTickStartValueOverride(),E=P[A].getMainTickStartValue();if(w&&null!==D)F=D;else{if(null===E)continue;F=E}var I=void 0,M=P[A].getMainTickEndValueOverride(),k=P[A].getMainTickEndValue();if(w&&null!==M)I=M;else{if(null===k)continue;I=k}var V=I-F,H=V*x;F=(I-=(V-H)*((p.y-v)/y))-H,L[A]&&(L[A].autoScaling=!1,L[A].mainTickMaxValue=I,L[A].mainTickMinValue=F),P[A].setAutoScaling(!1),P[A].setMainTickEndValue(I),P[A].setMainTickStartValue(F)}this.__multitouchInfo.newYAxis=L}}}else if(this.__lineChart&&this.__internalYAxis){var P;L=this.__internalYAxis.slice(0,this.__internalYAxis.length);if(null!=(P=this.__lineChart.getYAxis())&&L){for(A=0,B=P.length;A<B;A++)if(P[A].getAutoScaling()&&L[A]){D=P[A].getMainTickStartValueOverride(),M=P[A].getMainTickEndValueOverride();null!==D&&(L[A].mainTickMinValue=D,P[A].setMainTickStartValue(D)),null!==M&&(L[A].mainTickMaxValue=M,P[A].setMainTickEndValue(M)),L[A].autoScaling=!1,P[A].setAutoScaling(!1)}this.__multitouchInfo.newYAxis=L}}this.__lineChart.draw(),this.__multitouchInfo.newStart=u,this.__multitouchInfo.newTimespan=m}}}}}}this.__multitouchInfo.distance=l}},i.prototype.__userMultitouchEnd=function(t){if(this.__multitouchInfo.multitouchMode)for(var e=0,n=t.changedTouches.length;e<n;e++)if(t.changedTouches[e].identifier===this.__multitouchInfo.first.identifier||t.changedTouches[e].identifier===this.__multitouchInfo.second.identifier){if(null!==this.__multitouchInfo.newStart&&null!==this.__multitouchInfo.newTimespan){var o=new Date(this.__multitouchInfo.newStart);if(this.__endDatatype===i.Datatype.Datetime){var s=new Date(o.getTime()+this.__multitouchInfo.newTimespan),r=s.getUTCFullYear()+"-"+("0"+(s.getUTCMonth()+1)).slice(-2)+"-"+("0"+s.getUTCDate()).slice(-2)+"T"+("0"+s.getUTCHours()).slice(-2)+":"+("0"+s.getUTCMinutes()).slice(-2)+":"+("0"+s.getUTCSeconds()).slice(-2)+"."+("00"+s.getUTCMilliseconds()).slice(-3)+"Z";this.__internalEnd=r}else this.__internalEnd=this.__milliSecToIso(this.__multitouchInfo.newTimespan);if(this.__startDatatype===i.Datatype.Datetime){var a=o.getUTCFullYear()+"-"+("0"+(o.getUTCMonth()+1)).slice(-2)+"-"+("0"+o.getUTCDate()).slice(-2)+"T"+("0"+o.getUTCHours()).slice(-2)+":"+("0"+o.getUTCMinutes()).slice(-2)+":"+("0"+o.getUTCSeconds()).slice(-2)+"."+("00"+o.getUTCMilliseconds()).slice(-3)+"Z";this.__internalStart=a}else this.__internalStart=this.__milliSecToIso(this.__multitouchInfo.newTimespan);null!==this.__multitouchInfo.newYAxis&&(this.__internalYAxis=this.__multitouchInfo.newYAxis),this.__openWebsocket()}return void(this.__multitouchInfo={multitouchMode:!1,first:{identifier:null},second:{identifier:null},offset:{left:0,top:0},distance:0,newStart:null,newTimespan:null,newYAxis:null})}},i.prototype.__onMouseWheel=function(){var e=this;return function(n){if(!e.__manipulationInfo.isManipulating&&e.getIsEnabled()&&"Latest"!==e.__internalEnd&&"First"!==e.__internalStart&&null!==e.__internalEnd&&null!==e.__internalStart&&null!==e.__lineChart){var o=e.__lineChart.getYAxisAtPosition(0);if(o){var s=o.getAxisWidth();if(null!==s){var r=n.target.getBoundingClientRect(),a=n.clientX-r.left,l=n.clientY-r.top,_=o.getDiffEndLabelAndLine()+s/2+5+e.__lineChart.getDrawingBorder(),h=e.__lineChart.getXAxis(),u=0;null!==h&&(u=h.getXAxisLeftWidth()||0);var d=0;null!==h&&(d=h.getLineWidth());var c=o.getLineHeight();if(a<u||a>u+d||l<_||l>_+c)return;e.__wheelInfo.isWheeling=!0,e.__wheelInfo.mousePosition={x:a,y:l};var m=0;if(null===e.__wheelInfo.timespan){if(null===h)return;var p=h.getMainTickStartValue(),g=h.getMainTickEndValue();null!==p&&null!==g&&(m=g-p)}else m=e.__wheelInfo.timespan;if(m>1){var C=void 0;switch(n.deltaMode){case WheelEvent.DOM_DELTA_PAGE:C=800*-n.deltaY;break;case WheelEvent.DOM_DELTA_LINE:C=40*-n.deltaY;break;case WheelEvent.DOM_DELTA_PIXEL:default:C=-n.deltaY}C=Math.max(-1,Math.min(1,C)),e.__wheelInfo.wheelSteps=e.__wheelInfo.wheelSteps+C;var f=Math.floor(Math.log(m)/Math.LN10),v=m*((m-C*Math.pow(10,f-1)*2)/m);v<1&&(v=1),e.__wheelInfo.timespan=v}if(e.__wheelInfo.timeout)return;var T=e;e.__wheelInfo.timeout=setTimeout(function(){if(null!==T.__wheelInfo.timespan&&null!==h){var e=h.getMainTickStartValue(),n=h.getMainTickEndValue(),o=0;if(null!==e&&null!==n){o=n-e;var s=T.__wheelInfo.timespan/o,r=(T.__wheelInfo.mousePosition.x-u)/d;e+=(o-T.__wheelInfo.timespan)*r;var a,date=new Date(e);if(T.__endDatatype===i.Datatype.Datetime){var l=new Date(date.getTime()+T.__wheelInfo.timespan),m=l.getUTCFullYear()+"-"+("0"+(l.getUTCMonth()+1)).slice(-2)+"-"+("0"+l.getUTCDate()).slice(-2)+"T"+("0"+l.getUTCHours()).slice(-2)+":"+("0"+l.getUTCMinutes()).slice(-2)+":"+("0"+l.getUTCSeconds()).slice(-2)+"."+("00"+l.getUTCMilliseconds()).slice(-3)+"Z";T.__internalEnd=m}else T.__internalEnd=T.__milliSecToIso(T.__wheelInfo.timespan);if(T.__startDatatype===i.Datatype.Datetime){var p=date.getUTCFullYear()+"-"+("0"+(date.getUTCMonth()+1)).slice(-2)+"-"+("0"+date.getUTCDate()).slice(-2)+"T"+("0"+date.getUTCHours()).slice(-2)+":"+("0"+date.getUTCMinutes()).slice(-2)+":"+("0"+date.getUTCSeconds()).slice(-2)+"."+("00"+date.getUTCMilliseconds()).slice(-3)+"Z";T.__internalStart=p}else T.__internalStart=T.__milliSecToIso(T.__wheelInfo.timespan);if(T.__mouseMode===i.MouseMode.PanXY||T.__mouseMode===i.MouseMode.ZoomXY){if(T.__lineChart&&T.__internalYAxis)if(null!=(a=T.__lineChart.getYAxis())){for(var g=!1,C=0,f=a.length;C<f;C++){a[C].getDecimalPlaces();var v=a[C].getAutoScaling(),b=void 0,y=a[C].getMainTickStartValueOverride(),S=a[C].getMainTickStartValue();if(v&&null!==y)b=y;else{if(null===S)continue;b=S}var x=void 0,L=a[C].getMainTickEndValueOverride(),A=a[C].getMainTickEndValue();if(v&&null!==L)x=L;else{if(null===A)continue;x=A}var B=x-b,w=B*s;b=(x-=(B-w)*((T.__wheelInfo.mousePosition.y-_)/c))-w,null!==T.__internalYAxis&&(T.__internalYAxis[C].autoScaling=!1,T.__internalYAxis[C].mainTickMaxValue=x,T.__internalYAxis[C].mainTickMinValue=b,g=!0)}g&&t.EventProvider.raise(T.__id+".onFunctionResultChanged",["getYAxis"])}}else if(T.__lineChart&&T.__internalYAxis)if(null!=(a=T.__lineChart.getYAxis())){for(g=!1,C=0,f=a.length;C<f;C++)if(a[C].getAutoScaling()){y=a[C].getMainTickStartValueOverride(),L=a[C].getMainTickEndValueOverride();null!==y&&(T.__internalYAxis[C].mainTickMinValue=y),null!==L&&(T.__internalYAxis[C].mainTickMaxValue=L),T.__internalYAxis[C].autoScaling=!1,g=!0}g&&t.EventProvider.raise(T.__id+".onFunctionResultChanged",["getYAxis"])}T.__openWebsocket()}}T.__wheelInfo.timeout&&(clearTimeout(T.__wheelInfo.timeout),T.__wheelInfo.timeout=0),T.__wheelInfo={isWheeling:!1,wheelSteps:0,mousePosition:{x:0,y:0},timespan:null,timeout:0}},400)}}}}},i.prototype.setXAxisFormat=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisFormat"));var i=this.__objectResolvers.get("xAxisFormat");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("xAxisFormat",{resolver:n,watchCallback:this.__onResolverForXAxisFormatWatchCallback,watchDestroyer:n.watch(this.__onResolverForXAxisFormatWatchCallback)})},i.prototype.getXAxisFormat=function(){return this.__xAxisFormat},i.prototype.__processXAxisFormat=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setXAxisCallback(this.__xAxisCallbackFunction()),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.__xAxisCallbackFunction=function(){var e=this;return function(i){if(void 0!==e.__xAxisFormat&&null!==e.__xAxisFormat&&!1!==e.__xAxisFormat.active){var n=[i],o=null,s=new t.Function(e.__xAxisFormat);return s.executeEx(n,function(i){i.error===t.Errors.NONE?o=i.result:t.Log.error("[Source=Control, Module=TcHmi_Controls_Beckhoff_TcHmiTrendLineChart, Id="+e.getId()+"] Execution of function="+e.__xAxisFormat.fn+" failed with error: "+t.Log.buildMessage(i.details))}),s.destroy(),o}if(isNaN(i)||"number"!=typeof i)return i+"";var r=new Date(i);return t.Localization.formatDate(r)}},i.prototype.stop=function(){if(this.__lineGraphDescriptions&&0!==this.__lineGraphDescriptions.length&&null!==this.__lineGraphData&&void 0!==this.__lineGraphData&&0!==this.__lineGraphData.length){if(null!==this.__lineChart&&("First"===this.__internalStart||"Latest"===this.__internalEnd)){var t=this.__lineChart.getXAxis();if(null!==t){var e=t.getMainTickStartValue(),n=t.getMainTickEndValue();if(null!==e&&null!==n){if("First"===this.__internalStart){var o=new Date(e);this.__internalStart=o.getUTCFullYear()+"-"+("0"+(o.getUTCMonth()+1)).slice(-2)+"-"+("0"+o.getUTCDate()).slice(-2)+"T"+("0"+o.getUTCHours()).slice(-2)+":"+("0"+o.getUTCMinutes()).slice(-2)+":"+("0"+o.getUTCSeconds()).slice(-2)+"."+("00"+o.getUTCMilliseconds()).slice(-3)+"Z",this.__startDatatype=i.Datatype.Datetime}if("Latest"===this.__internalEnd){o=new Date(n);this.__internalEnd=o.getUTCFullYear()+"-"+("0"+(o.getUTCMonth()+1)).slice(-2)+"-"+("0"+o.getUTCDate()).slice(-2)+"T"+("0"+o.getUTCHours()).slice(-2)+":"+("0"+o.getUTCMinutes()).slice(-2)+":"+("0"+o.getUTCSeconds()).slice(-2)+"."+("00"+o.getUTCMilliseconds()).slice(-3)+"Z",this.__endDatatype=i.Datatype.Datetime}}}}this.__startEndBeforeZoom={end:this.__internalEnd,start:this.__internalStart},this.__openWebsocket()}},i.prototype.pause=function(){this.stop()},i.prototype.resetZoom=function(){if(this.__yAxis){if(this.__yAxis.length>0&&null!==this.__internalYAxis)for(var e=function(e,i){var id=n.__internalYAxis[e].id,o=n.__yAxis.filter(function(t){return t.id===id});if(0===o.length){var s=t.Theme.Resources.get(n,"YAxisGenerated");s&&null!==s.value?(n.__internalYAxis[e].autoScaling=s.value.autoScaling,n.__internalYAxis[e].mainTickMaxValue=s.value.mainTickMaxValue,n.__internalYAxis[e].mainTickMinValue=s.value.mainTickMinValue):n.__internalYAxis[e].autoScaling=!0}else n.__internalYAxis[e].autoScaling=o[0].autoScaling,n.__internalYAxis[e].mainTickMaxValue=o[0].mainTickMaxValue,n.__internalYAxis[e].mainTickMinValue=o[0].mainTickMinValue},n=this,o=0,s=this.__internalYAxis.length;o<s;o++)e(o);else if(null!==this.__internalYAxis)for(o=0,s=this.__internalYAxis.length;o<s;o++)this.__internalYAxis[o].autoScaling=!0}else if(null!==this.__internalYAxis)for(o=0,s=this.__internalYAxis.length;o<s;o++)this.__internalYAxis[o].autoScaling=!0;this.__internalEnd!==this.__startEndBeforeZoom.end||this.__internalStart!==this.__startEndBeforeZoom.start?(this.__internalEnd=this.__startEndBeforeZoom.end,this.__internalStart=this.__startEndBeforeZoom.start,null===this.__internalStart?this.__startDatatype=null:this.isDatetime(this.__internalStart)?this.__startDatatype=i.Datatype.Datetime:this.isKeyword(this.__internalStart)?this.__startDatatype=i.Datatype.Keyword:this.__startDatatype=i.Datatype.Timespan,null===this.__internalEnd?this.__endDatatype=null:this.isDatetime(this.__internalEnd)?this.__endDatatype=i.Datatype.Datetime:this.isKeyword(this.__internalEnd)?this.__endDatatype=i.Datatype.Keyword:this.__endDatatype=i.Datatype.Timespan,this.__openWebsocket()):this.__drawLineChart()},i.prototype.reset=function(){var e=!1;if(this.__internalStart!==this.__start&&this.__start&&(this.__internalStart=this.__start,null===this.__internalStart?this.__startDatatype=null:this.isDatetime(this.__internalStart)?this.__startDatatype=i.Datatype.Datetime:this.isKeyword(this.__internalStart)?this.__startDatatype=i.Datatype.Keyword:this.__startDatatype=i.Datatype.Timespan,e=!0),this.__internalEnd!==this.__end&&this.__end&&(this.__internalEnd=this.__end,null===this.__internalEnd?this.__endDatatype=null:this.isDatetime(this.__internalEnd)?this.__endDatatype=i.Datatype.Datetime:this.isKeyword(this.__internalEnd)?this.__endDatatype=i.Datatype.Keyword:this.__endDatatype=i.Datatype.Timespan,e=!0),this.__lastInteraction=!1,this.__yAxis){if(this.__yAxis.length>0&&null!==this.__internalYAxis)for(var n=function(e,i){var id=o.__internalYAxis[e].id,n=o.__yAxis.filter(function(t){return t.id===id});if(0===n.length){var s=t.Theme.Resources.get(o,"YAxisGenerated");s&&null!==s.value?(o.__internalYAxis[e].autoScaling=s.value.autoScaling,o.__internalYAxis[e].mainTickMaxValue=s.value.mainTickMaxValue,o.__internalYAxis[e].mainTickMinValue=s.value.mainTickMinValue):o.__internalYAxis[e].autoScaling=!0}else o.__internalYAxis[e].autoScaling=n[0].autoScaling,o.__internalYAxis[e].mainTickMaxValue=n[0].mainTickMaxValue,o.__internalYAxis[e].mainTickMinValue=n[0].mainTickMinValue},o=this,s=0,r=this.__internalYAxis.length;s<r;s++)n(s);else if(null!==this.__internalYAxis)for(s=0,r=this.__internalYAxis.length;s<r;s++)this.__internalYAxis[s].autoScaling=!0}else if(null!==this.__internalYAxis)for(s=0,r=this.__internalYAxis.length;s<r;s++)this.__internalYAxis[s].autoScaling=!0;e&&this.__openWebsocket()},i.prototype.play=function(){this.reset()},i.prototype.showOptions=function(){null===this.__elementMenuBarDropdown[0].parentElement?t.TopMostLayer.add(this,this.__elementMenuBarDropdown,{centerHorizontal:!0,centerVertical:!0}):t.TopMostLayer.remove(this,this.__elementMenuBarDropdown)},i.prototype.__calcMenuButtons=function(){if(this.__menuBarControls.length>0){this.__elementMenuBarDropdown.children().detach();for(var t=10,e=this.__menuBarControls.length-1;t<e;t++)0===this.__elementMenuBar.find("#"+this.__menuBarControls[t].getId()).length&&this.__elementMenuBar[0].insertBefore(this.__menuBarControls[t].getElement()[0],this.__elementMenuBar.children().last()[0]);for(var i=this.__elementMenuBar.width(),n=0,o=0,s=11;o<=s;o++)n+=this.__elementMenuBar.children().eq(o).outerWidth(!0);if((n+=this.__elementMenuBar.children().last().width()||0)>=i)for(o=0,s=this.__menuBarControls.length;o<s;o++){if(("TcHmi.Controls.Beckhoff.TcHmiButton"===this.__menuBarControls[o].getType()||"TcHmi.Controls.Beckhoff.TcHmiToggleButton"===this.__menuBarControls[o].getType())&&-1===this.__menuBarControls[o].getId().search("options"))-1===(l=this.__menuBarControls[o]).getId().indexOf("timespan")&&-1===l.getId().indexOf("datetime")&&this.__elementMenuBarDropdown[0].appendChild(l.getElement()[0])}else for(o=10,s=this.__menuBarControls.length-1;o<s;o++){if((n+=$(this.__elementMenuBar.children()[o+2]).outerWidth(!0))>=i)for(var r=o,a=this.__menuBarControls.length-1;r<a;r++){var l;-1===(l=this.__menuBarControls[r]).getId().indexOf("timespan")&&-1===l.getId().indexOf("datetime")&&this.__elementMenuBarDropdown[0].appendChild(l.getElement()[0])}}this.__elementMenuBarDropdown[0].childElementCount>0?this.__menuBarControls[this.__menuBarControls.length-1].setVisibility("Visible"):this.__menuBarControls[this.__menuBarControls.length-1].setVisibility("Collapsed")}},i.prototype.__setMenuButtonsFromStart=function(){for(var t=0,e=this.__menuBarControls.length;t<e;t++)this.__menuBarControls[t].getId()===this.__id+"_stopButton"?this.__menuBarControls[t].setIsEnabled(!0):this.__menuBarControls[t].getId()===this.__id+"_panxButton"?this.__menuBarControls[t].setIsEnabled(!1):this.__menuBarControls[t].getId()===this.__id+"_panxyButton"?this.__menuBarControls[t].setIsEnabled(!1):this.__menuBarControls[t].getId()===this.__id+"_zoomxButton"?this.__menuBarControls[t].setIsEnabled(!1):this.__menuBarControls[t].getId()===this.__id+"_zoomxyButton"?this.__menuBarControls[t].setIsEnabled(!1):this.__menuBarControls[t].getId()===this.__id+"_resetZoomButton"?this.__menuBarControls[t].setIsEnabled(!1):this.__menuBarControls[t].getId()===this.__id+"_resetButton"?this.__menuBarControls[t].setIsEnabled(!1):this.__menuBarControls[t].getId()===this.__id+"_startCombobox"?this.__menuBarControls[t].setIsEnabled(!0):this.__menuBarControls[t].getId()===this.__id+"_endCombobox"?this.__menuBarControls[t].setIsEnabled(!0):this.__menuBarControls[t].getId()===this.__id+"_timespanButtonStart"?this.__menuBarControls[t].setIsEnabled(!0):this.__menuBarControls[t].getId()===this.__id+"_timespanButtonEnd"?this.__menuBarControls[t].setIsEnabled(!0):this.__menuBarControls[t].getId()===this.__id+"_datetimeButtonStart"?this.__menuBarControls[t].setIsEnabled(!0):this.__menuBarControls[t].getId()===this.__id+"_datetimeButtonEnd"&&this.__menuBarControls[t].setIsEnabled(!0)},i.prototype.__setMenuButtonsFromStop=function(){for(var t=!1,e=0,i=this.__menuBarControls.length;e<i;e++)if(this.__menuBarControls[e].getId()===this.__id+"_stopButton")this.__menuBarControls[e].setIsEnabled(!1);else if(this.__menuBarControls[e].getId()===this.__id+"_panxButton"){this.__menuBarControls[e].setIsEnabled(!0),"Active"===this.__menuBarControls[e].getToggleState()&&(t=!0)}else if(this.__menuBarControls[e].getId()===this.__id+"_panxyButton"){this.__menuBarControls[e].setIsEnabled(!0),"Active"===this.__menuBarControls[e].getToggleState()&&(t=!0)}else if(this.__menuBarControls[e].getId()===this.__id+"_zoomxButton"){this.__menuBarControls[e].setIsEnabled(!0),"Active"===this.__menuBarControls[e].getToggleState()&&(t=!0)}else if(this.__menuBarControls[e].getId()===this.__id+"_zoomxyButton"){this.__menuBarControls[e].setIsEnabled(!0),"Active"===this.__menuBarControls[e].getToggleState()&&(t=!0)}else this.__menuBarControls[e].getId()===this.__id+"_resetZoomButton"?this.__menuBarControls[e].setIsEnabled(!0):this.__menuBarControls[e].getId()===this.__id+"_resetButton"?"First"!==this.__start&&"Latest"!==this.__end?this.__menuBarControls[e].setIsEnabled(!1):this.__menuBarControls[e].setIsEnabled(!0):this.__menuBarControls[e].getId()===this.__id+"_startCombobox"?this.__menuBarControls[e].setIsEnabled(!0):this.__menuBarControls[e].getId()===this.__id+"_endCombobox"?this.__menuBarControls[e].setIsEnabled(!0):this.__menuBarControls[e].getId()===this.__id+"_timespanButtonStart"?this.__menuBarControls[e].setIsEnabled(!0):this.__menuBarControls[e].getId()===this.__id+"_timespanButtonEnd"?this.__menuBarControls[e].setIsEnabled(!0):this.__menuBarControls[e].getId()===this.__id+"_datetimeButtonStart"?this.__menuBarControls[e].setIsEnabled(!0):this.__menuBarControls[e].getId()===this.__id+"_datetimeButtonEnd"&&this.__menuBarControls[e].setIsEnabled(!0);if(!t){var n=this.__menuBarControls[12];n.getId()===this.__id+"_panxButton"&&n.setToggleState("Active")}},i.prototype.setSectionsBackgroundColor=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("SectionsBackgroundColor"));var i=this.__objectResolvers.get("sectionsBackgroundColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("sectionsBackgroundColor",{resolver:n,watchCallback:this.__onResolverForSectionsBackgroundColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForSectionsBackgroundColorWatchCallback)})},i.prototype.getSectionsBackgroundColor=function(){return this.__sectionsBackgroundColor},i.prototype.__processSectionsBackgroundColor=function(){t.StyleProvider.processBackgroundColor(this.__elementMenuBar,this.__sectionsBackgroundColor),t.StyleProvider.processBackgroundColor(this.__elementChart,this.__sectionsBackgroundColor)},i.prototype.setYAxisWidth=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("YAxisWidth")),e!==this.__yAxisWidth&&(this.__yAxisWidth=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYAxisWidth"]),this.__processYAxisWidth())},i.prototype.getYAxisWidth=function(){return this.__yAxisWidth},i.prototype.__processYAxisWidth=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYAxisWidth(void 0===this.__yAxisWidth?this.getAttributeDefaultValueInternal("YAxisWidth"):this.__yAxisWidth),this.__lineChart.draw())},i.prototype.setYLabelFontFamily=function(valueNew){var e=t.ValueConverter.toFontFamily(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("YLabelFontFamily")),e!==this.__yLabelFontFamily&&(this.__yLabelFontFamily=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYLabelFontFamily"]),this.__processYLabelFontFamily())},i.prototype.getYLabelFontFamily=function(){return this.__yLabelFontFamily},i.prototype.__processYLabelFontFamily=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYLabelFontFamily(this.__yLabelFontFamily),this.__lineChart.draw())},i.prototype.setYLabelFontSize=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("YLabelFontSize")),e!==this.__yLabelFontSize&&(this.__yLabelFontSize=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYLabelFontSize"]),this.__processYLabelFontSize())},i.prototype.getYLabelFontSize=function(){return this.__yLabelFontSize},i.prototype.__processYLabelFontSize=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYLabelFontSize(void 0===this.__yLabelFontSize?this.getAttributeDefaultValueInternal("YLabelFontSize"):this.__yLabelFontSize),this.__lineChart.draw())},i.prototype.setYLabelFontSizeUnit=function(valueNew){var e=t.ValueConverter.toFontSizeUnit(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("YLabelFontSizeUnit")),e!==this.__yLabelFontSizeUnit&&(this.__yLabelFontSizeUnit=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYLabelFontSizeUnit"]),this.__processYLabelFontSizeUnit())},i.prototype.getYLabelFontSizeUnit=function(){return this.__yLabelFontSizeUnit},i.prototype.__processYLabelFontSizeUnit=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYLabelFontSizeUnit(void 0===this.__yLabelFontSizeUnit?this.getAttributeDefaultValueInternal("YLabelFontSizeUnit"):this.__yLabelFontSizeUnit),this.__lineChart.draw())},i.prototype.setYLabelFontWeight=function(valueNew){var e=t.ValueConverter.toFontWeight(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("YLabelFontWeight")),e!==this.__yLabelFontWeight&&(this.__yLabelFontWeight=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYLabelFontWeight"]),this.__processYLabelFontWeight())},i.prototype.getYLabelFontWeight=function(){return this.__yLabelFontWeight},i.prototype.__processYLabelFontWeight=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYLabelFontWeight(void 0===this.__yLabelFontWeight?this.getAttributeDefaultValueInternal("YLabelFontWeight"):this.__yLabelFontWeight),this.__lineChart.draw())},i.prototype.setYMainTickSteps=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("YMainTickSteps")),e!==this.__yMainTickSteps&&(this.__yMainTickSteps=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYMainTickSteps"]),this.__processYMainTickSteps())},i.prototype.getYMainTickSteps=function(){return this.__yMainTickSteps},i.prototype.__processYMainTickSteps=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYMainTickSteps(void 0===this.__yMainTickSteps?this.getAttributeDefaultValueInternal("YMainTickSteps"):this.__yMainTickSteps),this.__lineChart.draw())},i.prototype.setShowYSubTicks=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ShowYSubTicks")),e!==this.__showYSubTicks&&(this.__showYSubTicks=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowYSubTicks"]),this.__processShowYSubTicks())},i.prototype.getShowYSubTicks=function(){return this.__showYSubTicks},i.prototype.__processShowYSubTicks=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setShowYSubTicks(void 0===this.__showYSubTicks?this.getAttributeDefaultValueInternal("ShowYSubTicks"):this.__showYSubTicks),this.__lineChart.draw())},i.prototype.setYSubTickSteps=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("YSubTickSteps")),e!==this.__ySubTickSteps&&(this.__ySubTickSteps=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getYSubTickSteps"]),this.__processYSubTickSteps())},i.prototype.getYSubTickSteps=function(){return this.__ySubTickSteps},i.prototype.__processYSubTickSteps=function(){null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__lineChart.setYSubTickSteps(void 0===this.__ySubTickSteps?this.getAttributeDefaultValueInternal("YSubTickSteps"):this.__ySubTickSteps),this.__lineChart.draw())},i.prototype.setShowXAxis=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ShowXAxis")),e!==this.__showXAxis&&(this.__showXAxis=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowXAxis"]),this.__processShowXAxis())},i.prototype.getShowXAxis=function(){return this.__showXAxis},i.prototype.__processShowXAxis=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setShowAxis(void 0===this.__showXAxis?this.getAttributeDefaultValueInternal("ShowXAxis"):this.__showXAxis),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXShowLabels=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XShowLabels")),e!==this.__xShowLabels&&(this.__xShowLabels=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXShowLabels"]),this.__processXShowLabels())},i.prototype.getXShowLabels=function(){return this.__xShowLabels},i.prototype.__processXShowLabels=function(){if(!TCHMI_DESIGNER&&null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setShowLabels(void 0===this.__xShowLabels?this.getAttributeDefaultValueInternal("XShowLabels"):this.__xShowLabels),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXMainTickSteps=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XMainTickSteps")),e!==this.__xMainTickSteps&&(this.__xMainTickSteps=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXMainTickSteps"]),this.__processXMainTickSteps())},i.prototype.getXMainTickSteps=function(){return this.__xMainTickSteps},i.prototype.__processXMainTickSteps=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setMainTickSteps(void 0===this.__xMainTickSteps?this.getAttributeDefaultValueInternal("XMainTickSteps"):this.__xMainTickSteps),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setShowXSubTicks=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ShowXSubTicks")),e!==this.__showXSubTicks&&(this.__showXSubTicks=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowXSubTicks"]),this.__processShowXSubTicks())},i.prototype.getShowXSubTicks=function(){return this.__showXSubTicks},i.prototype.__processShowXSubTicks=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setShowSubTicks(void 0===this.__showXSubTicks?this.getAttributeDefaultValueInternal("ShowXSubTicks"):this.__showXSubTicks),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXSubTickSteps=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XSubTickSteps")),e!==this.__xSubTickSteps&&(this.__xSubTickSteps=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXSubTickSteps"]),this.__processXSubTickSteps())},i.prototype.getXSubTickSteps=function(){return this.__xSubTickSteps},i.prototype.__processXSubTickSteps=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setSubTickSteps(void 0===this.__xSubTickSteps?this.getAttributeDefaultValueInternal("XSubTickSteps"):this.__xSubTickSteps),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXLabelFontFamily=function(valueNew){var e=t.ValueConverter.toFontFamily(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XLabelFontFamily")),e!==this.__xLabelFontFamily&&(this.__xLabelFontFamily=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXLabelFontFamily"]),this.__processXLabelFontFamily())},i.prototype.getXLabelFontFamily=function(){return this.__xLabelFontFamily},i.prototype.__processXLabelFontFamily=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setLabelFontFamily(this.__xLabelFontFamily),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXLabelFontSize=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XLabelFontSize")),e!==this.__xLabelFontSize&&(this.__xLabelFontSize=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXLabelFontSize"]),this.__processXLabelFontSize())},i.prototype.getXLabelFontSize=function(){return this.__xLabelFontSize},i.prototype.__processXLabelFontSize=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setLabelFontSize(void 0===this.__xLabelFontSize?this.getAttributeDefaultValueInternal("XLabelFontSize"):this.__xLabelFontSize),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXLabelFontSizeUnit=function(valueNew){var e=t.ValueConverter.toFontSizeUnit(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XLabelFontSizeUnit")),e!==this.__xLabelFontSizeUnit&&(this.__xLabelFontSizeUnit=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXLabelFontSizeUnit"]),this.__processXLabelFontSizeUnit())},i.prototype.getXLabelFontSizeUnit=function(){return this.__xLabelFontSizeUnit},i.prototype.__processXLabelFontSizeUnit=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setLabelFontSizeUnit(void 0===this.__xLabelFontSizeUnit?this.getAttributeDefaultValueInternal("XLabelFontSizeUnit"):this.__xLabelFontSizeUnit),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXLabelFontWeight=function(valueNew){var e=t.ValueConverter.toFontWeight(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XLabelFontWeight")),e!==this.__xLabelFontWeight&&(this.__xLabelFontWeight=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXLabelFontWeight"]),this.__processXLabelFontWeight())},i.prototype.getXLabelFontWeight=function(){return this.__xLabelFontWeight},i.prototype.__processXLabelFontWeight=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setLabelFontWeight(void 0===this.__xLabelFontWeight?this.getAttributeDefaultValueInternal("XLabelFontWeight"):this.__xLabelFontWeight),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXLabelFontColor=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XLabelFontColor"));var i=this.__objectResolvers.get("xLabelFontColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("xLabelFontColor",{resolver:n,watchCallback:this.__onResolverForXLabelFontColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForXLabelFontColorWatchCallback)})},i.prototype.getXLabelFontColor=function(){return this.__xLabelFontColor},i.prototype.__processXLabelFontColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var e=this.__lineChart.getXAxis();null!=e&&(t.isSolidColor(this.__xLabelFontColor)?e.setLabelFontColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__xLabelFontColor)):e.setLabelFontColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXAxisWidth=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisWidth")),e!==this.__xAxisWidth&&(this.__xAxisWidth=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisWidth"]),this.__processXAxisWidth())},i.prototype.getXAxisWidth=function(){return this.__xAxisWidth},i.prototype.__processXAxisWidth=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisWidth(void 0===this.__xAxisWidth?this.getAttributeDefaultValueInternal("XAxisWidth"):this.__xAxisWidth),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXAxisColor=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisColor"));var i=this.__objectResolvers.get("xAxisColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("xAxisColor",{resolver:n,watchCallback:this.__onResolverForXAxisColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForXAxisColorWatchCallback)})},i.prototype.getXAxisColor=function(){return this.__xAxisColor},i.prototype.__processXAxisColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var e=this.__lineChart.getXAxis();null!=e&&(t.isSolidColor(this.__xAxisColor)?e.setAxisColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__xAxisColor)):e.setAxisColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setShowXAxisName=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ShowXAxisName")),e!==this.__showXAxisName&&(this.__showXAxisName=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowXAxisName"]),this.__processShowXAxisName())},i.prototype.getShowXAxisName=function(){return this.__showXAxisName},i.prototype.__processShowXAxisName=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setShowAxisName(void 0===this.__showXAxisName?this.getAttributeDefaultValueInternal("ShowXAxisName"):this.__showXAxisName),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXAxisName=function(valueNew){var e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisName")),e!==this.__xAxisName&&(this.__xAxisName=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisName"]),this.__processXAxisName())},i.prototype.getXAxisName=function(){return this.__xAxisName},i.prototype.__processXAxisName=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisName(void 0===this.__xAxisName?this.getAttributeDefaultValueInternal("XAxisName"):this.__xAxisName),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXAxisNameFontFamily=function(valueNew){var e=t.ValueConverter.toFontFamily(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisNameFontFamily")),e!==this.__xAxisNameFontFamily&&(this.__xAxisNameFontFamily=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisNameFontFamily"]),this.__processXAxisNameFontFamily())},i.prototype.getXAxisNameFontFamily=function(){return this.__xAxisNameFontFamily},i.prototype.__processXAxisNameFontFamily=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisNameFontFamily(this.__xAxisNameFontFamily),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXAxisNameFontSize=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisNameFontSize")),e!==this.__xAxisNameFontSize&&(this.__xAxisNameFontSize=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisNameFontSize"]),this.__processXAxisNameFontSize())},i.prototype.getXAxisNameFontSize=function(){return this.__xAxisNameFontSize},i.prototype.__processXAxisNameFontSize=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisNameFontSize(void 0===this.__xAxisNameFontSize?this.getAttributeDefaultValueInternal("XAxisNameFontSize"):this.__xAxisNameFontSize),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXAxisNameFontSizeUnit=function(valueNew){var e=t.ValueConverter.toFontSizeUnit(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisNameFontSizeUnit")),e!==this.__xAxisNameFontSizeUnit&&(this.__xAxisNameFontSizeUnit=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisNameFontSizeUnit"]),this.__processXAxisNameFontSizeUnit())},i.prototype.getXAxisNameFontSizeUnit=function(){return this.__xAxisNameFontSizeUnit},i.prototype.__processXAxisNameFontSizeUnit=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisNameFontSizeUnit(void 0===this.__xAxisNameFontSizeUnit?this.getAttributeDefaultValueInternal("XAxisNameFontSizeUnit"):this.__xAxisNameFontSizeUnit),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXAxisNameFontWeight=function(valueNew){var e=t.ValueConverter.toFontWeight(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisNameFontWeight")),e!==this.__xAxisNameFontWeight&&(this.__xAxisNameFontWeight=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getXAxisNameFontWeight"]),this.__processXAxisNameFontWeight())},i.prototype.getXAxisNameFontWeight=function(){return this.__xAxisNameFontWeight},i.prototype.__processXAxisNameFontWeight=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getXAxis();null!=t&&(t.setAxisNameFontWeight(void 0===this.__xAxisNameFontWeight?this.getAttributeDefaultValueInternal("XAxisNameFontWeight"):this.__xAxisNameFontWeight),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setXAxisNameFontColor=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("XAxisNameFontColor"));var i=this.__objectResolvers.get("xAxisNameFontColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("xAxisNameFontColor",{resolver:n,watchCallback:this.__onResolverForXAxisNameFontColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForXAxisNameFontColorWatchCallback)})},i.prototype.getXAxisNameFontColor=function(){return this.__xAxisNameFontColor},i.prototype.__processXAxisNameFontColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var e=this.__lineChart.getXAxis();null!=e&&(t.isSolidColor(this.__xAxisNameFontColor)?e.setAxisNameFontColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__xAxisNameFontColor)):e.setAxisNameFontColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setYAxis=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("YAxis"));var i=this.__objectResolvers.get("yAxis");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("yAxis",{resolver:n,watchCallback:this.__onResolverForYAxisWatchCallback,watchDestroyer:n.watch(this.__onResolverForYAxisWatchCallback)})},i.prototype.getYAxis=function(){return this.__yAxis},i.prototype.__processYAxis=function(){if(this.__internalYAxis=[],void 0!==this.__yAxis&&(this.__internalYAxis=JSON.parse(JSON.stringify(this.__yAxis)),null===this.__internalYAxis&&(this.__internalYAxis=[])),this.__internalLineGraphDescription=[],void 0!==this.__lineGraphDescriptions&&(this.__internalLineGraphDescription=JSON.parse(JSON.stringify(this.__lineGraphDescriptions)),null===this.__internalLineGraphDescription&&(this.__internalLineGraphDescription=[])),this.__lineGraphDescriptions)for(var e=function(){if(void 0===n.__lineGraphDescriptions[o].yAxisId){var e=-1,s=!1;do{e++,s=n.__internalYAxis.filter(function(t){return t.id===e}).length>0}while(s&&e<=1e3);if(!s){var r=t.Theme.Resources.get(n,"YAxisGenerated");r&&null!==r.value?(r.value.id=e,r.value.axisName=n.__lineGraphDescriptions[o].symbol,n.__internalYAxis.push(r.value)):n.__internalYAxis.push({id:e,position:i.AxisPosition.Left,labelFontColor:{color:"#4794da"},showLabels:!0,axisColor:{color:"#4794da"},showAxisName:!0,axisName:n.__lineGraphDescriptions[o].symbol,axisNameFontFamily:null,axisNameFontSize:15,axisNameFontSizeUnit:"px",axisNameFontWeight:"Bold",axisNameFontColor:{color:"#4794da"},decimalPlaces:2,autoScaling:!0}),n.__internalLineGraphDescription[o].yAxisId=e}}},n=this,o=0,s=this.__lineGraphDescriptions.length;o<s;o++)e();this.__isAttached&&null!==this.__lineChart&&void 0!==this.__lineChart&&(this.__drawLineChart(),this.__lineGraphDescriptions&&0!==this.__lineGraphDescriptions.length&&!TCHMI_DESIGNER&&this.__openWebsocket())},i.prototype.setLineGraphDescriptions=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("LineGraphDescription"));var i=this.__objectResolvers.get("lineGraphDescriptions");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("lineGraphDescriptions",{resolver:n,watchCallback:this.__onResolverForLineGraphDescriptionsWatchCallback,watchDestroyer:n.watch(this.__onResolverForLineGraphDescriptionsWatchCallback)})},i.prototype.getLineGraphDescriptions=function(){return this.__lineGraphDescriptions},i.prototype.__processLineGraphDescriptions=function(){if(this.__internalYAxis=[],void 0!==this.__yAxis&&(this.__internalYAxis=JSON.parse(JSON.stringify(this.__yAxis)),null===this.__internalYAxis&&(this.__internalYAxis=[])),this.__internalLineGraphDescription=[],void 0!==this.__lineGraphDescriptions&&(this.__internalLineGraphDescription=JSON.parse(JSON.stringify(this.__lineGraphDescriptions)),null===this.__internalLineGraphDescription&&(this.__internalLineGraphDescription=[])),this.__lineGraphDescriptions)for(var e=function(){if(void 0===n.__lineGraphDescriptions[o].yAxisId||null===n.__lineGraphDescriptions[o].yAxisId){var e=-1,s=!1;do{e++,s=n.__internalYAxis.filter(function(t){return t.id===e}).length>0}while(s&&e<=1e3);if(!s){var r=t.Theme.Resources.get(n,"YAxisGenerated");r&&null!==r.value?(r.value.id=e,r.value.axisName=n.__lineGraphDescriptions[o].symbol,n.__internalYAxis.push(r.value)):n.__internalYAxis.push({id:e,position:i.AxisPosition.Left,labelFontColor:{color:"#4794da"},showLabels:!0,axisColor:{color:"#4794da"},showAxisName:!0,axisName:n.__lineGraphDescriptions[o].symbol,axisNameFontFamily:null,axisNameFontSize:15,axisNameFontSizeUnit:"px",axisNameFontWeight:"Bold",axisNameFontColor:{color:"#4794da"},decimalPlaces:2,autoScaling:!0}),n.__internalLineGraphDescription[o].yAxisId=e}}},n=this,o=0,s=this.__lineGraphDescriptions.length;o<s;o++)e();this.__isAttached&&null!==this.__lineChart&&void 0!==this.__lineChart&&this.__lineGraphDescriptions&&0!==this.__lineGraphDescriptions.length&&!TCHMI_DESIGNER?this.__openWebsocket():(null!==this.__subscriptionId&&(t.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null),this.__reset(),this.__drawLineChart())},i.prototype.setShowGrid=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ShowGrid")),e!==this.__showGrid&&(this.__showGrid=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowGrid"]),this.__processShowGrid())},i.prototype.getShowGrid=function(){return this.__showGrid},i.prototype.__processShowGrid=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){if(this.__showGrid){var e=this.__lineChart.getGrid();null==e&&(this.__lineChart.addGrid(),null!==(e=this.__lineChart.getGrid())&&(t.isSolidColor(this.__gridBackgroundColor)?e.setBackgroundColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__gridBackgroundColor)):e.setBackgroundColor(null),t.isSolidColor(this.__gridLineColor)?e.setLineColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__gridLineColor)):e.setLineColor(null),e.setLineWidth(void 0===this.__gridLineWidth?this.getAttributeDefaultValueInternal("GridLineWidth"):this.__gridLineWidth),e.setLineStyle(void 0===this.__gridLineStyle?this.getAttributeDefaultValueInternal("GridLineStyle"):this.__gridLineStyle),e.setShowHorizontalLines(void 0===this.__gridShowHorizontalLines?this.getAttributeDefaultValueInternal("GridShowHorizontalLines"):this.__gridShowHorizontalLines),e.setShowVerticalLines(void 0===this.__gridShowVerticalLines?this.getAttributeDefaultValueInternal("GridShowVerticalLines"):this.__gridShowVerticalLines)))}else this.__lineChart.deleteGrid();this.__lineChart.setHasChanged(!0),this.__lineChart.draw()}},i.prototype.setGridBackgroundColor=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("GridBackgroundColor"));var i=this.__objectResolvers.get("gridBackgroundColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("gridBackgroundColor",{resolver:n,watchCallback:this.__onResolverForGridBackgroundColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForGridBackgroundColorWatchCallback)})},i.prototype.getGridBackgroundColor=function(){return this.__gridBackgroundColor},i.prototype.__processGridBackgroundColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var e=this.__lineChart.getGrid();null!=e&&(t.isSolidColor(this.__gridBackgroundColor)?e.setBackgroundColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__gridBackgroundColor)):e.setBackgroundColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setGridShowHorizontalLines=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("GridShowHorizontalLines")),e!==this.__gridShowHorizontalLines&&(this.__gridShowHorizontalLines=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridShowHorizontalLines"]),this.__processGridShowHorizontalLines())},i.prototype.getGridShowHorizontalLines=function(){return this.__gridShowHorizontalLines},i.prototype.__processGridShowHorizontalLines=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getGrid();null!=t&&(t.setShowHorizontalLines(void 0===this.__gridShowHorizontalLines?this.getAttributeDefaultValueInternal("GridShowHorizontalLines"):this.__gridShowHorizontalLines),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setGridShowVerticalLines=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("GridShowVerticalLines")),e!==this.__gridShowVerticalLines&&(this.__gridShowVerticalLines=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridShowVerticalLines"]),this.__processGridShowVerticalLines())},i.prototype.getGridShowVerticalLines=function(){return this.__gridShowVerticalLines},i.prototype.__processGridShowVerticalLines=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getGrid();null!=t&&(t.setShowVerticalLines(void 0===this.__gridShowVerticalLines?this.getAttributeDefaultValueInternal("GridShowVerticalLines"):this.__gridShowVerticalLines),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setGridLineWidth=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("GridLineWidth")),e!==this.__gridLineWidth&&(this.__gridLineWidth=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridLineWidth"]),this.__processGridLineWidth())},i.prototype.getGridLineWidth=function(){return this.__gridLineWidth},i.prototype.__processGridLineWidth=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getGrid();null!=t&&(t.setLineWidth(void 0===this.__gridLineWidth?this.getAttributeDefaultValueInternal("GridLineWidth"):this.__gridLineWidth),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setGridLineStyle=function(valueNew){var e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("GridLineStyle")),e!==this.__gridLineStyle&&(this.__gridLineStyle=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridLineStyle"]),this.__processGridLineStyle())},i.prototype.getGridLineStyle=function(){return this.__gridLineStyle},i.prototype.__processGridLineStyle=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getGrid();null!=t&&(t.setLineStyle(void 0===this.__gridLineStyle?this.getAttributeDefaultValueInternal("GridLineStyle"):this.__gridLineStyle),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setGridLineColor=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("GridLineColor"));var i=this.__objectResolvers.get("gridLineColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("gridLineColor",{resolver:n,watchCallback:this.__onResolverForGridLineColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForGridLineColorWatchCallback)})},i.prototype.getGridLineColor=function(){return this.__gridLineColor},i.prototype.__processGridLineColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var e=this.__lineChart.getGrid();null!=e&&(t.isSolidColor(this.__gridLineColor)?e.setLineColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__gridLineColor)):e.setLineColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setSubgridShowHorizontalLines=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("SubgridShowHorizontalLines")),e!==this.__subgridShowHorizontalLines&&(this.__subgridShowHorizontalLines=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSubgridShowHorizontalLines"]),this.__processSubgridShowHorizontalLines())},i.prototype.getSubgridShowHorizontalLines=function(){return this.__subgridShowHorizontalLines},i.prototype.__processSubgridShowHorizontalLines=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getSubgrid();null!=t&&(t.setShowHorizontalLines(void 0===this.__subgridShowHorizontalLines?this.getAttributeDefaultValueInternal("SubgridShowHorizontalLines"):this.__subgridShowHorizontalLines),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setSubgridShowVerticalLines=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("SubgridShowVerticalLines")),e!==this.__subgridShowVerticalLines&&(this.__subgridShowVerticalLines=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSubgridShowVerticalLines"]),this.__processSubgridShowVerticalLines())},i.prototype.getSubgridShowVerticalLines=function(){return this.__subgridShowVerticalLines},i.prototype.__processSubgridShowVerticalLines=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getSubgrid();null!=t&&(t.setShowVerticalLines(void 0===this.__subgridShowVerticalLines?this.getAttributeDefaultValueInternal("SubgridShowVerticalLines"):this.__subgridShowVerticalLines),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setSubgridLineWidth=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("SubgridLineWidth")),e!==this.__subgridLineWidth&&(this.__subgridLineWidth=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSubgridLineWidth"]),this.__processSubgridLineWidth())},i.prototype.getSubgridLineWidth=function(){return this.__subgridLineWidth},i.prototype.__processSubgridLineWidth=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getSubgrid();null!=t&&(t.setLineWidth(void 0===this.__subgridLineWidth?this.getAttributeDefaultValueInternal("SubgridLineWidth"):this.__subgridLineWidth),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setSubgridLineStyle=function(valueNew){var e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("SubgridLineStyle")),e!==this.__subgridLineStyle&&(this.__subgridLineStyle=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSubgridLineStyle"]),this.__processSubgridLineStyle())},i.prototype.getSubgridLineStyle=function(){return this.__subgridLineStyle},i.prototype.__processSubgridLineStyle=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var t=this.__lineChart.getSubgrid();null!=t&&(t.setLineStyle(void 0===this.__subgridLineStyle?this.getAttributeDefaultValueInternal("SubgridLineStyle"):this.__subgridLineStyle),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setSubgridLineColor=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("SubgridLineColor"));var i=this.__objectResolvers.get("subgridLineColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("subgridLineColor",{resolver:n,watchCallback:this.__onResolverForSubgridLineColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForSubgridLineColorWatchCallback)})},i.prototype.getSubgridLineColor=function(){return this.__subgridLineColor},i.prototype.__processSubgridLineColor=function(){if(null!==this.__lineChart&&void 0!==this.__lineChart){var e=this.__lineChart.getSubgrid();null!=e&&(t.isSolidColor(this.__subgridLineColor)?e.setLineColor(t.StyleProvider.resolveSolidColorAsCssValue(this.__subgridLineColor)):e.setLineColor(null),this.__lineChart.setHasChanged(!0),this.__lineChart.draw())}},i.prototype.setShowMenuBar=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ShowMenuBar")),e!==this.__showMenuBar&&(this.__showMenuBar=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowMenuBar"]),this.__processShowMenuBar())},i.prototype.getShowMenuBar=function(){return this.__showMenuBar},i.prototype.__processShowMenuBar=function(){if(this.__isAttached){if(0===this.__menuBarControls.length&&this.__showMenuBar&&(this.__addMenuBarControls(),this.__calcMenuButtons()),this.__showMenuBar&&void 0!==this.__menuBarPosition){t.StyleProvider.setSimpleElementStyle(this.__elementMenuBar,"display","flex");var e=this.__elementMenuBar.outerHeight(!0);i.MenuBarPosition[this.__menuBarPosition]===i.MenuBarPosition.Top?this.__elementChart.css({height:"calc(100% - "+e+"px - 10px)",top:e+"px"}):i.MenuBarPosition[this.__menuBarPosition]===i.MenuBarPosition.Bottom&&this.__elementChart.css({height:"calc(100% - "+e+"px - 10px)",top:"0px"})}else this.__elementMenuBar.css("display","none"),this.__elementChart.css({height:"calc(100% - 10px)",top:"0px"});this.__drawLineChart()}},i.prototype.setMenuBarPosition=function(valueNew){var e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarPosition")),tchmi_equal(e,this.__menuBarPosition)||(this.__menuBarPosition=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarPosition"]),this.__processMenuBarPosition())},i.prototype.getMenuBarPosition=function(){return this.__menuBarPosition},i.prototype.__processMenuBarPosition=function(){if(this.__isAttached&&this.__menuBarPosition){if(this.__showMenuBar&&void 0!==this.__menuBarPosition){var t=this.__elementMenuBar.outerHeight(!0);i.MenuBarPosition[this.__menuBarPosition]===i.MenuBarPosition.Top&&this.__elementChart.css({height:"calc(100% - "+t+"px - 10px)",top:t+"px"}),i.MenuBarPosition[this.__menuBarPosition]===i.MenuBarPosition.Bottom&&this.__elementChart.css({height:"calc(100% - "+t+"px - 10px)",top:"0px"})}else this.__elementChart.css({height:"calc(100% - 10px)",top:"0px"});i.MenuBarPosition.Bottom===i.MenuBarPosition[this.__menuBarPosition]?(this.__elementMenuBar[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-menu-bar-bottom","tchmi-trend-line-chart-template-menu-bar-bottom"),this.__elementMenuBar[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-menu-bar-top","tchmi-trend-line-chart-template-menu-bar-top"),this.__elementMenuBar.css({"margin-bottom":"5px","margin-top":"0px"})):(this.__elementMenuBar[0].classList.add("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-menu-bar-top","tchmi-trend-line-chart-template-menu-bar-top"),this.__elementMenuBar[0].classList.remove("TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-menu-bar-bottom","tchmi-trend-line-chart-template-menu-bar-bottom"),this.__elementMenuBar.css({"margin-bottom":"0px","margin-top":"5px"}))}},i.prototype.setMenuBarLabelFontSize=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontSize")),e!==this.__menuBarLabelFontSize&&(this.__menuBarLabelFontSize=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarLabelFontSize"]),this.__processMenuBarLabelFontSize())},i.prototype.getMenuBarLabelFontSize=function(){return this.__menuBarLabelFontSize},i.prototype.__processMenuBarLabelFontSize=function(e){void 0===e&&(e=!0),t.StyleProvider.processFontSize(this.__elementMenuBar[0].getElementsByTagName("label"),this.__menuBarLabelFontSize,this.__menuBarLabelFontSizeUnit),this.__isAttached&&e&&this.__calcMenuButtons()},i.prototype.setMenuBarLabelFontSizeUnit=function(valueNew){var e=t.ValueConverter.toFontSizeUnit(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontSizeUnit")),e!==this.__menuBarLabelFontSizeUnit&&(this.__menuBarLabelFontSizeUnit=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarLabelFontSizeUnit"]),this.__processMenuBarLabelFontSizeUnit())},i.prototype.getMenuBarLabelFontSizeUnit=function(){return this.__menuBarLabelFontSizeUnit},i.prototype.__processMenuBarLabelFontSizeUnit=function(e){void 0===e&&(e=!0),t.StyleProvider.processFontSize(this.__elementMenuBar[0].getElementsByTagName("label"),this.__menuBarLabelFontSize,this.__menuBarLabelFontSizeUnit),this.__isAttached&&e&&this.__calcMenuButtons()},i.prototype.setMenuBarLabelFontFamily=function(valueNew){var e=t.ValueConverter.toFontFamily(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontFamily")),e!==this.__menuBarLabelFontFamily&&(this.__menuBarLabelFontFamily=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarLabelFontFamily"]),this.__processMenuBarLabelFontFamily())},i.prototype.getMenuBarLabelFontFamily=function(){return this.__menuBarLabelFontFamily},i.prototype.__processMenuBarLabelFontFamily=function(e){void 0===e&&(e=!0),t.StyleProvider.processFontFamily(this.__elementMenuBar[0].getElementsByTagName("label"),void 0===this.__menuBarLabelFontFamily?this.getAttributeDefaultValueInternal("MenuBarLabelFontFamily"):this.__menuBarLabelFontFamily),this.__isAttached&&e&&this.__calcMenuButtons()},i.prototype.setMenuBarLabelFontStyle=function(valueNew){var e=t.ValueConverter.toFontStyle(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontStyle")),e!==this.__menuBarLabelFontStyle&&(this.__menuBarLabelFontStyle=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarLabelFontStyle"]),this.__processMenuBarLabelFontStyle())},i.prototype.getMenuBarLabelFontStyle=function(){return this.__menuBarLabelFontStyle},i.prototype.__processMenuBarLabelFontStyle=function(e){void 0===e&&(e=!0),t.StyleProvider.processFontStyle(this.__elementMenuBar[0].getElementsByTagName("label"),void 0===this.__menuBarLabelFontStyle?this.getAttributeDefaultValueInternal("MenuBarLabelFontStyle"):this.__menuBarLabelFontStyle),this.__isAttached&&e&&this.__calcMenuButtons()},i.prototype.setMenuBarLabelFontWeight=function(valueNew){var e=t.ValueConverter.toFontWeight(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontWeight")),e!==this.__menuBarLabelFontWeight&&(this.__menuBarLabelFontWeight=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMenuBarLabelFontWeight"]),this.__processMenuBarLabelFontWeight())},i.prototype.getMenuBarLabelFontWeight=function(){return this.__menuBarLabelFontWeight},i.prototype.__processMenuBarLabelFontWeight=function(e){void 0===e&&(e=!0),t.StyleProvider.processFontWeight(this.__elementMenuBar[0].getElementsByTagName("label"),void 0===this.__menuBarLabelFontWeight?this.getAttributeDefaultValueInternal("MenuBarLabelFontWeight"):this.__menuBarLabelFontWeight),this.__isAttached&&e&&this.__calcMenuButtons()},i.prototype.setMenuBarLabelFontColor=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("MenuBarLabelFontColor"));var i=this.__objectResolvers.get("menuBarLabelFontColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("menuBarLabelFontColor",{resolver:n,watchCallback:this.__onResolverForMenuBarLabelFontColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForMenuBarLabelFontColorWatchCallback)})},i.prototype.getMenuBarLabelFontColor=function(){return this.__menuBarLabelFontColor},i.prototype.__processMenuBarLabelFontColor=function(e){void 0===e&&(e=!0),t.StyleProvider.processTextColor(this.__elementMenuBar[0].getElementsByTagName("label"),void 0===this.__menuBarLabelFontColor?this.getAttributeDefaultValueInternal("MenuBarLabelFontColor"):this.__menuBarLabelFontColor),this.__isAttached&&e&&this.__calcMenuButtons()},i.prototype.setShowTooltip=function(valueNew){var e=t.ValueConverter.toBoolean(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ShowTooltip")),e!==this.__showTooltip&&(this.__showTooltip=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowTooltip"]),this.__processShowTooltip())},i.prototype.getShowTooltip=function(){return this.__showTooltip},i.prototype.__processShowTooltip=function(){},i.prototype.setTooltipFormat=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFormat"));var i=this.__objectResolvers.get("tooltipFormat");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("tooltipFormat",{resolver:n,watchCallback:this.__onResolverForTooltipFormatWatchCallback,watchDestroyer:n.watch(this.__onResolverForTooltipFormatWatchCallback)})},i.prototype.getTooltipFormat=function(){return this.__tooltipFormat},i.prototype.__processTooltipFormat=function(){if(this.__tooltipInformation.show){var t=this.__executeTooltipFormatFunction(this.__tooltipInformation.time,this.__tooltipInformation.points,this.__tooltipInformation.errors);null!==t?this.__elementTooltipText[0].innerHTML=t:this.__elementTooltip.css("visibility","hidden")}},i.prototype.__executeTooltipFormatFunction=function(e,i,n){var o=this;if(void 0!==this.__tooltipFormat&&null!==this.__tooltipFormat&&!1!==this.__tooltipFormat.active){var s=[e,i,n],r=null,a=new t.Function(this.__tooltipFormat);return a.executeEx(s,function(e){e.error===t.Errors.NONE?r=e.result:t.Log.error("[Source=Control, Module=TcHmi_Controls_Beckhoff_TcHmiTrendLineChart, Id="+o.getId()+"] Execution of function="+o.__tooltipFormat.fn+" failed with error: "+t.Log.buildMessage(e.details))}),a.destroy(),r}var l=document.createElement("table");l.setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-info-table"),l.setAttribute("border","1");var _=l.createTHead(),h=l.createTBody();if(i.length>0){(c=document.createElement("table")).setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-time-table"),c.setAttribute("border","1");var u=new Date(i[0].point.x),d=t.Localization.formatDate(u);return(m=c.insertRow()).insertCell().textContent="Capture time",m.insertCell().textContent=d,(p=_.insertRow()).appendChild(document.createElement("th")).textContent="Symbol",p.appendChild(document.createElement("th")).textContent="Value",(f=h.insertRow()).insertCell().appendChild(document.createTextNode(i[0].symbolname)),f.insertCell().appendChild(document.createTextNode(i[0].point.y.toString())),c.outerHTML+l.outerHTML}if(n.length>0){var c;(c=document.createElement("table")).setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiTrendLineChart-template-tooltip-time-table"),c.setAttribute("border","1");var m,p;u=new Date(e),d=t.Localization.formatDate(u);(m=c.insertRow()).insertCell().textContent="Time",m.insertCell().textContent=d,(p=_.insertRow()).appendChild(document.createElement("th")).textContent="Symbol(s) in error";for(var g=0,C=n.length;g<C;g++){var f;(f=h.insertRow()).insertCell().appendChild(document.createTextNode(n[g].symbolname))}return c.outerHTML+l.outerHTML}return""},i.prototype.setTooltipFontFamily=function(valueNew){var e=t.ValueConverter.toFontFamily(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFontFamily")),e!==this.__tooltipFontFamily&&(this.__tooltipFontFamily=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTooltipFontFamily"]),this.__processTooltipFontFamily())},i.prototype.getTooltipFontFamily=function(){return this.__tooltipFontFamily},i.prototype.__processTooltipFontFamily=function(){t.StyleProvider.setSimpleElementStyle(this.__elementTooltip,{"font-family":this.__tooltipFontFamily})},i.prototype.setTooltipFontSize=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFontSize")),e!==this.__tooltipFontSize&&(this.__tooltipFontSize=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTooltipFontSize"]),this.__processTooltipFontSize())},i.prototype.getTooltipFontSize=function(){return this.__tooltipFontSize},i.prototype.__processTooltipFontSize=function(){this.__tooltipFontSize&&this.__tooltipFontSizeUnit&&t.StyleProvider.setSimpleElementStyle(this.__elementTooltip,{"font-size":this.__tooltipFontSize+this.__tooltipFontSizeUnit})},i.prototype.setTooltipFontSizeUnit=function(valueNew){var e=t.ValueConverter.toFontSizeUnit(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFontSizeUnit")),e!==this.__tooltipFontSizeUnit&&(this.__tooltipFontSizeUnit=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTooltipFontSizeUnit"]),this.__processTooltipFontSizeUnit())},i.prototype.getTooltipFontSizeUnit=function(){return this.__tooltipFontSizeUnit},i.prototype.__processTooltipFontSizeUnit=function(){return this.__processTooltipFontSize()},i.prototype.setTooltipFontWeight=function(valueNew){var e=t.ValueConverter.toFontWeight(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFontWeight")),e!==this.__tooltipFontWeight&&(this.__tooltipFontWeight=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTooltipFontWeight"]),this.__processTooltipFontWeight())},i.prototype.getTooltipFontWeight=function(){return this.__tooltipFontWeight},i.prototype.__processTooltipFontWeight=function(){t.StyleProvider.setSimpleElementStyle(this.__elementTooltip,{"font-weight":this.__tooltipFontWeight})},i.prototype.setTooltipFontColor=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipFontColor"));var i=this.__objectResolvers.get("tooltipFontColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("tooltipFontColor",{resolver:n,watchCallback:this.__onResolverForTooltipFontColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForTooltipFontColorWatchCallback)})},i.prototype.getTooltipFontColor=function(){return this.__tooltipFontColor},i.prototype.__processTooltipFontColor=function(){var e=null,i=t.Theme.Resources.get(this,"TooltipFontColor");if(i&&null!==i.value){var n=i.value;t.isSolidColor(n)&&(e=t.StyleProvider.resolveSolidColorAsCssValue(n))}t.isSolidColor(this.__tooltipFontColor)&&(e=t.StyleProvider.resolveSolidColorAsCssValue(this.__tooltipFontColor)),null!=e&&this.__elementTooltipText.css("color",e)},i.prototype.setTooltipBackgroundColor=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("TooltipBackgroundColor"));var i=this.__objectResolvers.get("tooltipBackgroundColor");i&&(i.watchDestroyer&&i.watchDestroyer(),i.resolver.destroy());var n=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("tooltipBackgroundColor",{resolver:n,watchCallback:this.__onResolverForTooltipBackgroundColorWatchCallback,watchDestroyer:n.watch(this.__onResolverForTooltipBackgroundColorWatchCallback)})},i.prototype.getTooltipBackgroundColor=function(){return this.__tooltipBackgroundColor},i.prototype.__processTooltipBackgroundColor=function(){t.StyleProvider.processBackgroundColor(this.__elementTooltipText,this.__tooltipBackgroundColor),t.StyleProvider.processBackgroundColor(this.__elementTooltipArrow,this.__tooltipBackgroundColor)},i.prototype.setInterval=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("Interval")),e!==this.__interval&&(this.__interval=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getInterval"]),this.__processInterval())},i.prototype.getInterval=function(){return this.__interval},i.prototype.__processInterval=function(){this.__isAttached&&this.__lineGraphDescriptions&&this.__lineGraphDescriptions.length>0&&null!==this.__subscriptionId?this.__openWebsocket():null!==this.__subscriptionId&&(t.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null)},i.prototype.setStart=function(valueNew){var e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("Start")),null!==e&&(e="first"===e.toLowerCase()?"First":e.toUpperCase()),e!==this.__start&&(this.__start=e,null===this.__start?this.__startDatatype=null:this.isDatetime(this.__start)?this.__startDatatype=i.Datatype.Datetime:this.isKeyword(this.__start)?this.__startDatatype=i.Datatype.Keyword:this.__startDatatype=i.Datatype.Timespan,this.__start!==this.__internalStart&&(this.__internalStart=this.__start,"First"===this.__internalStart&&this.__internalEnd!==this.__end&&void 0!==this.__end&&(this.__internalEnd=this.__end)),t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getStart"]),this.__processStart())},i.prototype.getStart=function(){return this.__start},i.prototype.getActualStartTime=function(){return this.__actualStartTime?new Date(this.__actualStartTime).toISOString():null},i.prototype.__processStart=function(){if(null!==this.__menuBarControls[0]&&void 0!==this.__menuBarControls[0]&&this.__start)if(this.isDatetime(this.__start)){var e=this.__moveUtcToTimeZone(this.__start);this.__menuBarControls[0].setText(e)}else this.__menuBarControls[0].setText(this.__start);if(this.__start&&this.__end&&"Latest"!==this.__end&&"First"!==this.__start&&(this.__startEndBeforeZoom={end:this.__end,start:this.__start}),this.__isAttached&&this.__start){var n=this.__nowIsValueChanged;if(this.__nowIsValueChanged=!0,this.__startDatatype===i.Datatype.Datetime)this.__menuBarControls[1]&&this.__menuBarControls[3]&&(this.__menuBarControls[1].setValue(null),this.__menuBarControls[3].setValue(this.__start));else if(this.__startDatatype===i.Datatype.Timespan)this.__menuBarControls[1]&&this.__menuBarControls[3]&&(this.__menuBarControls[1].setValue(this.__start),this.__menuBarControls[3].setValue(null));else if(this.__menuBarControls[1]&&this.__menuBarControls[3]&&this.__menuBarControls[0]){this.__menuBarControls[1].setValue(null),this.__menuBarControls[3].setValue(null);var o=this.__menuBarControls[0];o.setText(null),o.setSelectedIndex(0)}if(this.__nowIsValueChanged=n,this.__lineGraphDescriptions&&this.__lineGraphDescriptions.length>0)return void this.__openWebsocket()}null!==this.__subscriptionId&&(t.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null)},i.prototype.setEnd=function(valueNew){var e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("End")),null!==e&&(e="latest"===e.toLowerCase()?"Latest":e.toUpperCase()),e!==this.__end&&(this.__end=e,null===this.__end?this.__endDatatype=null:this.isDatetime(this.__end)?this.__endDatatype=i.Datatype.Datetime:this.isKeyword(this.__end)?this.__endDatatype=i.Datatype.Keyword:this.__endDatatype=i.Datatype.Timespan,this.__end!==this.__internalEnd&&(this.__internalEnd=this.__end,"Latest"===this.__internalEnd&&this.__internalStart!==this.__start&&void 0!==this.__start&&(this.__internalStart=this.__start)),t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getEnd"]),this.__processEnd())},i.prototype.getEnd=function(){return this.__end},i.prototype.getActualEndTime=function(){return this.__actualEndTime?new Date(this.__actualEndTime).toISOString():null},i.prototype.__moveUtcToTimeZone=function(e){var i=t.Localization.parseDate(new Date(e)),n=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond),date=new Date(e);return this.__utcOffset=date.valueOf()-n,i.year+"-"+("0"+i.month).slice(-2)+"-"+("0"+i.day).slice(-2)+"T"+("0"+i.hour).slice(-2)+":"+("0"+i.minute).slice(-2)+":"+("0"+i.second).slice(-2)+"."+("00"+i.millisecond).slice(-3)},i.prototype.__moveTimeZoneToUtc=function(e){var i=e.split("T");if(2!==i.length)return null;var n=i[0].split("-");if(3!==n.length)return null;var o={};if(o.year=t.Localization.parseInt(n[0]),isNaN(o.year))return null;if(o.month=t.Localization.parseInt(n[1]),isNaN(o.month))return null;if(o.day=t.Localization.parseInt(n[2]),isNaN(o.day))return null;var s=i[1].split(":");if(2===s.length)s[2]="0.0";else if(3!==s.length)return null;if(o.hour=t.Localization.parseInt(s[0]),isNaN(o.hour))return null;if(o.minute=t.Localization.parseInt(s[1]),isNaN(o.minute))return null;var r=s[2].split(".");if(1===r.length)r[1]="0";else if(2!==r.length)return null;if(o.second=t.Localization.parseInt(r[0]),isNaN(o.second))return null;if(o.millisecond=t.Localization.parseInt(r[1]),isNaN(o.millisecond))return null;var a=Date.UTC(o.year,o.month-1,o.day,o.hour,o.minute,o.second,o.millisecond);return new Date(a+this.__utcOffset).toISOString()},i.prototype.__processEnd=function(){if(null!==this.__menuBarControls[5]&&void 0!==this.__menuBarControls[5]&&this.__end)if(this.isDatetime(this.__end)){var e=this.__moveUtcToTimeZone(this.__end);this.__menuBarControls[5].setText(e)}else this.__menuBarControls[5].setText(this.__end);if(this.__start&&this.__end&&"Latest"!==this.__end&&"First"!==this.__start&&(this.__startEndBeforeZoom={end:this.__end,start:this.__start}),this.__isAttached&&this.__end){var n=this.__nowIsValueChanged;if(this.__nowIsValueChanged=!0,this.__endDatatype===i.Datatype.Datetime)this.__menuBarControls[6]&&this.__menuBarControls[8]&&(this.__menuBarControls[6].setValue(null),this.__menuBarControls[8].setValue(this.__end));else if(this.__endDatatype===i.Datatype.Timespan)this.__menuBarControls[6]&&this.__menuBarControls[8]&&(this.__menuBarControls[6].setValue(this.__end),this.__menuBarControls[8].setValue(null));else if(this.__menuBarControls[6]&&this.__menuBarControls[8]&&this.__menuBarControls[5]){this.__menuBarControls[6].setValue(null),this.__menuBarControls[8].setValue(null);var o=this.__menuBarControls[5];o.setText(null),o.setSelectedIndex(0)}if(this.__nowIsValueChanged=n,this.__lineGraphDescriptions&&this.__lineGraphDescriptions.length>0)return void this.__openWebsocket()}null!==this.__subscriptionId&&(t.Server.unsubscribe(this.__subscriptionId,null),this.__subscriptionId=null)},i.prototype.setMouseMode=function(valueNew){var e=t.ValueConverter.toEnum(valueNew,i.MouseMode);null===e&&(e=this.getAttributeDefaultValueInternal("MouseMode")),tchmi_equal(e,this.__mouseMode)||(this.__mouseMode=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getMouseMode"]),this.__processMouseMode())},i.prototype.getMouseMode=function(){return this.__mouseMode},i.prototype.__processMouseMode=function(){var t=this.__id+"_panxButton";this.__mouseMode===i.MouseMode.PanXY?t=this.__id+"_panxyButton":this.__mouseMode===i.MouseMode.ZoomX?t=this.__id+"_zoomxButton":this.__mouseMode===i.MouseMode.ZoomXY&&(t=this.__id+"_zoomxyButton");for(var e=0,n=this.__menuBarControls.length;e<n;e++){if(this.__menuBarControls[e].getId()===t)this.__menuBarControls[e].setToggleState("Active")}},i.prototype.setServerDomain=function(valueNew){var e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ServerDomain")),tchmi_equal(e,this.__serverDomain)||(this.__serverDomain=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getServerDomain"]),this.__processServerDomain())},i.prototype.getServerDomain=function(){return this.__serverDomain},i.prototype.__processServerDomain=function(){this.__getData()},i.prototype.__processIsEnabled=function(){e.prototype.__processIsEnabled.call(this),this.getIsEnabled()||t.TopMostLayer.remove(this,this.__elementMenuBarDropdown)},i}(t.Controls.System.TcHmiControl);e.TcHmiTrendLineChart=i,function(t){!function(t){t[t.ZoomX=0]="ZoomX",t[t.ZoomXY=1]="ZoomXY",t[t.PanX=2]="PanX",t[t.PanXY=3]="PanXY"}(t.MouseMode||(t.MouseMode={})),function(t){t[t.Bottom=0]="Bottom",t[t.Top=1]="Top"}(t.MenuBarPosition||(t.MenuBarPosition={})),function(t){t[t.Datetime=0]="Datetime",t[t.Timespan=1]="Timespan",t[t.Keyword=2]="Keyword"}(t.Datatype||(t.Datatype={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(t.AxisPosition||(t.AxisPosition={})),function(t){t[t.Dotted=0]="Dotted",t[t.Dashed=1]="Dashed",t[t.Solid=2]="Solid"}(t.LineStyle||(t.LineStyle={}))}(i=e.TcHmiTrendLineChart||(e.TcHmiTrendLineChart={}))}(e.Beckhoff||(e.Beckhoff={})),e.registerEx("TcHmiTrendLineChart","TcHmi.Controls.Beckhoff",t.Controls.Beckhoff.TcHmiTrendLineChart)}(t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));