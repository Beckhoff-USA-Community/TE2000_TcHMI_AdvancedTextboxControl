var TcHmi,__extends=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function _(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(_.prototype=o.prototype,new _)}}();!function(t){!function(e){!function(e){var o=function(e){function o(t,o,_){var n=e.call(this,t,o,_)||this;return n.__toggleLock=!1,n.__onToggleGroupToggledEventDestroyEvent=null,n}return __extends(o,e),o.prototype.__previnit=function(){e.prototype.__previnit.call(this)},o.prototype.__init=function(){e.prototype.__init.call(this)},o.prototype.__attach=function(){e.prototype.__attach.call(this)},o.prototype.__detach=function(){e.prototype.__detach.call(this)},o.prototype.destroy=function(){this.__keepAlive||(null!==this.__onToggleGroupToggledEventDestroyEvent&&(this.__onToggleGroupToggledEventDestroyEvent(),this.__onToggleGroupToggledEventDestroyEvent=null),e.prototype.destroy.call(this))},o.prototype.__processState=function(o,_,n){this.__state!==o&&(this.__setToggleState(o?"Active":"Normal",_,!1),o&&null!==this.__toggleGroup&&t.EventProvider.raise(this.__toggleGroup+".toggled",{ActiveElementId:this.__id,source:n}),e.prototype.__processState.call(this,o,_,n))},o.prototype.__onFunctionResultChanged=function(){var t=this;return function(e,o){if(o){for(var _=!1,n=0,r=o.length;n<r;n++){if("getIsEnabled"!==o[n]){if(_)break}else _=!0}_&&(!0===t.getIsEnabled()?!t.__destroyStateSymbolWatch&&t.__stateSymbol&&(t.__destroyStateSymbolWatch=t.__stateSymbol.watch(t.__onStateSymbolWatch())):(t.__mousedown=!1,t.__stateLock=!1,t.__touches=[],t.__destroyStateSymbolWatch&&(t.__destroyStateSymbolWatch(),t.__destroyStateSymbolWatch=null)))}}},o.prototype.__onMouseDown=function(){var e=this;return function(o){e.__touchLock||0===o.button&&e.getIsEnabled()&&t.Access.checkAccess(e,"operate")&&(e.__mousedown=!0,!1===e.__stateLock&&(!1===e.__state?(e.__toggleLock=!0,e.__stateLock=!0,e.__destroyStateSymbolWatch&&(e.__destroyStateSymbolWatch(),e.__destroyStateSymbolWatch=null),e.__processState(!0,!0,"userInteraction")):e.__toggleLock=!1))}},o.prototype.__onMouseUp=function(){var e=this;return function(o){e.__touchLock||0===o.button&&e.__mousedown&&e.getIsEnabled()&&t.Access.checkAccess(e,"operate")&&(e.__mousedown=!1,!1===e.__toggleLock&&!0===e.__state&&e.__processState(!1,!0,"userInteraction"),e.__stateLock=!1,!e.__destroyStateSymbolWatch&&e.__stateSymbol&&(e.__destroyStateSymbolWatch=e.__stateSymbol.watch(e.__onStateSymbolWatch())))}},o.prototype.__onMouseEnter=function(){return function(t){}},o.prototype.__onMouseLeave=function(){var e=this;return function(o){e.__mousedown&&e.getIsEnabled()&&t.Access.checkAccess(e,"operate")&&(e.__mousedown=!1,!1===e.__toggleLock&&!0===e.__state&&e.__processState(!1,!0,"userInteraction"),e.__stateLock=!1,!e.__destroyStateSymbolWatch&&e.__stateSymbol&&(e.__destroyStateSymbolWatch=e.__stateSymbol.watch(e.__onStateSymbolWatch())))}},o.prototype.__onTouchStart=function(){var e=this;return function(o){if(e.getIsEnabled()&&t.Access.checkAccess(e,"operate")){var _=Array.prototype.slice.apply(o.changedTouches).filter(function(t){return t.target===o.target});if(0!==_.length){e.__touches=e.__touches.concat(_.map(function(t){return t})),!1===e.__stateLock&&(!1===e.__state?(e.__toggleLock=!0,e.__stateLock=!0,e.__destroyStateSymbolWatch&&(e.__destroyStateSymbolWatch(),e.__destroyStateSymbolWatch=null),e.__processState(!0,!0,"userInteraction")):e.__toggleLock=!1),e.__touchLock=!0;var n=e;setTimeout(function(){n.__touchLock=!1},300)}}}},o.prototype.__onTouchEndOrCancel=function(){var e=this;return function(o){if(0!==e.__touches.length&&e.getIsEnabled()&&t.Access.checkAccess(e,"operate")){var _=Array.prototype.slice.apply(o.changedTouches).map(function(t){return t.identifier});e.__touches=e.__touches.filter(function(t){return-1===_.indexOf(t.identifier)}),0===e.__touches.length&&(!1===e.__toggleLock&&!0===e.__state&&e.__processState(!1,!0,"userInteraction"),e.__stateLock=!1,!e.__destroyStateSymbolWatch&&e.__stateSymbol&&(e.__destroyStateSymbolWatch=e.__stateSymbol.watch(e.__onStateSymbolWatch())))}}},o.prototype.__onToggleGroupToggled=function(){var t=this;return function(e,o){o&&o.ActiveElementId&&o.ActiveElementId!==t.__id&&(t.__stateSymbol&&t.__stateSymbol.getExpression().toString()===o.source||t.__processState(!1,!0,"toggleGroup"))}},o.prototype.setToggleGroup=function(valueNew){var e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ToggleGroup")),e!==this.__toggleGroup&&(this.__toggleGroup=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getToggleGroup"]),this.__processToggleGroup())},o.prototype.getToggleGroup=function(){return this.__toggleGroup},o.prototype.__processToggleGroup=function(){null!==this.__onToggleGroupToggledEventDestroyEvent&&(this.__onToggleGroupToggledEventDestroyEvent(),this.__onToggleGroupToggledEventDestroyEvent=null),null!==this.__toggleGroup&&(this.__onToggleGroupToggledEventDestroyEvent=t.EventProvider.register(this.__toggleGroup+".toggled",this.__onToggleGroupToggled()))},o.prototype.__setToggleState=function(valueNew,e,o){void 0===e&&(e=!0),void 0===o&&(o=!1);var _=t.ValueConverter.toToggleState(valueNew);null===_&&(_=this.getAttributeDefaultValueInternal("ToggleState")),_!==this.__toggleState&&(this.__toggleState=_,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getToggleState"]),t.EventProvider.raise(this.__id+".onToggleStateChanged"),o&&this.__processToggleState(e))},o.prototype.setToggleState=function(valueNew){this.__setToggleState(valueNew,!0,!0)},o.prototype.getToggleState=function(){return this.__toggleState},o.prototype.__processToggleState=function(t){void 0===t&&(t=!0),this.__processState("Active"===this.__toggleState,t,"attribute")},o}(e.TcHmiButton);e.TcHmiToggleButton=o}(e.Beckhoff||(e.Beckhoff={})),e.registerEx("TcHmiToggleButton","TcHmi.Controls.Beckhoff",t.Controls.Beckhoff.TcHmiToggleButton)}(t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));