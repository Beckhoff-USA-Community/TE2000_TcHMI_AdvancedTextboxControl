var TcHmi,__extends=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();!function(t){!function(e){!function(e){var o=function(e){function o(o,r,n){var i=e.call(this,o,r,n)||this;return i.__resizeEventDestroyEvent=null,i.__onResolverForStrokeColorWatchCallback=function(e){!1===i.__isAttached&&i.__suspendObjectResolver("strokeColor"),e.error===t.Errors.NONE?tchmi_equal(e.value,i.__strokeColor)||(i.__strokeColor=e.value,t.EventProvider.raise(i.__id+".onFunctionResultChanged",["getStrokeColor"]),i.__processStrokeColor()):t.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiLine, Id="+i.getId()+", Attribute=StrokeColor] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))},i}return __extends(o,e),o.prototype.__previnit=function(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_Beckhoff_TcHmiLine-template"),0===this.__elementTemplateRoot.length&&(this.__elementTemplateRoot=this.__element.find(".tchmi-line-template")),this.__elementSvg=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiLine-template-svg"),0===this.__elementSvg.length&&(this.__elementSvg=this.__elementTemplateRoot.find(".tchmi-line-template-svg")),this.__elementSvgLine=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiLine-template-svg-line"),0===this.__elementSvgLine.length&&(this.__elementSvgLine=this.__elementTemplateRoot.find(".tchmi-line-template-svg-line")),0===this.__elementTemplateRoot.length||0===this.__elementSvg.length||0===this.__elementSvgLine.length)throw new Error("Invalid Template.html");e.prototype.__previnit.call(this)},o.prototype.__init=function(){e.prototype.__init.call(this)},o.prototype.__attach=function(){e.prototype.__attach.call(this),this.__resizeEventDestroyEvent=t.EventProvider.register(this.__id+".onResized",this.__onResized())},o.prototype.__detach=function(){e.prototype.__detach.call(this),null!==this.__resizeEventDestroyEvent&&(this.__resizeEventDestroyEvent(),this.__resizeEventDestroyEvent=null)},o.prototype.destroy=function(){this.__keepAlive||e.prototype.destroy.call(this)},o.prototype.__onResized=function(){var t=this;return function(e,o){t.__drawLine()}},o.prototype.setStrokeColor=function(valueNew){var e=t.ValueConverter.toObject(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("StrokeColor"));var o=this.__objectResolvers.get("strokeColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new t.Symbol.ObjectResolver(e);this.__objectResolvers.set("strokeColor",{resolver:r,watchCallback:this.__onResolverForStrokeColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForStrokeColorWatchCallback)})},o.prototype.getStrokeColor=function(){return this.__strokeColor},o.prototype.__processStrokeColor=function(){t.StyleProvider.processStrokeColor(this.__elementSvgLine,this.__strokeColor)},o.prototype.setStrokeStyle=function(valueNew){var e=t.ValueConverter.toString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("StrokeStyle")),e!==this.__strokeStyle&&(this.__strokeStyle=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getStrokeStyle"]),this.__processStrokeStyle())},o.prototype.getStrokeStyle=function(){return this.__strokeStyle},o.prototype.__processStrokeStyle=function(){t.StyleProvider.setSimpleElementStyle(this.__elementSvgLine,"stroke-dasharray",this.__strokeStyle)},o.prototype.setStrokeThickness=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("StrokeThickness")),e!==this.__strokeThickness&&(this.__strokeThickness=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getStrokeThickness"]),this.__processStrokeThickness())},o.prototype.getStrokeThickness=function(){return this.__strokeThickness},o.prototype.__processStrokeThickness=function(){"number"!=typeof this.__strokeThickness?t.StyleProvider.setSimpleElementStyle(this.__elementSvgLine,"stroke-width",null):t.StyleProvider.setSimpleElementStyle(this.__elementSvgLine,"stroke-width",this.__strokeThickness.toString())},o.prototype.getStrokeThicknessUnit=function(){return"px"},o.prototype.__processStrokeThicknessUnit=function(){},o.prototype.setX1=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("X1")),e!==this.__x1&&(this.__x1=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getX1"]),this.__processX1())},o.prototype.getX1=function(){return this.__x1},o.prototype.__processX1=function(){this.__drawLine()},o.prototype.getX1Unit=function(){return"px"},o.prototype.__processX1Unit=function(){},o.prototype.setY1=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("Y1")),e!==this.__y1&&(this.__y1=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getY1"]),this.__processY1())},o.prototype.getY1=function(){return this.__y1},o.prototype.__processY1=function(){this.__drawLine()},o.prototype.getY1Unit=function(){return"px"},o.prototype.__processY1Unit=function(){},o.prototype.setX2=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("X2")),e!==this.__x2&&(this.__x2=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getX2"]),this.__processX2())},o.prototype.getX2=function(){return this.__x2},o.prototype.__processX2=function(){this.__drawLine()},o.prototype.getX2Unit=function(){return"px"},o.prototype.__processX2Unit=function(){},o.prototype.setY2=function(valueNew){var e=t.ValueConverter.toNumber(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("Y2")),e!==this.__y2&&(this.__y2=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getY2"]),this.__processY2())},o.prototype.getY2=function(){return this.__y2},o.prototype.__processY2=function(){this.__drawLine()},o.prototype.getY2Unit=function(){return"px"},o.prototype.__processY2Unit=function(){},o.prototype.__drawLine=function(){if(void 0!==this.__x1&&null!==this.__x1&&void 0!==this.__y1&&null!==this.__y1&&void 0!==this.__x2&&null!==this.__x2&&void 0!==this.__y2&&null!==this.__y2){var t=this.getRenderedWidth();if(t){var e=this.getRenderedHeight();if(e){for(var o=[this.__x1,this.__y1,this.__x2,this.__y2],r=null,n=null,i=null,s=null,_=0,l=o.length;_<l;_++)_%2==0?((null===r||o[_]<r)&&(r=o[_]),(null===i||o[_]>i)&&(i=o[_])):((null===n||o[_]<n)&&(n=o[_]),(null===s||o[_]>s)&&(s=o[_]));var h=i-r,c=s-n,u=t/(h=0!==h?h:t),a=e/(c=0!==c?c:e);switch(this.__scaleMode){case"ScaleToFill":for(_=0,l=o.length;_<l;_++)o[_]=_%2==0?(o[_]-r)*u:(o[_]-n)*a;break;case"ScaleToFit":var p=u<a?u:a;for(_=0,l=o.length;_<l;_++)o[_]=_%2==0?(o[_]-r)*p:(o[_]-n)*p;break;case"ScaleToFitWidth":for(_=0,l=o.length;_<l;_++)o[_]=_%2==0?(o[_]-r)*u:(o[_]-n)*u;break;case"ScaleToFitHeight":for(_=0,l=o.length;_<l;_++)o[_]=_%2==0?(o[_]-r)*a:(o[_]-n)*a}this.__elementSvgLine[0].setAttribute("x1",o[0].toString()),this.__elementSvgLine[0].setAttribute("y1",o[1].toString()),this.__elementSvgLine[0].setAttribute("x2",o[2].toString()),this.__elementSvgLine[0].setAttribute("y2",o[3].toString())}}}},o.prototype.setScaleMode=function(valueNew){var e=t.ValueConverter.toScaleModeString(valueNew);null===e&&(e=this.getAttributeDefaultValueInternal("ScaleMode")),e!==this.__scaleMode&&(this.__scaleMode=e,t.EventProvider.raise(this.__id+".onFunctionResultChanged",["getScaleMode"]),this.__processScaleMode())},o.prototype.getScaleMode=function(){return this.__scaleMode},o.prototype.__processScaleMode=function(){this.__drawLine()},o}(t.Controls.System.TcHmiControl);e.TcHmiLine=o}(e.Beckhoff||(e.Beckhoff={})),e.registerEx("TcHmiLine","TcHmi.Controls.Beckhoff",t.Controls.Beckhoff.TcHmiLine)}(t.Controls||(t.Controls={}))}(TcHmi||(TcHmi={}));