var TcHmi,__extends=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();!function(e){!function(t){!function(t){var o=function(t){function o(r,i,n){var l=t.call(this,r,i,n)||this;return l.__internalSorting=[],l.__internalSrcColumn=[],l.__lockState=null,l.__columnWidths=[{width:0,widthUnit:"px",pixelWidth:0,minWidth:6,minWidthUnit:"px",resizable:!0}],l.__draggingInfo={isDragging:!1,columnIndex:null,startingPoint:null,offset:null},l.__lastRemovedSorting=null,l.__sortMap=null,l.__sortTouches=[],l.__srcDataHasChanged=!1,l.__selectedCell=null,l.__scrollInfo={scrollTop:0,scrollLeft:0,firstIndex:0,oldFirstIndex:0,rowCount:0,oldRowCount:0,buffer:10},l.__resizedEventDestroyEvent=null,l.__movedEventDestroyEvent=null,l.__comboboxDropdowns={},l.__selectedCombobox=null,l.__resizeElementMinWidth=8,l.__contentWidth=null,l.__contentHeight=null,l.__storageValidation={sorting:{function:"getSorting",expectedResult:void 0},columnWidths:{function:"getSrcColumn",expectedResult:void 0}},l.__onMousedown=function(t){if(!0===e.Access.checkAccess(l,"operate")&&!1!==l.getIsEnabled()&&0===t.button){for(var o=t.target;o&&o instanceof Element&&!o.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template")&&!o.classList.contains("tchmi-datagrid-combobox-template");)o=o.parentElement;if(o instanceof HTMLDivElement){var r=o.parentElement;r instanceof HTMLTableCellElement&&l.__openCombobox(r)}}},l.__onItemClick=function(t){if(t.target instanceof HTMLElement&&(t.target.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-dropdown-element")||t.target.classList.contains("tchmi-datagrid-combobox-template-dropdown-element"))&&l.__selectedCombobox&&!0===e.Access.checkAccess(l,"operate")&&!1!==l.getIsEnabled()){var o=l.__selectedCombobox.cell.parentElement;if(o instanceof HTMLTableRowElement){var r=parseInt(t.target.dataset.index||"",10),i=l.__selectedCombobox.column;if(!isNaN(r)&&i){var n=i.dataDefinitions?i.dataDefinitions[r]:void 0,s=l.__selectedCombobox.cell.getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-select")[0];n&&s&&(s.textContent=n.text||"",l.__modifySrcData(n.value,l.__selectedCombobox.row,l.__internalSrcColumn.indexOf(i),o))}l.__closeCombobox()}}},l.__resizeDropdownBoxCb=function(){if(l.__selectedCombobox){var t=document.documentElement.getBoundingClientRect(),o=l.__selectedCombobox.combobox.getBoundingClientRect(),r=l.__selectedCombobox.dropdown.getBoundingClientRect(),i={top:o.top+o.height+"px",left:o.left+"px",right:null,"min-width":o.width+"px"};t.height-o.bottom<r.height&&o.top>=r.height?(i.top=o.top-r.height+"px",l.__selectedCombobox.dropdown.classList.add("above-control")):l.__selectedCombobox.dropdown.classList.remove("above-control"),t.width-o.left<r.width&&o.right>=r.width&&(i.left=null,i.right=t.width-o.right+"px"),e.StyleProvider.setSimpleElementStyle(l.__selectedCombobox.dropdown,i)}},l.__onColumnMouseDown=function(t){if(0===t.button&&l.getIsEnabled()&&e.Access.checkAccess(l,"operate")&&t.target instanceof HTMLElement&&(t.target.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-resize-element")||t.target.classList.contains("tchmi-datagrid-template-resize-element"))){for(var o=t.target;o&&!(o instanceof HTMLTableCellElement);)o=o.parentElement;if(o){var r=o.getBoundingClientRect();l.__draggingInfo.isDragging=!0,l.__draggingInfo.columnIndex=o.cellIndex,l.__draggingInfo.startingPoint=r.left,l.__draggingInfo.offset=r.width-(t.clientX-r.left)}}},l.__onColumnMouseMove=function(t){if(l.__draggingInfo.isDragging&&null!==l.__draggingInfo.startingPoint&&null!==l.__draggingInfo.offset&&null!==l.__draggingInfo.columnIndex&&l.getIsEnabled()&&e.Access.checkAccess(l,"operate")){var o=t.clientX-l.__draggingInfo.startingPoint+l.__draggingInfo.offset;if("%"===l.__columnWidths[l.__draggingInfo.columnIndex].widthUnit){var r=l.__element[0].clientWidth;0!==l.__draggingInfo.columnIndex&&l.__showRowNumbers&&(r-=l.__columnWidths[0].pixelWidth),o=o/r*100}l.__resizeColumn(l.__draggingInfo.columnIndex,o),l.__setStoredValue("columnWidths",l.__columnWidths.map(function(e){return e.width}))}},l.__onColumnMouseUp=function(){l.__draggingInfo.isDragging=!1,l.__draggingInfo.columnIndex=null,l.__draggingInfo.startingPoint=null,l.__draggingInfo.offset=null,l.__lockState&&null!==l.__lockState.column&&l.__internalSrcColumn[l.__lockState.column]&&"CheckBox"===l.__internalSrcColumn[l.__lockState.column].control&&l.__unlock()},l.__onColumnMouseDblClick=function(t){if(l.getIsEnabled()&&e.Access.checkAccess(l,"operate")&&t.target instanceof HTMLElement&&(t.target.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-resize-element")||t.target.classList.contains("tchmi-datagrid-template-resize-element"))){var o=$(t.target).closest("th"),r=o[0].cellIndex;if(l.__columnWidths[r].resizable){var i=l.__elementDataTableBody.find("td:nth-child("+(r+1)+")");o.css({"min-width":"0","max-width":"none"}),i.css({"min-width":"0","max-width":"none",display:"table-cell"});var n="",s="",a=r>0&&"ComboBox"===l.__internalSrcColumn[r-1].control;a&&(i.find(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-select").css({position:"static"}),n=i.css("padding-left"),s=i.css("padding-right"),i.css({"padding-left":"0","padding-right":"0"}));var _=r>0&&"TextBox"===l.__internalSrcColumn[r-1].control;if(_){var c=i.find("input");c.css({width:"0",position:"static"}),c.each(function(e,t){t.style.width=t.scrollWidth+"px"}),n=i.css("padding-left"),s=i.css("padding-right"),i.css({"padding-left":"0","padding-right":"0"})}var d=o[0].offsetWidth,h=i[0].offsetWidth;a&&(h+=i[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-button")[0].clientWidth,i.find(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-select").css({position:""}),i.css({"padding-left":n,"padding-right":s})),_&&(i.find("input").css({width:"",position:""}),i.css({"padding-left":n,"padding-right":s})),o.css({"min-width":"","max-width":""}),i.css({"min-width":"","max-width":"",display:""});var u=d>h?d:h;if("%"===l.__columnWidths[r].widthUnit){var m=l.__element[0].clientWidth;0!==l.__draggingInfo.columnIndex&&l.__showRowNumbers&&(m-=l.__columnWidths[0].pixelWidth),u=u/m*100}l.__resizeColumn(r,u,!0),l.__setStoredValue("columnWidths",l.__columnWidths.map(function(e){return e.width}))}}},l.__onSortClick=function(t){if(l.getIsEnabled()&&e.Access.checkAccess(l,"operate")){for(var o=t.target;o instanceof HTMLElement&&!o.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-sort-element")&&!o.classList.contains("tchmi-datagrid-template-sort-element")&&!o.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers")&&!o.classList.contains("tchmi-datagrid-template-row-numbers");){if(o.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-resize-element"))return;o=o.parentElement}o instanceof HTMLElement&&l.__modifySorting(o,t.shiftKey)}},l.__onSortTouchStart=function(t){if(l.getIsEnabled()&&e.Access.checkAccess(l,"operate"))for(var o=function(e,o){for(var r=t.changedTouches[e],i=r.target;i instanceof HTMLElement&&!i.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-sort-element")&&!i.classList.contains("tchmi-datagrid-template-sort-element")&&!i.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers")&&!i.classList.contains("tchmi-datagrid-template-row-numbers");)i=i.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-resize-element")?null:i.parentElement;if(!(i instanceof HTMLElement))return"continue";var n={touchId:r.identifier,timeoutId:null,sortElement:i,clientX:r.clientX,clientY:r.clientY};l.__sortTouches.push(n),n.timeoutId=window.setTimeout(function(){n.timeoutId=null,l.__modifySorting(n.sortElement,!0)},300)},r=0,i=t.changedTouches.length;r<i;r++)o(r)},l.__onSortTouchMove=function(e){for(var t=0,o=e.changedTouches.length;t<o;t++){for(var r=e.changedTouches[t],i=-1,n=0,s=l.__sortTouches.length;n<s;n++)if(l.__sortTouches[n].touchId===r.identifier){i=n;break}if(-1!==i){var a=l.__sortTouches[i];Math.pow(r.clientX-a.clientX,2)+Math.pow(r.clientY-a.clientY,2)>100&&(null!==a.timeoutId&&window.clearTimeout(a.timeoutId),l.__sortTouches.splice(i,1))}}},l.__onSortTouchEnd=function(e){e.cancelable&&e.preventDefault();for(var t=0,r=e.changedTouches.length;t<r;t++){for(var i=e.changedTouches[t],n=-1,s=0,a=l.__sortTouches.length;s<a;s++)if(l.__sortTouches[s].touchId===i.identifier){n=s;break}if(-1!==n){var _=l.__sortTouches[n];if(null!==_.timeoutId)if(window.clearTimeout(_.timeoutId),0===l.__internalSorting.length)l.__modifySorting(_.sortElement,!1);else{for(var c=_.sortElement;c&&!(c instanceof HTMLTableCellElement);)c=c.parentElement;if(c)if(c.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers")||c.classList.contains("tchmi-datagrid-template-row-numbers"))l.__modifySorting(_.sortElement,!1);else{var d=void 0;if(o.isSimpleColumn(l.__internalSrcColumn[0])||(d=c.dataset.name),l.__lastRemovedSorting&&l.__lastRemovedSorting.name===d)l.__modifySorting(_.sortElement,!0);else{for(var h=!1,u=0,m=l.__internalSorting.length;u<m;u++)if(l.__internalSorting[u].name===d){h=!0;break}l.__modifySorting(_.sortElement,h)}}}l.__sortTouches.splice(n,1)}}},l.__onSortTouchCancel=function(e){e.cancelable&&e.preventDefault();for(var t=0,o=e.changedTouches.length;t<o;t++){for(var r=e.changedTouches[t],i=-1,n=0,s=l.__sortTouches.length;n<s;n++)if(l.__sortTouches[n].touchId===r.identifier){i=n;break}if(-1!==i){var a=l.__sortTouches[i];null!==a.timeoutId&&window.clearTimeout(a.timeoutId),l.__sortTouches.splice(i,1)}}},l.__onScroll=function(t){if(l.getIsEnabled()&&e.Access.checkAccess(l,"operate")){var o=t.currentTarget.scrollLeft,r=t.currentTarget.scrollTop;if(l.__scrollInfo.scrollLeft!==o&&(l.__scrollInfo.scrollLeft=o,l.__elementHeaderScroll.scrollLeft(o)),l.__scrollInfo.scrollTop!==r){l.__scrollInfo.scrollTop=r;var i=l.__rowHeight?Math.floor(r/l.__rowHeight):0;Math.abs(l.__scrollInfo.firstIndex-i)>l.__scrollInfo.buffer/2&&(l.__scrollInfo.firstIndex=i,l.__updateTable(2),l.__updateSentinels())}}},l.__onFocusElement=function(t){if(l.__srcData&&l.getIsEnabled()&&e.Access.checkAccess(l,"operate")){for(var o=t.target;o instanceof Node&&!(o instanceof HTMLTableCellElement);)o=o.parentElement;if(o instanceof HTMLTableCellElement){var r=parseInt(o.dataset.row||"",10),i=parseInt(o.dataset.column||"-1",10);isNaN(r)||(l.__elementDataTableBody.find("tr.focused, td.focused").removeClass("focused"),o.classList.add("focused"),o.parentElement&&o.parentElement.classList.add("focused"),null!==l.__selectedCell&&l.__selectedCell.rowIndex===r&&l.__selectedCell.columnIndex===i||(l.__selectedCell={rowIndex:r,columnIndex:i},e.EventProvider.raise(l.__id+".onSelectedItemChanged"),e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getSelectedRowIndex","getSelectedColumnIndex","getSelectedRowValue","getSelectedCellValue"])),t.target instanceof HTMLInputElement&&"text"===t.target.type&&!t.target.disabled&&l.__lock(r,i))}}},l.__onFocusElementOut=function(t){if(l.__srcData&&l.getIsEnabled()&&e.Access.checkAccess(l,"operate")&&t.target instanceof HTMLInputElement&&"text"===t.target.type){for(var o=t.target;o&&!(o instanceof HTMLTableCellElement);)o=o.parentElement;for(var r=o;r&&!(r instanceof HTMLTableRowElement);)r=r.parentElement;if(r&&(l.__unlock(),o&&!o.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers")&&!o.classList.contains("tchmi-datagrid-template-row-numbers"))){var i=parseInt(o.dataset.row||"",10),n=parseInt(o.dataset.column||"",10);if(!isNaN(i)&&!isNaN(n)&&!("TextBox"!==l.__internalSrcColumn[n].control||i>=l.__srcData.length)){var s=l.__modifySrcData(t.target.value,i,n,r);t.target.value=l.__executeFormatFunction(l.__internalSrcColumn[n].format,s)}}}},l.__onEmptyAreaClick=function(t){t.target===t.currentTarget&&l.__srcData&&l.getIsEnabled()&&e.Access.checkAccess(l,"operate")&&null!==l.__selectedCell&&(l.__elementDataTableBody.find("tr.focused, td.focused").removeClass("focused"),l.__selectedCell=null,e.EventProvider.raise(l.__id+".onSelectedItemChanged"),e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getSelectedRowIndex","getSelectedColumnIndex","getSelectedRowValue","getSelectedCellValue"]))},l.__onKeydown=function(t){if(l.__srcData&&l.getIsEnabled()&&e.Access.checkAccess(l,"operate")&&t.target instanceof HTMLInputElement&&"text"===t.target.type)if("Enter"===t.key)t.target.blur();else if("Escape"===t.key&&l.__selectedCell&&null!==l.__selectedCell.rowIndex){var r=l.__srcData[l.__selectedCell.rowIndex],i=l.__internalSrcColumn[l.__selectedCell.columnIndex];o.isSimpleColumn(i)||(r=l.__readObjectProperty(r,i.name)),t.target.value=l.__executeFormatFunction(i.format,r),t.target.blur()}},l.__onCheckboxMouseDown=function(t){if(l.getIsEnabled()&&e.Access.checkAccess(l,"operate")&&t.target instanceof HTMLLabelElement&&t.target.previousElementSibling instanceof HTMLInputElement&&"checkbox"===t.target.previousElementSibling.type){for(var o=t.target;o&&!(o instanceof HTMLTableCellElement);)o=o.parentElement;if(o){var r=parseInt(o.dataset.row||"",10),i=parseInt(o.dataset.column||"",10);isNaN(r)||isNaN(i)||l.__lock(r,i)}}},l.__onValueChange=function(t){if(l.__srcData&&l.getIsEnabled()&&e.Access.checkAccess(l,"operate")&&t.target instanceof HTMLInputElement&&"checkbox"===t.target.type){for(var o=t.target;o&&!(o instanceof HTMLTableRowElement);)o=o.parentElement;if(o){l.__lockState&&"ComboBox"===l.__internalSrcColumn[l.__lockState.column].control&&l.__unlock();for(var r=t.target;r&&!(r instanceof HTMLTableCellElement);)r=r.parentElement;if(r){var i=parseInt(r.dataset.row||"",10),n=parseInt(r.dataset.column||"",10);isNaN(i)||isNaN(n)||"CheckBox"===l.__internalSrcColumn[n].control&&l.__modifySrcData(t.target.checked,i,n,o)}}}},l.__onResolverForSrcColumnWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("srcColumn"),t.error===e.Errors.NONE?tchmi_equal(t.value,l.__srcColumn)||(l.__srcColumn=t.value,Array.isArray(t.value)?l.__internalSrcColumn=t.value:l.__internalSrcColumn=[t.value],e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getSrcColumn"]),l.__processSrcColumn()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=SrcColumn] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l.__onResolverForSrcDataWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("srcData"),t.error===e.Errors.NONE?(l.__srcDataHasChanged&&(l.__srcDataHasChanged=!1,e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getSrcDataHasChanged"])),tchmi_equal(t.value,l.__srcData)||(null!==t.value?(l.__lockState&&t.value&&l.__lockState.row<t.value.length&&l.__srcData&&(null!==l.__lockState.propertyName?l.__writeObjectProperty(t.value[l.__lockState.row],l.__lockState.propertyName,l.__readObjectProperty(l.__srcData[l.__lockState.row],l.__lockState.propertyName)):t.value[l.__lockState.row]=l.__srcData[l.__lockState.row]),l.__srcData=t.value):l.__srcData=[],e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getSrcData"]),l.__processSrcData())):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=SrcDataHasChanged] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l.__onResolverForSortingWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("sorting"),t.error===e.Errors.NONE?tchmi_equal(t.value,l.__sorting)||(l.__sorting=t.value,l.__internalSorting=tchmi_clone_object(t.value)||[],e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getSorting"]),l.__processSorting()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=Sorting] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l.__onResolverForHeaderCellPaddingWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("headerCellPadding"),t.error===e.Errors.NONE?tchmi_equal(t.value,l.__headerCellPadding)||(l.__headerCellPadding=t.value,e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getHeaderCellPadding"]),l.__processHeaderCellPadding()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=HeaderCellPadding] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l.__onResolverForTableBorderColorWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("tableBorderColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,l.__tableBorderColor)||(l.__tableBorderColor=t.value,e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getTableBorderColor"]),l.__processTableBorderColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=TableBorderColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l.__onResolverForTableBorderStyleWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("tableBorderStyle"),t.error===e.Errors.NONE?tchmi_equal(t.value,l.__tableBorderStyle)||(l.__tableBorderStyle=t.value,e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getTableBorderStyle"]),l.__processTableBorderStyle()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=TableBorderStyle] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l.__onResolverForRowNumbersCellPaddingWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("rowNumbersCellPadding"),t.error===e.Errors.NONE?tchmi_equal(t.value,l.__rowNumbersCellPadding)||(l.__rowNumbersCellPadding=t.value,e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getRowNumbersCellPadding"]),l.__processRowNumbersCellPadding()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=RowNumbersCellPadding] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l.__onResolverForCellContentPaddingWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("cellContentPadding"),t.error===e.Errors.NONE?tchmi_equal(t.value,l.__cellContentPadding)||(l.__cellContentPadding=t.value,e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getCellContentPadding"]),l.__processCellContentPadding()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=CellContentPadding] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l.__onResolverForHeaderBackgroundColorWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("headerBackgroundColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,l.__headerBackgroundColor)||(l.__headerBackgroundColor=t.value,e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getHeaderBackgroundColor"]),l.__processHeaderBackgroundColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=HeaderBackgroundColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l.__onResolverForHeaderTextColorWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("headerTextColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,l.__headerTextColor)||(l.__headerTextColor=t.value,e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getHeaderTextColor"]),l.__processHeaderTextColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=HeaderTextColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l.__onResolverForRowNumbersTextColorWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("rowNumbersTextColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,l.__rowNumbersTextColor)||(l.__rowNumbersTextColor=t.value,e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getRowNumbersTextColor"]),l.__processRowNumbersTextColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=RowNumbersTextColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l.__onResolverForRowNumbersBackgroundColorWatchCallback=function(t){!1===l.__isAttached&&l.__suspendObjectResolver("rowNumbersBackgroundColor"),t.error===e.Errors.NONE?tchmi_equal(t.value,l.__rowNumbersBackgroundColor)||(l.__rowNumbersBackgroundColor=t.value,e.EventProvider.raise(l.__id+".onFunctionResultChanged",["getRowNumbersBackgroundColor"]),l.__processRowNumbersBackgroundColor()):e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+", Attribute=RowNumbersBackgroundColor] Resolving symbols from object failed with error: "+e.Log.buildMessage(t.details))},l}return __extends(o,t),o.prototype.__previnit=function(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template"),0===this.__elementTemplateRoot.length&&(this.__elementTemplateRoot=this.__element.find(".tchmi-datagrid-template")),this.__elementOuter=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-outer"),0===this.__elementOuter.length&&(this.__elementOuter=this.__elementTemplateRoot.find(".tchmi-datagrid-template-outer")),this.__elementHeaderScroll=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header-border"),0===this.__elementHeaderScroll.length&&(this.__elementHeaderScroll=this.__elementTemplateRoot.find(".tchmi-datagrid-template-header-border")),this.__elementHeaderTable=this.__elementHeaderScroll.find("table"),this.__elementDataScroll=this.__elementTemplateRoot.find(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-data-scroll"),0===this.__elementDataScroll.length&&(this.__elementDataScroll=this.__elementTemplateRoot.find(".tchmi-datagrid-template-data-scroll")),this.__elementDataTableBody=this.__elementDataScroll.find("table tbody"),0===this.__elementTemplateRoot.length||0===this.__elementOuter.length||0===this.__elementHeaderScroll.length||0===this.__elementHeaderTable.length||0===this.__elementDataScroll.length||0===this.__elementDataTableBody.length)throw new Error("Invalid Template.html");t.prototype.__previnit.call(this)},o.prototype.__init=function(){t.prototype.__init.call(this),this.__initStorage(),document.addEventListener("mouseup",this.__onColumnMouseUp),document.addEventListener("mousemove",this.__onColumnMouseMove),document.addEventListener("click",this.__onItemClick),this.__elementHeaderTable[0].addEventListener("mousedown",this.__onColumnMouseDown),this.__elementHeaderTable[0].addEventListener("dblclick",this.__onColumnMouseDblClick),this.__elementHeaderTable[0].addEventListener("click",this.__onSortClick),this.__elementHeaderTable[0].addEventListener("touchstart",this.__onSortTouchStart),this.__elementHeaderTable[0].addEventListener("touchmove",this.__onSortTouchMove),this.__elementHeaderTable[0].addEventListener("touchend",this.__onSortTouchEnd),this.__elementHeaderTable[0].addEventListener("touchcancel",this.__onSortTouchCancel),this.__elementDataScroll[0].addEventListener("scroll",this.__onScroll),this.__elementDataScroll[0].addEventListener("click",this.__onEmptyAreaClick),this.__elementDataTableBody[0].addEventListener("mousedown",this.__onCheckboxMouseDown),this.__elementDataTableBody[0].addEventListener("change",this.__onValueChange),this.__elementDataTableBody[0].addEventListener("focusin",this.__onFocusElement),this.__elementDataTableBody[0].addEventListener("focusout",this.__onFocusElementOut),this.__elementDataTableBody[0].addEventListener("keydown",this.__onKeydown),this.__elementDataTableBody[0].addEventListener("mousedown",this.__onMousedown)},o.prototype.__attach=function(){t.prototype.__attach.call(this),this.__resizedEventDestroyEvent=e.EventProvider.register(this.__id+".onResized",this.__onResized());var o=this.__getStoredValue("columnWidths");if(o)for(var r=0,i=Math.min(o.length,this.__columnWidths.length);r<i;r++)this.__columnWidths[r].width=o[r];this.__recalcAllColumnWidths();var n=this.__getStoredValue("sorting");n&&(this.__internalSorting=n,this.__processSorting()),this.__updateTable(1)},o.prototype.__detach=function(){t.prototype.__detach.call(this),this.__selectedCombobox=null,null!==this.__resizedEventDestroyEvent&&(this.__resizedEventDestroyEvent(),this.__resizedEventDestroyEvent=null)},o.prototype.destroy=function(){this.__keepAlive||(document.removeEventListener("mouseup",this.__onColumnMouseUp),document.removeEventListener("mousemove",this.__onColumnMouseMove),document.removeEventListener("click",this.__onItemClick),this.__elementHeaderTable[0].removeEventListener("mousedown",this.__onColumnMouseDown),this.__elementHeaderTable[0].removeEventListener("dblclick",this.__onColumnMouseDblClick),this.__elementHeaderTable[0].removeEventListener("click",this.__onSortClick),this.__elementHeaderTable[0].removeEventListener("touchstart",this.__onSortTouchStart),this.__elementHeaderTable[0].removeEventListener("touchmove",this.__onSortTouchMove),this.__elementHeaderTable[0].removeEventListener("touchend",this.__onSortTouchEnd),this.__elementHeaderTable[0].removeEventListener("touchcancel",this.__onSortTouchCancel),this.__elementDataScroll[0].removeEventListener("scroll",this.__onScroll),this.__elementDataScroll[0].removeEventListener("click",this.__onEmptyAreaClick),this.__elementDataTableBody[0].removeEventListener("mousedown",this.__onCheckboxMouseDown),this.__elementDataTableBody[0].removeEventListener("change",this.__onValueChange),this.__elementDataTableBody[0].removeEventListener("focusin",this.__onFocusElement),this.__elementDataTableBody[0].removeEventListener("focusout",this.__onFocusElementOut),this.__elementDataTableBody[0].removeEventListener("keydown",this.__onKeydown),this.__elementDataTableBody[0].removeEventListener("mousedown",this.__onMousedown),t.prototype.destroy.call(this))},o.prototype.__onResized=function(){var e=this;return function(t,o){e.__rowHeight&&(e.__scrollInfo.rowCount=Math.ceil(e.__elementDataScroll[0].clientHeight/e.__rowHeight)),e.__updateTable(2),e.__updateSentinels(),e.__recalcAllColumnWidths(),e.__selectedCombobox&&e.__resizeDropdownBoxCb()}},o.prototype.__recalcAllColumnWidths=function(t){if(void 0===t&&(t=!1),this.__isAttached){var o=this.__element[0].clientWidth,r=0;if(o>0)for(var i=0,n=this.__columnWidths.length;i<n;i++){var l=this.__columnWidths[i],s=l.minWidth;o<=0?s=0:"%"===l.widthUnit&&"px"===l.minWidthUnit?s=s/o*100:"px"===l.widthUnit&&"%"===l.minWidthUnit&&(s=g(s));var a=l.width<s?s:l.width,_="%"===l.widthUnit?g(a):a,c=Math.floor(_);if((r+=_-c)>=1&&(c++,r--),0===i&&this.__showRowNumbers&&(o-=c),l.pixelWidth!==c||t){l.pixelWidth=c;var d={"min-width":l.pixelWidth+"px","max-width":l.pixelWidth+"px"};e.StyleProvider.setSimpleElementStyle(this.__elementHeaderScroll[0].querySelectorAll("th:nth-child("+(i+1)+")"),d),e.StyleProvider.setSimpleElementStyle(this.__elementDataScroll[0].querySelectorAll("td:nth-child("+(i+1)+")"),d)}}var h=this.__elementDataTableBody[0].querySelectorAll(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row td input[type=checkbox] + label"),u=0;for(n=h.length;u<n;u++){if(!((i=h[u].parentElement.cellIndex)>=this.__columnWidths.length)){var m=Math.min(this.__rowHeight||0,this.__columnWidths[i].pixelWidth)-(this.__tableBorderWidth||0);h[u].style.width=m+"px",h[u].style.height=m+"px"}}"Content"===this.getWidthMode()&&this.__processWidth()}function g(e){return o*(.01*e)}},o.prototype.__buildHeader=function(){var t,r=this.__elementHeaderTable.find("tr");r.find("th[data-column]").remove();for(var i=document.createDocumentFragment(),n=0,l=this.__internalSrcColumn.length;n<l;n++){var s="",a=this.__internalSrcColumn[n];o.isSimpleColumn(a)||(s=a.name);var _=document.createElement("th");_.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header","tchmi-datagrid-template-header","tchmi-box"),_.dataset.column=n.toString(10),_.dataset.name=s,this.__internalSrcColumn[n].resize&&_.classList.add("resizable");var c=this.__columnWidths[n+1].pixelWidth;e.StyleProvider.setSimpleElementStyle(_,{"min-width":c+"px","max-width":c+"px"}),e.StyleProvider.processContentPadding(_,this.__headerCellPadding),e.StyleProvider.processBorderWidth(_,{right:this.__tableBorderWidth}),e.StyleProvider.processBorderStyle(_,this.__tableBorderStyle),e.StyleProvider.processBorderColor(_,this.__tableBorderColor),e.StyleProvider.processBackgroundColor(_,this.__headerBackgroundColor),e.StyleProvider.processTextColor(_,this.__headerTextColor),e.StyleProvider.processFontFamily(_,this.__headerFontFamily),e.StyleProvider.processFontSize(_,this.__headerFontSize,this.__headerFontSizeUnit),e.StyleProvider.processFontStyle(_,this.__headerFontStyle),e.StyleProvider.processFontWeight(_,this.__headerFontWeight);var d=document.createElement("div");d.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header-wrapper","tchmi-datagrid-template-header-wrapper");var h=document.createElement("div");h.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-sort-element","tchmi-datagrid-template-sort-element"),a.sortable&&h.classList.add("sortable");var u=document.createElement("div");u.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-sort-element-child","tchmi-datagrid-template-sort-element-child"),u.textContent=null!=(t=this.__internalSrcColumn[n].label)?t:"";for(var m=0,g=this.__internalSorting.length;m<g;m++)if(this.__internalSorting[m].name===s){switch(this.__internalSorting[m].order){case"Ascending":u.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header-sort-asc","tchmi-datagrid-template-header-sort-asc");break;case"Descending":u.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header-sort-desc","Ttchmi-datagrid-template-header-sort-desc")}break}var p=document.createElement("div");p.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-resize-element","tchmi-datagrid-template-resize-element"),this.__tableBorderWidth&&this.__tableBorderWidth>this.__resizeElementMinWidth&&e.StyleProvider.setSimpleElementStyle(p,{width:this.__tableBorderWidth+"px",right:-this.__tableBorderWidth+"px"}),h.appendChild(u),d.appendChild(h),d.appendChild(p),_.appendChild(d),i.appendChild(_)}r[0].appendChild(i)},o.prototype.__updateTable=function(e){if(this.__srcData&&this.__rowNumbersHorizontalAlignment&&this.__rowNumbersVerticalAlignment&&void 0!==this.__rowHeight&&void 0!==this.__showRowNumbers){var t=this.__sortMap&&this.__sortMap.length===this.__srcData.length,o=this.__scrollInfo.firstIndex-this.__scrollInfo.buffer;o=o>0?o:0;var r=this.__scrollInfo.firstIndex+this.__scrollInfo.rowCount+this.__scrollInfo.buffer;r=r<=this.__srcData.length?r:this.__srcData.length;var i=this.__elementDataTableBody[0];switch(e){case 0:var n=0,l=!1;if(this.__lockState&&this.__lockState.row<o){n=1;var s=this.__lockState.row;this.__createRow(s,t?this.__sortMap.indexOf(s):s,i.children[0],this.__lockState.column)}else if(this.__lockState&&this.__lockState.row>=r){l=!0;s=this.__lockState.row;this.__createRow(s,t?this.__sortMap.indexOf(s):s,i.children[i.childElementCount-1],this.__lockState.column)}for(var a=null,_=o;_<r;_++&n++){var c=t?this.__sortMap[_]:_,d=i.children[n];d?this.__createRow(c,_,d,this.__lockState&&this.__lockState.row===c?this.__lockState.column:void 0):(a||(a=document.createDocumentFragment()),a.appendChild(this.__createRow(c,_)))}for(a&&i.appendChild(a);i.childElementCount>(l?n+1:n);)i.removeChild(i.lastElementChild);break;case 1:this.__lockState&&this.__unlock();var h=document.createDocumentFragment();for(_=o;_<r;_++){c=t?this.__sortMap[_]:_;h.appendChild(this.__createRow(c,_))}for(;i.lastChild;)i.removeChild(i.lastChild);i.appendChild(h);break;case 2:var u=this.__scrollInfo.oldFirstIndex-this.__scrollInfo.buffer;u=u>0?u:0;var m=this.__scrollInfo.oldFirstIndex+this.__scrollInfo.oldRowCount+this.__scrollInfo.buffer;m=m<=this.__srcData.length?m:this.__srcData.length;var g=[],p=0;for(_=u;_<o;_++){if(!(s=i.children[p]))break;if(this.__lockState&&this.__lockState.row===parseInt(s.dataset.row||"",10)){if(p=1,this.__lockState.row===_){s.style.position="absolute",s.style.left="-100%";continue}if(!(s=s.nextElementSibling))break}g.push(i.removeChild(s))}p=0;for(_=m-1;_>=r;_--){if(!(s=i.children[i.childElementCount-(p+1)]))break;if(this.__lockState&&this.__lockState.row===parseInt(s.dataset.row||"",10)){if(p=1,this.__lockState.row===_){s.style.position="absolute",s.style.left="-100%";continue}if(!(s=s.previousElementSibling))break}g.push(i.removeChild(s))}var f=document.createDocumentFragment(),b=Math.max(m,o);for(_=b;_<r;_++){c=t?this.__sortMap[_]:_;f.appendChild(this.__createRow(c,_,g.pop()))}var v=document.createDocumentFragment(),C=Math.min(u-1,r-1);for(_=C;_>=o;_--){c=t?this.__sortMap[_]:_;v.insertBefore(this.__createRow(c,_,g.pop()),v.firstChild)}if(this.__lockState){var y=t?this.__sortMap.indexOf(this.__lockState.row):this.__lockState.row;if(y<o)this.__elementDataTableBody.children().first().after(v),this.__elementDataTableBody.append(f);else if(y>=r)this.__elementDataTableBody.prepend(v),this.__elementDataTableBody.children().last().before(f);else{var S=y-(C-(v.childNodes.length-1));S>=0&&S<v.childNodes.length?(this.__elementDataTableBody.children().first().css({position:"",left:""}).after(Array.prototype.slice.call(v.childNodes,S+1)),this.__elementDataTableBody.prepend(Array.prototype.slice.call(v.childNodes,0,S))):this.__elementDataTableBody.prepend(v);var w=y-b;w>=0&&w<f.childNodes.length?(this.__elementDataTableBody.children().last().css({position:"",left:""}).before(Array.prototype.slice.call(f.childNodes,0,w)),this.__elementDataTableBody.append(Array.prototype.slice.call(f.childNodes,1))):this.__elementDataTableBody.append(f)}}else this.__elementDataTableBody.prepend(v),this.__elementDataTableBody.append(f)}this.__scrollInfo.oldFirstIndex=this.__scrollInfo.firstIndex,this.__scrollInfo.oldRowCount=this.__scrollInfo.rowCount}},o.prototype.__openCombobox=function(t){var r=this;if(this.__srcData){var i=parseInt(t.dataset.column||"",10),n=this.__internalSrcColumn[i],l=parseInt(t.dataset.row||"",10);if(n&&n.editable&&!isNaN(i)&&!isNaN(l)){var s=t.getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template")[0],a=this.__comboboxDropdowns[JSON.stringify(n.dataDefinitions)];if(s&&a){this.__lock(l,i);var _=this.__srcData[l];o.isSimpleColumn(n)||(_=this.__readObjectProperty(_,n.name));for(var c=0,d=a.children.length;c<d;c++){var h=a.children[c];tchmi_equal(h.dataset.value,_,!1)?h.classList.add("selected"):h.classList.remove("selected")}s.classList.add("active");var u={removeCb:function(e){document.removeEventListener("scroll",r.__resizeDropdownBoxCb,{capture:!0}),null!==r.__movedEventDestroyEvent&&(r.__movedEventDestroyEvent(),r.__movedEventDestroyEvent=null),s.classList.remove("active"),r.__selectedCombobox=null}};a.classList.remove("drop-down-style-mobile"),u.dimBackground=!1,u.resizeCb=this.__resizeDropdownBoxCb,document.addEventListener("scroll",this.__resizeDropdownBoxCb,{capture:!0,passive:!0}),this.__movedEventDestroyEvent=e.EventProvider.register(this.__id+".onMoved",this.__resizeDropdownBoxCb),this.__selectedCombobox={cell:t,column:n,row:l,combobox:s,dropdown:a},e.TopMostLayer.add(this,$(a),u)}}}},o.prototype.__closeCombobox=function(){this.__selectedCombobox&&(e.TopMostLayer.remove(this,$(this.__comboboxDropdowns[JSON.stringify(this.__selectedCombobox.column.dataDefinitions)])),this.__unlock())},o.prototype.__createRow=function(t,r,i,n){if(!this.__srcData)throw new Error("Unable to create row without srcData");var l=-1;if(i&&(l=parseInt(i.dataset.row||"",10))===t&&this.__oldSrcData&&tchmi_equal(this.__oldSrcData[l],this.__srcData[t]))return i;var s=i||document.createElement("tr");s.setAttribute("data-row",t.toString(10)),this.__setRowClasses(s,t);for(var a=function(a,c){if(a===n)return"continue";var d;if(-1!==a){var h=_.__internalSrcColumn[a];if(o.isSimpleColumn(h)){if(d=_.__srcData[t],l===t&&_.__oldSrcData&&tchmi_equal(_.__oldSrcData[l],d))return"continue"}else if(d=_.__readObjectProperty(_.__srcData[t],h.name),l===t&&_.__oldSrcData&&tchmi_equal(_.__readObjectProperty(_.__oldSrcData[l],h.name),d))return"continue"}var u=void 0;if((u=i?s.getElementsByTagName("td")[a+1]:document.createElement("td")).setAttribute("data-row",t.toString()),!i){var m=_.__columnWidths[a+1].pixelWidth,g={"min-width":m+"px","max-width":m+"px",height:_.__rowHeight+"px"};if(-1===a)u.setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers tchmi-box"),g.display=_.__showRowNumbers?"":"none",g["text-align"]=_.__rowNumbersHorizontalAlignment?_.__rowNumbersHorizontalAlignment.toLowerCase():"","Center"===_.__rowNumbersVerticalAlignment?g["vertical-align"]="middle":_.__rowNumbersVerticalAlignment&&(g["vertical-align"]=_.__rowNumbersVerticalAlignment.toLowerCase()),e.StyleProvider.processContentPadding(u,_.__rowNumbersCellPadding),e.StyleProvider.processTextColor(u,_.__rowNumbersTextColor),e.StyleProvider.processBackgroundColor(u,_.__rowNumbersBackgroundColor),e.StyleProvider.processFontFamily(u,_.__rowNumbersFontFamily),e.StyleProvider.processFontSize(u,_.__rowNumbersFontSize,_.__rowNumbersFontSizeUnit),e.StyleProvider.processFontStyle(u,_.__rowNumbersFontStyle),e.StyleProvider.processFontWeight(u,_.__rowNumbersFontWeight);else{u.setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-cell tchmi-box"),u.setAttribute("data-column",a.toString());h=_.__internalSrcColumn[a];switch(o.isSimpleColumn(h)||u.setAttribute("data-column-name",h.name),h.horizontalAlignment){case"Left":g["justify-content"]="flex-start";break;case"Center":g["justify-content"]="center";break;case"Right":g["justify-content"]="flex-end";break;default:g["justify-content"]=""}switch(h.verticalAlignment){case"Top":g["align-items"]="flex-start";break;case"Center":g["align-items"]="center";break;case"Bottom":g["align-items"]="flex-end";break;default:g["align-items"]=""}e.StyleProvider.processTextColor(u,h.textColor),e.StyleProvider.processBackgroundColor(u,h.cellBackground),e.StyleProvider.processFontFamily(u,_.__gridFontFamily),e.StyleProvider.processFontSize(u,_.__gridFontSize,_.__gridFontSizeUnit),e.StyleProvider.processFontStyle(u,_.__gridFontStyle),e.StyleProvider.processFontWeight(u,_.__gridFontWeight)}u.setAttribute("tabindex","0"),u.setAttribute("data-tchmi-focusable",""),e.StyleProvider.setSimpleElementStyle(u,g),e.StyleProvider.processBorderWidth(u,{right:_.__tableBorderWidth,rightUnit:"px",bottom:_.__tableBorderWidth,bottomUnit:"px",top:0,left:0}),e.StyleProvider.processBorderStyle(u,_.__tableBorderStyle),e.StyleProvider.processBorderColor(u,_.__tableBorderColor)}if(_.__selectedCell&&_.__selectedCell.columnIndex===a?u.classList.add("focused"):u.classList.remove("focused"),-1!==a){switch((h=_.__internalSrcColumn[a]).control){case"CheckBox":var p=void 0;if(i)p=u.getElementsByTagName("input")[0];else{(p=document.createElement("input")).setAttribute("type","checkbox");var f="checkbox-"+tchmi_create_guid();p.setAttribute("id",f),p.disabled=!h.editable;var b=document.createElement("label");b.setAttribute("for",f);var v=Math.min(_.__rowHeight||0,_.__columnWidths[a+1].pixelWidth)-(_.__tableBorderWidth||0);e.StyleProvider.setSimpleElementStyle(b,{height:v+"px",width:v+"px"}),u.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-cell-unpadded-control","tchmi-datagrid-template-cell-unpadded-control"),u.appendChild(p),u.appendChild(b)}p.checked=e.ValueConverter.toBoolean(d,!1);break;case"TextBox":var input=void 0;i?input=u.getElementsByTagName("input")[0]:((input=document.createElement("input")).setAttribute("type","text"),null!==h.cellBackground&&void 0!==h.cellBackground&&e.StyleProvider.processBackgroundColor(input,h.cellBackground),null!==h.textColor&&void 0!==h.textColor&&e.StyleProvider.processTextColor(input,h.textColor),h.horizontalAlignment&&(input.style.textAlign=h.horizontalAlignment.toLowerCase()),e.StyleProvider.processContentPadding(input,_.__cellContentPadding),input.disabled=!h.editable,u.appendChild(input),u.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-cell-unpadded-control","tchmi-datagrid-template-cell-unpadded-control")),input.value=_.__executeFormatFunction(h.format,d);break;case"TextBlock":u.firstChild?u.firstChild.nodeValue=_.__executeFormatFunction(h.format,d):u.textContent=_.__executeFormatFunction(h.format,d);break;case"Image":var C=void 0;i?C=u.getElementsByTagName("img")[0]:(C=document.createElement("img"),u.appendChild(C));var y=null;h.dataDefinitions&&(y=h.dataDefinitions.filter(function(e){return tchmi_equal(e.value,d)})[0]),C.setAttribute("src",y&&y.source||""),C.setAttribute("alt",y&&y.text||""),C.style.width=y&&void 0!==y.width&&null!==y.width?y.width+"px":"",C.style.height=y&&void 0!==y.height&&null!==y.height?y.height+"px":"";break;case"ComboBox":var S=void 0,w=void 0;if(i)S=u.getElementsByTagName("div")[0],w=u.getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-select")[0];else{switch((S=document.createElement("div")).setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template tchmi-box"),S.setAttribute("tabindex","-1"),S.setAttribute("data-tchmi-column",a.toString()),(w=document.createElement("div")).setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-select tchmi-box"),e.StyleProvider.processContentPadding(w,_.__cellContentPadding),h.horizontalAlignment){case"Left":w.style.justifyContent="flex-start";break;case"Center":w.style.justifyContent="center";break;case"Right":w.style.justifyContent="flex-end"}switch(h.verticalAlignment){case"Top":w.style.alignItems="flex-start";break;case"Center":w.style.alignItems="center";break;case"Bottom":w.style.alignItems="flex-end"}var T=$('<svg class="TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-button tchmi-box" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30px" height="100%" viewBox="0 0 30 30" enable-background="new 0 0 30 30" xml:space="preserve"><polyline class="TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-button-arrow" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" points= "22.865,12.5 15,20.366 7.135,12.5" /></svg>')[0];S.appendChild(w),S.appendChild(T),u.appendChild(S),u.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-cell-unpadded-control","tchmi-datagrid-template-cell-unpadded-control")}S.setAttribute("data-tchmi-row",t.toString());var H=null;h.dataDefinitions&&(H=h.dataDefinitions.filter(function(e){return tchmi_equal(e.value,d)})[0]),w.textContent=H&&H.text||"";break;default:void 0!==d?u.innerHTML=d:u.textContent=""}i||u.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-cell-unpadded-control")||u.classList.contains("tchmi-datagrid-template-cell-unpadded-control")||e.StyleProvider.processContentPadding(u,_.__cellContentPadding)}else u.firstChild?u.firstChild.nodeValue=(r+1).toString():u.textContent=(r+1).toString();null===u.parentNode&&s.appendChild(u)},_=this,c=-1,d=this.__internalSrcColumn.length;c<d;c++)a(c);return s},o.prototype.__resizeColumn=function(e,t,o){void 0===o&&(o=!1),(this.__columnWidths[e].resizable||o)&&(t!==this.__columnWidths[e].width||o)&&(this.__columnWidths[e].width=t,this.__recalcAllColumnWidths(o))},o.prototype.__modifySorting=function(t,r){for(var i=t;i&&!(i instanceof HTMLTableCellElement);)i=i.parentElement;if(i){if(i.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers")||i.classList.contains("tchmi-datagrid-template-row-numbers")){if(r)return;this.__internalSorting=tchmi_clone_object(this.__sorting)||[],this.__lastRemovedSorting=null}else{if(!t.classList.contains("sortable"))return;var n=void 0;o.isSimpleColumn(this.__internalSrcColumn[0])||(n=i.dataset.name);for(var l=null,s=0,a=this.__internalSorting.length;s<a;s++)if(this.__internalSorting[s].name===n){l=this.__internalSorting[s];break}if(l)switch(l.order){case"Ascending":l.order="Descending",r||(this.__internalSorting=[l]),this.__lastRemovedSorting=null;break;case"Descending":if(r){var _=this.__internalSorting.indexOf(l);this.__internalSorting.splice(_,1),this.__lastRemovedSorting={name:l.name,position:_}}else this.__internalSorting=[],this.__lastRemovedSorting=null}else r?this.__lastRemovedSorting&&this.__lastRemovedSorting.name===n?this.__internalSorting.splice(this.__lastRemovedSorting.position,0,{name:n,order:"Ascending"}):this.__internalSorting.push({name:n,order:"Ascending"}):this.__internalSorting=[{name:n,order:"Ascending"}],this.__lastRemovedSorting=null}e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSorting"]),this.__processSorting(),i.classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers")?this.__removeStoredValue("sorting"):this.__setStoredValue("sorting",this.__internalSorting)}},o.prototype.__mapSort=function(){var t=this;if(this.__srcData)if(0!==this.__internalSorting.length){var o="object"!=typeof this.__srcData[0];this.__sortMap=this.__srcData.map(function(e,t){return t}).sort(function(r,i){for(var n=0,l=function(l,s){var a=t.__srcData[r],_=t.__srcData[i];!o&&t.__internalSorting[l].name&&(a=t.__readObjectProperty(t.__srcData[r],t.__internalSorting[l].name),_=t.__readObjectProperty(t.__srcData[i],t.__internalSorting[l].name)),a=null!=a?a.valueOf():a,_=null!=_?_.valueOf():_;var c=null,d=function(e,t){return e-t},h=function(t,o){return c||(c=new Intl.Collator(e.Locale.get(),{usage:"sort",sensitivity:"accent",numeric:!0})),c.compare(t,o)},u="Descending"===t.__internalSorting[l].order?-1:1;switch(typeof a){case"boolean":switch(typeof _){case"boolean":n=function(e,t){return e===t?0:e?1:-1}(a,_);break;case"number":n=d(a?1:0,_);break;case"string":n=h(a.toString(),_);break;default:n=-1*u}break;case"number":switch(typeof _){case"boolean":n=d(a,_?1:0);break;case"number":n=d(a,_);break;case"string":n=h(a.toString(10),_);break;default:n=-1*u}break;case"string":switch(typeof _){case"boolean":n=h(a,_.toString());break;case"number":n=h(a,_.toString(10));break;case"string":n=h(a,_);break;default:n=-1*u}break;default:switch(typeof _){case"boolean":case"number":case"string":n=u;break;default:n=!a&&_?-1:a&&!_?1:a||_?0:a===_?0:void 0===a?-1:1}}n*=u},s=0,a=t.__internalSorting.length;s<a&&0===n;s++)l(s);return n})}else this.__sortMap=null},o.prototype.__updateSentinels=function(){if(this.__srcData){var t=0,o=0;void 0!==this.__rowHeight&&(t=(this.__scrollInfo.firstIndex-this.__scrollInfo.buffer)*this.__rowHeight,o=(this.__srcData.length-(this.__scrollInfo.firstIndex+this.__scrollInfo.rowCount+this.__scrollInfo.buffer))*this.__rowHeight),t=t>0?t:0,o=o>0?o:0,e.StyleProvider.setSimpleElementStyle(this.__element[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-scroll-sentinel-top"),"height",t+"px"),e.StyleProvider.setSimpleElementStyle(this.__element[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-scroll-sentinel-bottom"),"height",o+"px")}},o.prototype.__modifySrcData=function(valueNew,t,r,i){if(this.__srcData){var n=this.__internalSrcColumn[r],l=this.__srcData[t];o.isSimpleColumn(n)||(l=this.__readObjectProperty(l,n.name));var s=valueNew;if(null!=l)switch(typeof l){case"string":s=e.ValueConverter.toString(valueNew);break;case"number":s=e.ValueConverter.toNumber(valueNew);break;case"boolean":s=e.ValueConverter.toBoolean(valueNew);break;case"object":s=e.ValueConverter.toObject(valueNew)}return null===s&&(s=valueNew),tchmi_equal(l,s)||(o.isSimpleColumn(n)?this.__srcData[t]=s:this.__writeObjectProperty(this.__srcData[t],n.name,s),this.__srcDataHasChanged||(this.__srcDataHasChanged=!0,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSrcDataHasChanged"])),e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSrcData"]),e.EventProvider.raise(this.__id+".onDataChanged",{index:t,property:o.isSimpleColumn(n)?null:n.name,value:s}),this.__setRowClasses(i,t)),s}},o.prototype.__readObjectProperty=function(obj,path){for(var t=e.System.resolveSymbolPathToTokenArray(path),o=obj,r=0,i=t.length;r<i;r++){var n=t[r],l=!1;if(n.match(/\[.*\]/)&&(n=n.slice(1,-1),l=!0),Array.isArray(o)&&l){var s=parseInt(n,10);o=o[isNaN(s)?n:s]}else{if("object"!=typeof o)return e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+this.getId()+"] Tried to read object properties of a primitive type."),null;o=o[n]}}return o},o.prototype.__writeObjectProperty=function(obj,path,valueNew){for(var t=e.System.resolveSymbolPathToTokenArray(path),o=obj,r=0,i=t.length;r<i;r++){var n=t[r],l=!1;if(n.match(/\[.*\]/)&&(n=n.slice(1,-1),l=!0),Array.isArray(o)&&l){var s=parseInt(n,10);r+1===i?o[isNaN(s)?n:s]=valueNew:o=o[isNaN(s)?n:s]}else{if("object"!=typeof o)return void e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+this.getId()+"] Tried to read or write object properties of a primitive type.");r+1===i?o[n]=valueNew:o=o[n]}}},o.prototype.__initStorage=function(){var e=window.localStorage.getItem("TCHMI_TCHMIDATAGRID_USERPREFERENCES_"+this.__id);if(e)try{this.__storage=JSON.parse(e),"object"!=typeof this.__storage&&(this.__storage={})}catch(e){this.__storage={}}else this.__storage={};for(var t in this.__storageValidation)this.__storageValidation[t].expectedResult=this[this.__storageValidation[t].function].apply(this);for(var t in this.__storage)tchmi_equal(this.__storageValidation[t].expectedResult,this.__storage[t].validation.expectedResult)||this.__removeStoredValue(t)},o.prototype.__getStoredValue=function(t){this.__storage||this.__initStorage();var o=e.Server.getCurrentUser(),r=this.__storage[t];if(r)return o?r.users?r.users[o]:void 0:r.anonymousUser},o.prototype.__setStoredValue=function(t,o){this.__storage||this.__initStorage();var r=e.Server.getCurrentUser();this.__storage[t]||(this.__storage[t]={validation:{function:this.__storageValidation[t].function,expectedResult:this.__storageValidation[t].expectedResult}});var i=this.__storage[t];r?(i.users||(i.users={}),i.users[r]=o):i.anonymousUser=o;try{window.localStorage.setItem("TCHMI_TCHMIDATAGRID_USERPREFERENCES_"+this.__id,JSON.stringify(this.__storage))}catch(e){}},o.prototype.__removeStoredValue=function(t){this.__storage||this.__initStorage();var o=this.__storage[t];if(o){var r=e.Server.getCurrentUser();r?o.users?(delete o.users[r],0===Object.keys(o.users).length&&(void 0===o.anonymousUser?delete this.__storage[t]:delete o.users)):void 0===o.anonymousUser&&delete this.__storage[t]:o.users?delete o.anonymousUser:delete this.__storage[t]}if(Object.keys(this.__storage).length>0)try{window.localStorage.setItem("TCHMI_TCHMIDATAGRID_USERPREFERENCES_"+this.__id,JSON.stringify(this.__storage))}catch(e){}else window.localStorage.removeItem("TCHMI_TCHMIDATAGRID_USERPREFERENCES_"+this.__id)},o.prototype.setSrcColumn=function(valueNew){if(!this.__lockState){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("SrcColumn"));var o=this.__objectResolvers.get("srcColumn");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("srcColumn",{resolver:r,watchCallback:this.__onResolverForSrcColumnWatchCallback,watchDestroyer:r.watch(this.__onResolverForSrcColumnWatchCallback)})}},o.prototype.getSrcColumn=function(){return this.__srcColumn},o.prototype.__processSrcColumn=function(){this.__srcData&&this.__srcData.length>0&&"object"!=typeof this.__srcData[0]&&0===this.__internalSrcColumn.length&&(this.__internalSrcColumn=[{label:"",control:"TextBlock",width:70,widthUnit:"px",resize:!0,minWidth:70,minWidthUnit:"px",editable:!0,horizontalAlignment:"Center",verticalAlignment:"Center",cellBackground:null,textColor:null}]);var e,t=void 0!==this.__tableBorderWidth?this.__tableBorderWidth:1,o=Math.max(t,this.__resizeElementMinWidth),r=this.__element[0].clientWidth-this.__columnWidths[0].pixelWidth;this.__columnWidths.splice(1),this.__comboboxDropdowns={};for(var i=0,n=this.__internalSrcColumn.length;i<n;i++){var l=this.__internalSrcColumn[i],s=l.minWidthUnit,a="px"===(s=s||"px")?o:(e=o,r>0?e/r*100:0),_=l.minWidth;if(_=(_=null!=_?_:0)>=a?_:a,this.__columnWidths.push({width:0,widthUnit:l.widthUnit,pixelWidth:0,minWidth:_,minWidthUnit:s,resizable:l.resize}),this.__resizeColumn(i+1,l.width,!0),"ComboBox"===l.control){var c=document.createElement("div");if(c.setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-dropdown tchmi-box"),c.setAttribute("tabindex","-1"),l.dataDefinitions)for(var d=0,h=l.dataDefinitions.length;d<h;d++){var u=l.dataDefinitions[d],text=u.text||"",m=document.createElement("div");m.setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-dropdown-element"),m.setAttribute("data-index",d.toString()),m.setAttribute("data-value",u.value.toString()),m.textContent=text,c.appendChild(m)}this.__comboboxDropdowns[JSON.stringify(l.dataDefinitions)]=c}}null!==this.__selectedCombobox&&this.__closeCombobox(),this.__buildHeader(),this.__updateTable(1)},o.prototype.__executeFormatFunction=function(t,o){if(null!=t&&!1!==t.active){var r=[o],i=null,n=new e.Function(t),l=this;return n.executeEx(r,function(o){o.error===e.Errors.NONE?i=o.result:e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+l.getId()+"] Execution of function="+t.fn+" failed with error: "+e.Log.buildMessage(o.details))}),n.destroy(),i}return null!=o?o.toString():""},o.prototype.setSrcData=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("SrcData"));var o=this.__objectResolvers.get("srcData");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("srcData",{resolver:r,watchCallback:this.__onResolverForSrcDataWatchCallback,watchDestroyer:r.watch(this.__onResolverForSrcDataWatchCallback)})},o.prototype.getSrcData=function(){return this.__srcData},o.prototype.__processSrcData=function(){if(!this.__srcData||this.__oldSrcData&&this.__oldSrcData.length===this.__srcData.length||(this.__lockState&&this.__lockState.row>=this.__srcData.length&&this.__unlock(),this.__updateSentinels(),null!==this.__selectedCell&&null!==this.__selectedCell.rowIndex&&this.__selectedCell.rowIndex>=this.__srcData.length&&(this.__selectedCell=null,e.EventProvider.raise(this.__id+".onSelectedItemChanged"),e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSelectedRowIndex","getSelectedColumnIndex","getSelectedRowValue","getSelectedCellValue"]))),this.__srcData&&this.__srcData.length>0&&"object"!=typeof this.__srcData[0]&&0===this.__internalSrcColumn.length){this.__internalSrcColumn=[{label:"",control:"TextBlock",width:70,widthUnit:"px",resize:!0,minWidth:70,minWidthUnit:"px",editable:!0,horizontalAlignment:"Center",verticalAlignment:"Center",cellBackground:null,textColor:null}];var t=void 0!==this.__tableBorderWidth?this.__tableBorderWidth:1,o=Math.max(t,this.__resizeElementMinWidth);this.__columnWidths.splice(1);for(var r=0,i=this.__internalSrcColumn.length;r<i;r++){var n=this.__internalSrcColumn[r].minWidth;n=(n=null!=n?n:0)>=o?n:o;var l=this.__internalSrcColumn[r].minWidthUnit;l=l||"px",this.__columnWidths.push({width:0,widthUnit:this.__internalSrcColumn[r].widthUnit,pixelWidth:0,minWidth:n,minWidthUnit:l,resizable:this.__internalSrcColumn[r].resize}),this.__resizeColumn(r+1,this.__internalSrcColumn[r].width,!0)}this.__buildHeader()}this.__mapSort(),this.__updateTable(0),"Content"!==this.getHeightMode()||this.__oldSrcData&&this.__srcData&&this.__oldSrcData.length===this.__srcData.length||this.__processHeight(),this.__oldSrcData=this.__srcData},o.prototype.setSorting=function(valueNew){var t=e.ValueConverter.toObject(valueNew,this.getAttributeDefaultValueInternal("Sorting")),o=this.__objectResolvers.get("sorting");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("sorting",{resolver:r,watchCallback:this.__onResolverForSortingWatchCallback,watchDestroyer:r.watch(this.__onResolverForSortingWatchCallback)})},o.prototype.getSorting=function(){return this.__sorting},o.prototype.__processSorting=function(){this.__mapSort(),this.__updateTable(0);for(var e=this.__elementHeaderTable[0].getElementsByTagName("th"),t=0,r=e.length;t<r;t++)if(!e[t].classList.contains("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers")&&!e[t].classList.contains("tchmi-datagrid-template-row-numbers")){var i=e[t].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-sort-element-child")[0];i||(i=e[t].getElementsByClassName("tchmi-datagrid-sort-element-child")[0]),i.classList.remove("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header-sort-asc"),i.classList.remove("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header-sort-desc"),i.classList.remove("tchmi-datagrid-template-header-sort-asc"),i.classList.remove("tchmi-datagrid-template-header-sort-desc");var propertyName=void 0;o.isSimpleColumn(this.__internalSrcColumn[0])||(propertyName=e[t].dataset.name);for(var n=0,l=this.__internalSorting.length;n<l;n++)if(this.__internalSorting[n].name===propertyName){switch(this.__internalSorting[n].order){case"Ascending":i.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header-sort-asc","tchmi-datagrid-template-header-sort-asc");break;case"Descending":i.classList.add("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header-sort-desc","tchmi-datagrid-template-header-sort-desc")}break}}},o.prototype.setRowClassesProvider=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowClassesProvider")),tchmi_equal(t,this.__rowClassesProvider)||(this.__rowClassesProvider=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowClassesProvider"]),this.__processRowClassesProvider())},o.prototype.getRowClassesProvider=function(){return this.__rowClassesProvider},o.prototype.__processRowClassesProvider=function(){for(var e=this.__elementDataTableBody[0].children,t=0,o=e.length;t<o;t++){var r=e[t],i=parseInt(r.dataset.row||"",10);isNaN(i)||this.__setRowClasses(r,i)}},o.prototype.__executeRowClassesProviderFunction=function(t){var o=this;if(void 0!==this.__srcData&&void 0!==this.__rowClassesProvider&&null!==this.__rowClassesProvider&&!1!==this.__rowClassesProvider.active){var r=[this.__srcData[t],t,this.__sortMap&&this.__sortMap.length===this.__srcData.length?this.__sortMap.indexOf(t):t],i=null,n=new e.Function(this.__rowClassesProvider);return n.executeEx(r,function(t){t.error===e.Errors.NONE?i=t.result:e.Log.error("[Source=Control, Module=TcHmi.Controls.Beckhoff.TcHmiDatagrid, Id="+o.getId()+"] Execution of function="+o.__rowClassesProvider.fn+" failed with error. Details: "+(void 0!==t.details?e.Log.buildMessage(t.details):e.Errors[t.error]))}),n.destroy(),i||[]}return[]},o.prototype.__setRowClasses=function(e,t){e.setAttribute("class","TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row"),this.__selectedCell&&this.__selectedCell.rowIndex===t&&e.classList.add("focused");for(var o=this.__executeRowClassesProviderFunction(t),r=0,i=o.length;r<i;r++)e.classList.add(o[r])},o.prototype.setHeaderHeight=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("HeaderHeight")),t!==this.__headerHeight&&(this.__headerHeight=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getHeaderHeight"]),this.__processHeaderHeight())},o.prototype.getHeaderHeight=function(){return this.__headerHeight},o.prototype.__processHeaderHeight=function(){null!==this.__headerHeight&&void 0!==this.__headerHeight&&this.__headerHeightUnit&&(e.StyleProvider.setSimpleElementStyle(this.__elementHeaderScroll,"height",this.__headerHeight+this.__headerHeightUnit),e.StyleProvider.setSimpleElementStyle(this.__elementDataScroll,"height","calc(100% - "+this.__headerHeight+(this.__headerHeightUnit||"px")+")"),"Content"===this.getHeightMode()&&this.__processHeight())},o.prototype.setHeaderHeightUnit=function(valueNew){var t=e.ValueConverter.toDimensionUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("HeaderHeightUnit")),t!==this.__headerHeightUnit&&(this.__headerHeightUnit=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getHeaderHeightUnit"]),this.__processHeaderHeightUnit())},o.prototype.getHeaderHeightUnit=function(){return this.__headerHeightUnit},o.prototype.__processHeaderHeightUnit=function(){this.__processHeaderHeight()},o.prototype.setHeaderCellPadding=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("HeaderCellPadding"));var o=this.__objectResolvers.get("headerCellPadding");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("headerCellPadding",{resolver:r,watchCallback:this.__onResolverForHeaderCellPaddingWatchCallback,watchDestroyer:r.watch(this.__onResolverForHeaderCellPaddingWatchCallback)})},o.prototype.getHeaderCellPadding=function(){return this.__headerCellPadding},o.prototype.__processHeaderCellPadding=function(){e.StyleProvider.processContentPadding(this.__elementHeaderTable[0].querySelectorAll("th.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header"),this.__headerCellPadding)},o.prototype.setRowHeight=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowHeight")),t!==this.__rowHeight&&(this.__rowHeight=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowHeight"]),this.__processRowHeight())},o.prototype.getRowHeight=function(){return this.__rowHeight},o.prototype.__processRowHeight=function(){if(void 0!==this.__tableBorderWidth&&void 0!==this.__rowHeight){e.StyleProvider.setSimpleElementStyle(this.__elementDataTableBody[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row"),"height",this.__rowHeight+"px"),e.StyleProvider.setSimpleElementStyle(this.__elementDataTableBody[0].querySelectorAll(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row td"),"height",this.__rowHeight+"px");for(var t=this.__elementDataTableBody[0].querySelectorAll(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row td input[type=checkbox] + label"),o=0,r=t.length;o<r;o++){var i=t[o].parentElement.cellIndex;if(!(i>=this.__columnWidths.length)){var n=Math.min(this.__rowHeight,this.__columnWidths[i].pixelWidth)-this.__tableBorderWidth;t[o].style.width=n+"px",t[o].style.height=n+"px"}}"Content"===this.getHeightMode()&&this.__processHeight()}},o.prototype.getRowHeightUnit=function(){return"px"},o.prototype.setTableBorderColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TableBorderColor"));var o=this.__objectResolvers.get("tableBorderColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("tableBorderColor",{resolver:r,watchCallback:this.__onResolverForTableBorderColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForTableBorderColorWatchCallback)})},o.prototype.getTableBorderColor=function(){return this.__tableBorderColor},o.prototype.__processTableBorderColor=function(){e.StyleProvider.processBorderColor(this.__elementHeaderTable[0].getElementsByTagName("th"),this.__tableBorderColor),e.StyleProvider.processBorderColor(this.__elementDataTableBody[0].querySelectorAll(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row td"),this.__tableBorderColor),e.StyleProvider.processBorderColor(this.__elementHeaderScroll,this.__tableBorderColor)},o.prototype.setTableBorderWidth=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TableBorderWidth")),t!==this.__tableBorderWidth&&(this.__tableBorderWidth=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getTableBorderWidth"]),this.__processTableBorderWidth(),this.__processRowHeight())},o.prototype.getTableBorderWidth=function(){return this.__tableBorderWidth},o.prototype.__processTableBorderWidth=function(){var t={right:this.__tableBorderWidth,rightUnit:"px",bottom:0,left:0,top:0},o={right:this.__tableBorderWidth,rightUnit:"px",bottom:this.__tableBorderWidth,bottomUnit:"px",top:0,left:0},r={bottom:this.__tableBorderWidth,bottomUnit:"px",left:0,top:0,right:0};e.StyleProvider.processBorderWidth(this.__elementHeaderTable[0].getElementsByTagName("th"),t),e.StyleProvider.processBorderWidth(this.__elementDataTableBody[0].querySelectorAll(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row td"),o),e.StyleProvider.processBorderWidth(this.__elementHeaderScroll,r);for(var i=this.__elementDataTableBody[0].querySelectorAll(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row td input[type=checkbox] + label"),n=0,l=i.length;n<l;n++){var s=i[n].parentElement.cellIndex;if(!(s>=this.__columnWidths.length)){var a=Math.min(this.__rowHeight||0,this.__columnWidths[s].pixelWidth)-(this.__tableBorderWidth||0);i[n].style.width=a+"px",i[n].style.height=a+"px"}}e.StyleProvider.setSimpleElementStyle(this.__elementHeaderTable[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-resize-element"),{width:this.__tableBorderWidth&&this.__tableBorderWidth>this.__resizeElementMinWidth?this.__tableBorderWidth+"px":null,right:this.__tableBorderWidth&&this.__tableBorderWidth>this.__resizeElementMinWidth?-this.__tableBorderWidth+"px":null});var _,c=Math.max(this.__tableBorderWidth||0,this.__resizeElementMinWidth),d=!1,h=this.__element[0].clientWidth-this.__columnWidths[0].pixelWidth;for(n=0,l=this.__columnWidths.length;n<l;n++){var u="px"===this.__columnWidths[n].minWidthUnit?c:(_=c,h>0?_/h*100:0),m=0===n?6:this.__internalSrcColumn[n-1].minWidth;m=(m=null!=m?m:0)>=u?m:u,this.__columnWidths[n].minWidth<m&&(d=!0),this.__columnWidths[n].minWidth=m}d&&this.__recalcAllColumnWidths()},o.prototype.setTableBorderWidthUnit=function(){},o.prototype.getTableBorderWidthUnit=function(){return"px"},o.prototype.setTableBorderStyle=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("TableBorderStyle"));var o=this.__objectResolvers.get("tableBorderStyle");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("tableBorderStyle",{resolver:r,watchCallback:this.__onResolverForTableBorderStyleWatchCallback,watchDestroyer:r.watch(this.__onResolverForTableBorderStyleWatchCallback)})},o.prototype.getTableBorderStyle=function(){return this.__tableBorderStyle},o.prototype.__processTableBorderStyle=function(){e.StyleProvider.processBorderStyle(this.__element[0].querySelectorAll(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header-border, .TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header-border th, .TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row td"),this.__tableBorderStyle)},o.prototype.setShowRowNumbers=function(valueNew){var t=e.ValueConverter.toBoolean(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("ShowRowNumbers")),t!==this.__showRowNumbers&&(this.__showRowNumbers=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getShowRowNumbers"]),this.__processShowRowNumbers())},o.prototype.getShowRowNumbers=function(){return this.__showRowNumbers},o.prototype.__processShowRowNumbers=function(){e.StyleProvider.setSimpleElementStyle(this.__element[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers"),"display",this.__showRowNumbers?null:"none"),this.__recalcAllColumnWidths()},o.prototype.setRowNumbersResizable=function(valueNew){var t=e.ValueConverter.toBoolean(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersResizable")),t!==this.__rowNumbersResizable&&(this.__rowNumbersResizable=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowNumbersResizable"]),this.__processRowNumbersResizable())},o.prototype.getRowNumbersResizable=function(){return this.__rowNumbersResizable},o.prototype.__processRowNumbersResizable=function(){this.__columnWidths[0].resizable=this.__rowNumbersResizable,this.__elementHeaderTable.find(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers").toggleClass("resizable",this.__rowNumbersResizable)},o.prototype.setRowNumbersWidth=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersWidth")),t!==this.__rowNumbersWidth&&(this.__rowNumbersWidth=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowNumbersWidth"]),this.__processRowNumbersWidth())},o.prototype.getRowNumbersWidth=function(){return this.__rowNumbersWidth},o.prototype.__processRowNumbersWidth=function(){void 0!==this.__rowNumbersWidth&&this.__resizeColumn(0,this.__rowNumbersWidth,!0)},o.prototype.setRowNumbersWidthUnit=function(valueNew){var t=e.ValueConverter.toDimensionUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersWidthUnit")),t!==this.__rowNumbersWidthUnit&&(this.__rowNumbersWidthUnit=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowNumbersWidthUnit"]),this.__processRowNumbersWidthUnit())},o.prototype.getRowNumbersWidthUnit=function(){return this.__rowNumbersWidthUnit},o.prototype.__processRowNumbersWidthUnit=function(){void 0!==this.__rowNumbersWidthUnit&&(this.__columnWidths[0].widthUnit=this.__rowNumbersWidthUnit,this.__processRowNumbersWidth())},o.prototype.setRowNumbersHorizontalAlignment=function(valueNew){var t=e.ValueConverter.toHorizontalAlignment(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersHorizontalAlignment")),t!==this.__rowNumbersHorizontalAlignment&&(this.__rowNumbersHorizontalAlignment=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowNumbersHorizontalAlignment"]),this.__processRowNumbersHorizontalAlignment())},o.prototype.getRowNumbersHorizontalAlignment=function(){return this.__rowNumbersHorizontalAlignment},o.prototype.__processRowNumbersHorizontalAlignment=function(){switch(this.__rowNumbersHorizontalAlignment){case"Left":case"Center":case"Right":e.StyleProvider.setSimpleElementStyle(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers"),"text-align",this.__rowNumbersHorizontalAlignment.toLowerCase())}},o.prototype.setRowNumbersVerticalAlignment=function(valueNew){var t=e.ValueConverter.toVerticalAlignment(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersVerticalAlignment")),t!==this.__rowNumbersVerticalAlignment&&(this.__rowNumbersVerticalAlignment=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowNumbersVerticalAlignment"]),this.__processRowNumbersVerticalAlignment())},o.prototype.getRowNumbersVerticalAlignment=function(){return this.__rowNumbersVerticalAlignment},o.prototype.__processRowNumbersVerticalAlignment=function(){switch(this.__rowNumbersVerticalAlignment){case"Center":e.StyleProvider.setSimpleElementStyle(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers"),"vertical-align","middle");break;case"Bottom":case"Top":e.StyleProvider.setSimpleElementStyle(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers"),"vertical-align",this.__rowNumbersVerticalAlignment.toLowerCase())}},o.prototype.setRowNumbersCellPadding=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersCellPadding"));var o=this.__objectResolvers.get("rowNumbersCellPadding");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("rowNumbersCellPadding",{resolver:r,watchCallback:this.__onResolverForRowNumbersCellPaddingWatchCallback,watchDestroyer:r.watch(this.__onResolverForRowNumbersCellPaddingWatchCallback)})},o.prototype.getRowNumbersCellPadding=function(){return this.__rowNumbersCellPadding},o.prototype.__processRowNumbersCellPadding=function(){e.StyleProvider.processContentPadding(this.__element[0].querySelectorAll(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers"),this.__rowNumbersCellPadding)},o.prototype.setCellContentPadding=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("CellContentPadding"));var o=this.__objectResolvers.get("cellContentPadding");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("cellContentPadding",{resolver:r,watchCallback:this.__onResolverForCellContentPaddingWatchCallback,watchDestroyer:r.watch(this.__onResolverForCellContentPaddingWatchCallback)})},o.prototype.getCellContentPadding=function(){return this.__cellContentPadding},o.prototype.__processCellContentPadding=function(){var t=this.__elementDataTableBody[0].querySelectorAll(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-cell:not(.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-cell-unpadded-control)");e.StyleProvider.processContentPadding(t,this.__cellContentPadding);var o=this.__elementDataTableBody[0].querySelectorAll('input[type="text"]');e.StyleProvider.processContentPadding(o,this.__cellContentPadding);var r=this.__elementDataTableBody[0].getElementsByClassName("TcHmi_Controls_Beckhoff_TcHmiDatagrid-combobox-template-select");e.StyleProvider.processContentPadding(r,this.__cellContentPadding)},o.prototype.setHeaderBackgroundColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("HeaderBackgroundColor"));var o=this.__objectResolvers.get("headerBackgroundColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("headerBackgroundColor",{resolver:r,watchCallback:this.__onResolverForHeaderBackgroundColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForHeaderBackgroundColorWatchCallback)})},o.prototype.getHeaderBackgroundColor=function(){return this.__headerBackgroundColor},o.prototype.__processHeaderBackgroundColor=function(){e.StyleProvider.processBackgroundColor(this.__element[0].querySelectorAll(".TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header-border th, .TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-placeholder"),this.__headerBackgroundColor)},o.prototype.setHeaderTextColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("HeaderTextColor"));var o=this.__objectResolvers.get("headerTextColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("headerTextColor",{resolver:r,watchCallback:this.__onResolverForHeaderTextColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForHeaderTextColorWatchCallback)})},o.prototype.getHeaderTextColor=function(){return this.__headerTextColor},o.prototype.__processHeaderTextColor=function(){e.StyleProvider.processTextColor(this.__elementHeaderTable[0].querySelectorAll("th.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header:not(.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers)"),this.__headerTextColor)},o.prototype.setRowNumbersTextColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersTextColor"));var o=this.__objectResolvers.get("rowNumbersTextColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("rowNumbersTextColor",{resolver:r,watchCallback:this.__onResolverForRowNumbersTextColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForRowNumbersTextColorWatchCallback)})},o.prototype.getRowNumbersTextColor=function(){return this.__rowNumbersTextColor},o.prototype.__processRowNumbersTextColor=function(){e.StyleProvider.processTextColor(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers"),this.__rowNumbersTextColor)},o.prototype.setRowNumbersBackgroundColor=function(valueNew){var t=e.ValueConverter.toObject(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersBackgroundColor"));var o=this.__objectResolvers.get("rowNumbersBackgroundColor");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());var r=new e.Symbol.ObjectResolver(t);this.__objectResolvers.set("rowNumbersBackgroundColor",{resolver:r,watchCallback:this.__onResolverForRowNumbersBackgroundColorWatchCallback,watchDestroyer:r.watch(this.__onResolverForRowNumbersBackgroundColorWatchCallback)})},o.prototype.getRowNumbersBackgroundColor=function(){return this.__rowNumbersBackgroundColor},o.prototype.__processRowNumbersBackgroundColor=function(){e.StyleProvider.processBackgroundColor(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers"),this.__rowNumbersBackgroundColor)},o.prototype.setHeaderFontFamily=function(valueNew){var t=e.ValueConverter.toFontFamily(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("HeaderFontFamily")),t!==this.__headerFontFamily&&(this.__headerFontFamily=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getHeaderFontFamily"]),this.__processHeaderFontFamily())},o.prototype.getHeaderFontFamily=function(){return this.__headerFontFamily},o.prototype.__processHeaderFontFamily=function(){e.StyleProvider.processFontFamily(this.__elementHeaderTable[0].querySelectorAll("th.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header"),this.__headerFontFamily)},o.prototype.setHeaderFontSize=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("HeaderFontSize")),t!==this.__headerFontSize&&(this.__headerFontSize=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getHeaderFontSize"]),this.__processHeaderFontSize())},o.prototype.getHeaderFontSize=function(){return this.__headerFontSize},o.prototype.__processHeaderFontSize=function(){e.StyleProvider.processFontSize(this.__elementHeaderTable[0].querySelectorAll("th.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header"),this.__headerFontSize,this.__headerFontSizeUnit)},o.prototype.setHeaderFontSizeUnit=function(valueNew){var t=e.ValueConverter.toFontSizeUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("HeaderFontSizeUnit")),t!==this.__headerFontSizeUnit&&(this.__headerFontSizeUnit=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getHeaderFontSizeUnit"]),this.__processHeaderFontSizeUnit())},o.prototype.getHeaderFontSizeUnit=function(){return this.__headerFontSizeUnit},o.prototype.__processHeaderFontSizeUnit=function(){this.__processHeaderFontSize()},o.prototype.setHeaderFontStyle=function(valueNew){var t=e.ValueConverter.toFontStyle(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("HeaderFontStyle")),t!==this.__headerFontStyle&&(this.__headerFontStyle=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getHeaderFontStyle"]),this.__processHeaderFontStyle())},o.prototype.getHeaderFontStyle=function(){return this.__headerFontStyle},o.prototype.__processHeaderFontStyle=function(){e.StyleProvider.processFontStyle(this.__elementHeaderTable[0].querySelectorAll("th.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header"),this.__headerFontStyle)},o.prototype.setHeaderFontWeight=function(valueNew){var t=e.ValueConverter.toFontWeight(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("HeaderFontWeight")),t!==this.__headerFontWeight&&(this.__headerFontWeight=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getHeaderFontWeight"]),this.__processHeaderFontWeight())},o.prototype.getHeaderFontWeight=function(){return this.__headerFontWeight},o.prototype.__processHeaderFontWeight=function(){e.StyleProvider.processFontWeight(this.__elementHeaderTable[0].querySelectorAll("th.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-header"),this.__headerFontWeight)},o.prototype.setGridFontFamily=function(valueNew){var t=e.ValueConverter.toFontFamily(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("GridFontFamily")),t!==this.__gridFontFamily&&(this.__gridFontFamily=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridFontFamily"]),this.__processGridFontFamily())},o.prototype.getGridFontFamily=function(){return this.__gridFontFamily},o.prototype.__processGridFontFamily=function(){e.StyleProvider.processFontFamily(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-cell"),this.__gridFontFamily)},o.prototype.setGridFontSize=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("GridFontSize")),t!==this.__gridFontSize&&(this.__gridFontSize=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridFontSize"]),this.__processGridFontSize())},o.prototype.getGridFontSize=function(){return this.__gridFontSize},o.prototype.__processGridFontSize=function(){void 0!==this.__gridFontSize&&void 0!==this.__gridFontSizeUnit&&e.StyleProvider.processFontSize(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-cell"),this.__gridFontSize,this.__gridFontSizeUnit)},o.prototype.setGridFontSizeUnit=function(valueNew){var t=e.ValueConverter.toFontSizeUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("GridFontSizeUnit")),t!==this.__gridFontSizeUnit&&(this.__gridFontSizeUnit=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridFontSizeUnit"]),this.__processGridFontSizeUnit())},o.prototype.getGridFontSizeUnit=function(){return this.__gridFontSizeUnit},o.prototype.__processGridFontSizeUnit=function(){this.__processGridFontSize()},o.prototype.setGridFontStyle=function(valueNew){var t=e.ValueConverter.toFontStyle(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("GridFontStyle")),t!==this.__gridFontStyle&&(this.__gridFontStyle=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridFontStyle"]),this.__processGridFontStyle())},o.prototype.getGridFontStyle=function(){return this.__gridFontStyle},o.prototype.__processGridFontStyle=function(){e.StyleProvider.processFontStyle(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-cell"),this.__gridFontStyle)},o.prototype.setGridFontWeight=function(valueNew){var t=e.ValueConverter.toFontWeight(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("GridFontWeight")),t!==this.__gridFontWeight&&(this.__gridFontWeight=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getGridFontWeight"]),this.__processGridFontWeight())},o.prototype.getGridFontWeight=function(){return this.__gridFontWeight},o.prototype.__processGridFontWeight=function(){e.StyleProvider.processFontWeight(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-cell"),this.__gridFontWeight)},o.prototype.setRowNumbersFontFamily=function(valueNew){var t=e.ValueConverter.toFontFamily(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersFontFamily")),t!==this.__rowNumbersFontFamily&&(this.__rowNumbersFontFamily=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowNumbersFontFamily"]),this.__processRowNumbersFontFamily())},o.prototype.getRowNumbersFontFamily=function(){return this.__rowNumbersFontFamily},o.prototype.__processRowNumbersFontFamily=function(){e.StyleProvider.processFontFamily(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers"),this.__rowNumbersFontFamily)},o.prototype.setRowNumbersFontSize=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersFontSize")),t!==this.__rowNumbersFontSize&&(this.__rowNumbersFontSize=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowNumbersFontSize"]),this.__processRowNumbersFontSize())},o.prototype.getRowNumbersFontSize=function(){return this.__rowNumbersFontSize},o.prototype.__processRowNumbersFontSize=function(){void 0!==this.__rowNumbersFontSize&&void 0!==this.__rowNumbersFontSizeUnit&&e.StyleProvider.processFontSize(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers"),this.__rowNumbersFontSize,this.__rowNumbersFontSizeUnit)},o.prototype.setRowNumbersFontSizeUnit=function(valueNew){var t=e.ValueConverter.toFontSizeUnit(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersFontSizeUnit")),t!==this.__rowNumbersFontSizeUnit&&(this.__rowNumbersFontSizeUnit=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowNumbersFontSizeUnit"]),this.__processRowNumbersFontSizeUnit())},o.prototype.getRowNumbersFontSizeUnit=function(){return this.__rowNumbersFontSizeUnit},o.prototype.__processRowNumbersFontSizeUnit=function(){this.__processRowNumbersFontSize()},o.prototype.setRowNumbersFontStyle=function(valueNew){var t=e.ValueConverter.toFontStyle(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersFontStyle")),t!==this.__rowNumbersFontStyle&&(this.__rowNumbersFontStyle=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowNumbersFontStyle"]),this.__processRowNumbersFontStyle())},o.prototype.getRowNumbersFontStyle=function(){return this.__rowNumbersFontStyle},o.prototype.__processRowNumbersFontStyle=function(){e.StyleProvider.processFontStyle(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers"),this.__rowNumbersFontStyle)},o.prototype.setRowNumbersFontWeight=function(valueNew){var t=e.ValueConverter.toFontWeight(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("RowNumbersFontWeight")),t!==this.__rowNumbersFontWeight&&(this.__rowNumbersFontWeight=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getRowNumbersFontWeight"]),this.__processRowNumbersFontWeight())},o.prototype.getRowNumbersFontWeight=function(){return this.__rowNumbersFontWeight},o.prototype.__processRowNumbersFontWeight=function(){e.StyleProvider.processFontWeight(this.__element[0].querySelectorAll("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers"),this.__rowNumbersFontWeight)},o.prototype.setSelectedRowIndex=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("SelectedRowIndex")),null!==this.__selectedCell&&t===this.__selectedCell.rowIndex||(null!==t?null===this.__selectedCell?this.__selectedCell={rowIndex:t,columnIndex:-1}:this.__selectedCell.rowIndex=t:null!==this.__selectedCell&&(this.__selectedCell.rowIndex=null),e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSelectedRowIndex","getSelectedRowValue","getSelectedCellValue"]),this.__processSelectedRowIndex())},o.prototype.getSelectedRowIndex=function(){return null!==this.__selectedCell?this.__selectedCell.rowIndex:null},o.prototype.__processSelectedRowIndex=function(){if(this.__elementDataTableBody.find("tr.focused, td.focused").removeClass("focused"),null!==this.__selectedCell&&null!==this.__selectedCell.rowIndex){var e=this.__elementDataTableBody.find("tr[data-row="+this.__selectedCell.rowIndex+"]").addClass("focused");e.length>0&&(-1===this.__selectedCell.columnIndex?e.find("td.TcHmi_Controls_Beckhoff_TcHmiDatagrid-template-row-numbers").addClass("focused"):e.find("td[data-column="+this.__selectedCell.columnIndex+"]").addClass("focused"))}},o.prototype.setSelectedColumnIndex=function(valueNew){var t=e.ValueConverter.toNumber(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("SelectedColumnIndex")),null!==this.__selectedCell&&t===this.__selectedCell.columnIndex||(null!==t?null===this.__selectedCell?this.__selectedCell={rowIndex:null,columnIndex:t}:this.__selectedCell.columnIndex=t:null!==this.__selectedCell&&(this.__selectedCell.columnIndex=-1),e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getSelectedColumnIndex","getSelectedCellValue"]),this.__processSelectedColumnIndex())},o.prototype.getSelectedColumnIndex=function(){return null!==this.__selectedCell?this.__selectedCell.columnIndex:null},o.prototype.__processSelectedColumnIndex=function(){this.__processSelectedRowIndex()},o.prototype.getSrcDataHasChanged=function(){return this.__srcDataHasChanged},o.prototype.getSelectedCellValue=function(){if(this.__srcData&&null!==this.__selectedCell&&null!==this.__selectedCell.rowIndex&&null!==this.__selectedCell.columnIndex&&this.__srcData.length>this.__selectedCell.rowIndex){var e=this.__internalSrcColumn[this.__selectedCell.columnIndex];return o.isSimpleColumn(e)?this.__srcData[this.__selectedCell.rowIndex]:this.__readObjectProperty(this.__srcData[this.__selectedCell.rowIndex],e.name)}return null},o.prototype.getSelectedRowValue=function(){return this.__srcData&&null!==this.__selectedCell&&null!==this.__selectedCell.rowIndex&&this.__srcData.length>this.__selectedCell.rowIndex?this.__srcData[this.__selectedCell.rowIndex]:null},o.prototype.setWidthMode=function(valueNew){var t=e.ValueConverter.toSizeModeWithContent(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("WidthMode")),t!==this.__widthMode&&(this.__widthMode=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getWidthMode"]),this.__processWidthMode())},o.prototype.__getContentWidth=function(){var e=this,t=this.__columnWidths.reduce(function(t,o,r){return 0!==r||e.__showRowNumbers?t+Math.max("px"===o.widthUnit?o.width:0,"px"===o.minWidthUnit?o.minWidth:0):t},0);if(this.__isAttached){var o=this.__elementDataScroll[0];t+=o.offsetWidth-o.clientWidth}return 0!==t?t:null},o.prototype.__processWidth=function(){if("Content"===this.getWidthMode()){var o=this.__getContentWidth();if(o===this.__contentWidth)return;this.__contentWidth=o;var r="";null!==o&&(r=o+"px"),e.StyleProvider.setSimpleElementStyle(this.__element,"width",r)}else this.__contentWidth=null;t.prototype.__processWidth.call(this)},o.prototype.setHeightMode=function(valueNew){var t=e.ValueConverter.toSizeModeWithContent(valueNew);null===t&&(t=this.getAttributeDefaultValueInternal("HeightMode")),t!==this.__heightMode&&(this.__heightMode=t,e.EventProvider.raise(this.__id+".onFunctionResultChanged",["getHeightMode"]),this.__processHeightMode())},o.prototype.__getContentHeight=function(){var e=("px"===this.__headerHeightUnit&&this.__headerHeight||0)+(this.__srcData?this.__srcData.length*(this.__rowHeight||0):0);if(this.__isAttached){var t=this.__elementDataScroll[0];e+=t.offsetHeight-t.clientHeight}return 0!==e?e:null},o.prototype.__processHeight=function(){if("Content"===this.getHeightMode()){var e=this.__getContentHeight();if(e===this.__contentHeight)return;this.__contentHeight=e,this.__intHeight=null!==e?e+"px":null}else this.__contentHeight=null;t.prototype.__processHeight.call(this)},o.prototype.__lock=function(e,t){this.__lockState={row:e,column:t,propertyName:null};var r=this.__internalSrcColumn[t];o.isSimpleColumn(r)||(this.__lockState.propertyName=r.name)},o.prototype.__unlock=function(){if(this.__srcData&&this.__lockState){var e=this.__scrollInfo.firstIndex-this.__scrollInfo.buffer;e=e>0?e:0;var t=this.__scrollInfo.firstIndex+this.__scrollInfo.rowCount+this.__scrollInfo.buffer;t=t<=this.__srcData.length?t:this.__srcData.length;var o=this.__sortMap&&this.__sortMap.length===this.__srcData.length?this.__sortMap.indexOf(this.__lockState.row):this.__lockState.row;this.__lockState=null;var r=this.__elementDataTableBody[0];o<e&&r.firstElementChild?r.removeChild(r.firstElementChild):o>=t&&r.lastElementChild&&r.removeChild(r.lastElementChild)}},o.prototype.__processIsEnabled=function(){t.prototype.__processIsEnabled.call(this),!this.getIsEnabled()&&this.__selectedCombobox&&this.__closeCombobox()},o}(e.Controls.System.TcHmiControl);t.TcHmiDatagrid=o,function(e){e.isSimpleColumn=function(e){return e&&void 0===e.name}}(o=t.TcHmiDatagrid||(t.TcHmiDatagrid={}))}(t.Beckhoff||(t.Beckhoff={})),t.registerEx("TcHmiDatagrid","TcHmi.Controls.Beckhoff",e.Controls.Beckhoff.TcHmiDatagrid)}(e.Controls||(e.Controls={}))}(TcHmi||(TcHmi={}));